(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var We=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function kf(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var Tc={exports:{}},zi={},Nc={exports:{}},oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vs=Symbol.for("react.element"),xf=Symbol.for("react.portal"),Sf=Symbol.for("react.fragment"),bf=Symbol.for("react.strict_mode"),Ef=Symbol.for("react.profiler"),Cf=Symbol.for("react.provider"),jf=Symbol.for("react.context"),Tf=Symbol.for("react.forward_ref"),Nf=Symbol.for("react.suspense"),Af=Symbol.for("react.memo"),Pf=Symbol.for("react.lazy"),Vl=Symbol.iterator;function Of(t){return t===null||typeof t!="object"?null:(t=Vl&&t[Vl]||t["@@iterator"],typeof t=="function"?t:null)}var Ac={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Pc=Object.assign,Oc={};function yn(t,e,r){this.props=t,this.context=e,this.refs=Oc,this.updater=r||Ac}yn.prototype.isReactComponent={};yn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};yn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ic(){}Ic.prototype=yn.prototype;function Ha(t,e,r){this.props=t,this.context=e,this.refs=Oc,this.updater=r||Ac}var Va=Ha.prototype=new Ic;Va.constructor=Ha;Pc(Va,yn.prototype);Va.isPureReactComponent=!0;var ql=Array.isArray,Rc=Object.prototype.hasOwnProperty,qa={current:null},zc={key:!0,ref:!0,__self:!0,__source:!0};function Dc(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Rc.call(e,n)&&!zc.hasOwnProperty(n)&&(s[n]=e[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:vs,type:t,key:i,ref:o,props:s,_owner:qa.current}}function If(t,e){return{$$typeof:vs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ka(t){return typeof t=="object"&&t!==null&&t.$$typeof===vs}function Rf(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Kl=/\/+/g;function no(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Rf(""+t.key):e.toString(36)}function Zs(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case vs:case xf:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+no(o,0):n,ql(s)?(r="",t!=null&&(r=t.replace(Kl,"$&/")+"/"),Zs(s,e,r,"",function(u){return u})):s!=null&&(Ka(s)&&(s=If(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Kl,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",ql(t))for(var a=0;a<t.length;a++){i=t[a];var l=n+no(i,a);o+=Zs(i,e,r,l,s)}else if(l=Of(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=n+no(i,a++),o+=Zs(i,e,r,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function js(t,e,r){if(t==null)return t;var n=[],s=0;return Zs(t,n,"","",function(i){return e.call(r,i,s++)}),n}function zf(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ke={current:null},Qs={transition:null},Df={ReactCurrentDispatcher:Ke,ReactCurrentBatchConfig:Qs,ReactCurrentOwner:qa};function Lc(){throw Error("act(...) is not supported in production builds of React.")}oe.Children={map:js,forEach:function(t,e,r){js(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return js(t,function(){e++}),e},toArray:function(t){return js(t,function(e){return e})||[]},only:function(t){if(!Ka(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};oe.Component=yn;oe.Fragment=Sf;oe.Profiler=Ef;oe.PureComponent=Ha;oe.StrictMode=bf;oe.Suspense=Nf;oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Df;oe.act=Lc;oe.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Pc({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=qa.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Rc.call(e,l)&&!zc.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:vs,type:t.type,key:s,ref:i,props:n,_owner:o}};oe.createContext=function(t){return t={$$typeof:jf,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Cf,_context:t},t.Consumer=t};oe.createElement=Dc;oe.createFactory=function(t){var e=Dc.bind(null,t);return e.type=t,e};oe.createRef=function(){return{current:null}};oe.forwardRef=function(t){return{$$typeof:Tf,render:t}};oe.isValidElement=Ka;oe.lazy=function(t){return{$$typeof:Pf,_payload:{_status:-1,_result:t},_init:zf}};oe.memo=function(t,e){return{$$typeof:Af,type:t,compare:e===void 0?null:e}};oe.startTransition=function(t){var e=Qs.transition;Qs.transition={};try{t()}finally{Qs.transition=e}};oe.unstable_act=Lc;oe.useCallback=function(t,e){return Ke.current.useCallback(t,e)};oe.useContext=function(t){return Ke.current.useContext(t)};oe.useDebugValue=function(){};oe.useDeferredValue=function(t){return Ke.current.useDeferredValue(t)};oe.useEffect=function(t,e){return Ke.current.useEffect(t,e)};oe.useId=function(){return Ke.current.useId()};oe.useImperativeHandle=function(t,e,r){return Ke.current.useImperativeHandle(t,e,r)};oe.useInsertionEffect=function(t,e){return Ke.current.useInsertionEffect(t,e)};oe.useLayoutEffect=function(t,e){return Ke.current.useLayoutEffect(t,e)};oe.useMemo=function(t,e){return Ke.current.useMemo(t,e)};oe.useReducer=function(t,e,r){return Ke.current.useReducer(t,e,r)};oe.useRef=function(t){return Ke.current.useRef(t)};oe.useState=function(t){return Ke.current.useState(t)};oe.useSyncExternalStore=function(t,e,r){return Ke.current.useSyncExternalStore(t,e,r)};oe.useTransition=function(){return Ke.current.useTransition()};oe.version="18.3.1";Nc.exports=oe;var ae=Nc.exports;const Gl=jc(ae);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lf=ae,Uf=Symbol.for("react.element"),$f=Symbol.for("react.fragment"),Ff=Object.prototype.hasOwnProperty,Bf=Lf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Mf={key:!0,ref:!0,__self:!0,__source:!0};function Uc(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)Ff.call(e,n)&&!Mf.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:Uf,type:t,key:i,ref:o,props:s,_owner:Bf.current}}zi.Fragment=$f;zi.jsx=Uc;zi.jsxs=Uc;Tc.exports=zi;var S=Tc.exports,$c={exports:{}},ot={},Fc={exports:{}},Bc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(W,$){var G=W.length;W.push($);e:for(;0<G;){var R=G-1>>>1,I=W[R];if(0<s(I,$))W[R]=$,W[G]=I,G=R;else break e}}function r(W){return W.length===0?null:W[0]}function n(W){if(W.length===0)return null;var $=W[0],G=W.pop();if(G!==$){W[0]=G;e:for(var R=0,I=W.length,te=I>>>1;R<te;){var Y=2*(R+1)-1,Q=W[Y],he=Y+1,be=W[he];if(0>s(Q,G))he<I&&0>s(be,Q)?(W[R]=be,W[he]=G,R=he):(W[R]=Q,W[Y]=G,R=Y);else if(he<I&&0>s(be,G))W[R]=be,W[he]=G,R=he;else break e}}return $}function s(W,$){var G=W.sortIndex-$.sortIndex;return G!==0?G:W.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,v=3,p=!1,_=!1,y=!1,k=typeof setTimeout=="function"?setTimeout:null,c=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(W){for(var $=r(u);$!==null;){if($.callback===null)n(u);else if($.startTime<=W)n(u),$.sortIndex=$.expirationTime,e(l,$);else break;$=r(u)}}function x(W){if(y=!1,m(W),!_)if(r(l)!==null)_=!0,re(E);else{var $=r(u);$!==null&&V(x,$.startTime-W)}}function E(W,$){_=!1,y&&(y=!1,c(P),P=-1),p=!0;var G=v;try{for(m($),h=r(l);h!==null&&(!(h.expirationTime>$)||W&&!J());){var R=h.callback;if(typeof R=="function"){h.callback=null,v=h.priorityLevel;var I=R(h.expirationTime<=$);$=t.unstable_now(),typeof I=="function"?h.callback=I:h===r(l)&&n(l),m($)}else n(l);h=r(l)}if(h!==null)var te=!0;else{var Y=r(u);Y!==null&&V(x,Y.startTime-$),te=!1}return te}finally{h=null,v=G,p=!1}}var T=!1,j=null,P=-1,O=5,D=-1;function J(){return!(t.unstable_now()-D<O)}function N(){if(j!==null){var W=t.unstable_now();D=W;var $=!0;try{$=j(!0,W)}finally{$?L():(T=!1,j=null)}}else T=!1}var L;if(typeof f=="function")L=function(){f(N)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,F=w.port2;w.port1.onmessage=N,L=function(){F.postMessage(null)}}else L=function(){k(N,0)};function re(W){j=W,T||(T=!0,L())}function V(W,$){P=k(function(){W(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){_||p||(_=!0,re(E))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(W){switch(v){case 1:case 2:case 3:var $=3;break;default:$=v}var G=v;v=$;try{return W()}finally{v=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,$){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var G=v;v=W;try{return $()}finally{v=G}},t.unstable_scheduleCallback=function(W,$,G){var R=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?R+G:R):G=R,W){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=G+I,W={id:d++,callback:$,priorityLevel:W,startTime:G,expirationTime:I,sortIndex:-1},G>R?(W.sortIndex=G,e(u,W),r(l)===null&&W===r(u)&&(y?(c(P),P=-1):y=!0,V(x,G-R))):(W.sortIndex=I,e(l,W),_||p||(_=!0,re(E))),W},t.unstable_shouldYield=J,t.unstable_wrapCallback=function(W){var $=v;return function(){var G=v;v=$;try{return W.apply(this,arguments)}finally{v=G}}}})(Bc);Fc.exports=Bc;var Wf=Fc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hf=ae,it=Wf;function q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Mc=new Set,Xn={};function Ir(t,e){un(t,e),un(t+"Capture",e)}function un(t,e){for(Xn[t]=e,t=0;t<e.length;t++)Mc.add(e[t])}var Bt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Uo=Object.prototype.hasOwnProperty,Vf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Zl={},Ql={};function qf(t){return Uo.call(Ql,t)?!0:Uo.call(Zl,t)?!1:Vf.test(t)?Ql[t]=!0:(Zl[t]=!0,!1)}function Kf(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Gf(t,e,r,n){if(e===null||typeof e>"u"||Kf(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ge(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var $e={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){$e[t]=new Ge(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];$e[e]=new Ge(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){$e[t]=new Ge(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){$e[t]=new Ge(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){$e[t]=new Ge(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){$e[t]=new Ge(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){$e[t]=new Ge(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){$e[t]=new Ge(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){$e[t]=new Ge(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ga=/[\-:]([a-z])/g;function Za(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ga,Za);$e[e]=new Ge(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ga,Za);$e[e]=new Ge(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ga,Za);$e[e]=new Ge(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){$e[t]=new Ge(t,1,!1,t.toLowerCase(),null,!1,!1)});$e.xlinkHref=new Ge("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){$e[t]=new Ge(t,1,!1,t.toLowerCase(),null,!0,!0)});function Qa(t,e,r,n){var s=$e.hasOwnProperty(e)?$e[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Gf(e,r,s,n)&&(r=null),n||s===null?qf(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Vt=Hf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ts=Symbol.for("react.element"),Hr=Symbol.for("react.portal"),Vr=Symbol.for("react.fragment"),Ja=Symbol.for("react.strict_mode"),$o=Symbol.for("react.profiler"),Wc=Symbol.for("react.provider"),Hc=Symbol.for("react.context"),Ya=Symbol.for("react.forward_ref"),Fo=Symbol.for("react.suspense"),Bo=Symbol.for("react.suspense_list"),Xa=Symbol.for("react.memo"),Zt=Symbol.for("react.lazy"),Vc=Symbol.for("react.offscreen"),Jl=Symbol.iterator;function Cn(t){return t===null||typeof t!="object"?null:(t=Jl&&t[Jl]||t["@@iterator"],typeof t=="function"?t:null)}var xe=Object.assign,so;function zn(t){if(so===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);so=e&&e[1]||""}return`
`+so+t}var io=!1;function oo(t,e){if(!t||io)return"";io=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{io=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?zn(t):""}function Zf(t){switch(t.tag){case 5:return zn(t.type);case 16:return zn("Lazy");case 13:return zn("Suspense");case 19:return zn("SuspenseList");case 0:case 2:case 15:return t=oo(t.type,!1),t;case 11:return t=oo(t.type.render,!1),t;case 1:return t=oo(t.type,!0),t;default:return""}}function Mo(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Vr:return"Fragment";case Hr:return"Portal";case $o:return"Profiler";case Ja:return"StrictMode";case Fo:return"Suspense";case Bo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Hc:return(t.displayName||"Context")+".Consumer";case Wc:return(t._context.displayName||"Context")+".Provider";case Ya:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Xa:return e=t.displayName||null,e!==null?e:Mo(t.type)||"Memo";case Zt:e=t._payload,t=t._init;try{return Mo(t(e))}catch{}}return null}function Qf(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Mo(e);case 8:return e===Ja?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function cr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function qc(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Jf(t){var e=qc(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ns(t){t._valueTracker||(t._valueTracker=Jf(t))}function Kc(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=qc(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function ai(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Wo(t,e){var r=e.checked;return xe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Yl(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=cr(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Gc(t,e){e=e.checked,e!=null&&Qa(t,"checked",e,!1)}function Ho(t,e){Gc(t,e);var r=cr(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Vo(t,e.type,r):e.hasOwnProperty("defaultValue")&&Vo(t,e.type,cr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Xl(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Vo(t,e,r){(e!=="number"||ai(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Dn=Array.isArray;function rn(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+cr(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function qo(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(q(91));return xe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function eu(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(q(92));if(Dn(r)){if(1<r.length)throw Error(q(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:cr(r)}}function Zc(t,e){var r=cr(e.value),n=cr(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function tu(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Qc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ko(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Qc(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var As,Jc=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(As=As||document.createElement("div"),As.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=As.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function es(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Fn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Yf=["Webkit","ms","Moz","O"];Object.keys(Fn).forEach(function(t){Yf.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Fn[e]=Fn[t]})});function Yc(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Fn.hasOwnProperty(t)&&Fn[t]?(""+e).trim():e+"px"}function Xc(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Yc(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var Xf=xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Go(t,e){if(e){if(Xf[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(q(62))}}function Zo(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qo=null;function el(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Jo=null,nn=null,sn=null;function ru(t){if(t=_s(t)){if(typeof Jo!="function")throw Error(q(280));var e=t.stateNode;e&&(e=Fi(e),Jo(t.stateNode,t.type,e))}}function ed(t){nn?sn?sn.push(t):sn=[t]:nn=t}function td(){if(nn){var t=nn,e=sn;if(sn=nn=null,ru(t),e)for(t=0;t<e.length;t++)ru(e[t])}}function rd(t,e){return t(e)}function nd(){}var ao=!1;function sd(t,e,r){if(ao)return t(e,r);ao=!0;try{return rd(t,e,r)}finally{ao=!1,(nn!==null||sn!==null)&&(nd(),td())}}function ts(t,e){var r=t.stateNode;if(r===null)return null;var n=Fi(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(q(231,e,typeof r));return r}var Yo=!1;if(Bt)try{var jn={};Object.defineProperty(jn,"passive",{get:function(){Yo=!0}}),window.addEventListener("test",jn,jn),window.removeEventListener("test",jn,jn)}catch{Yo=!1}function ep(t,e,r,n,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var Bn=!1,li=null,ui=!1,Xo=null,tp={onError:function(t){Bn=!0,li=t}};function rp(t,e,r,n,s,i,o,a,l){Bn=!1,li=null,ep.apply(tp,arguments)}function np(t,e,r,n,s,i,o,a,l){if(rp.apply(this,arguments),Bn){if(Bn){var u=li;Bn=!1,li=null}else throw Error(q(198));ui||(ui=!0,Xo=u)}}function Rr(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function id(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function nu(t){if(Rr(t)!==t)throw Error(q(188))}function sp(t){var e=t.alternate;if(!e){if(e=Rr(t),e===null)throw Error(q(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return nu(s),t;if(i===n)return nu(s),e;i=i.sibling}throw Error(q(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(q(189))}}if(r.alternate!==n)throw Error(q(190))}if(r.tag!==3)throw Error(q(188));return r.stateNode.current===r?t:e}function od(t){return t=sp(t),t!==null?ad(t):null}function ad(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ad(t);if(e!==null)return e;t=t.sibling}return null}var ld=it.unstable_scheduleCallback,su=it.unstable_cancelCallback,ip=it.unstable_shouldYield,op=it.unstable_requestPaint,je=it.unstable_now,ap=it.unstable_getCurrentPriorityLevel,tl=it.unstable_ImmediatePriority,ud=it.unstable_UserBlockingPriority,ci=it.unstable_NormalPriority,lp=it.unstable_LowPriority,cd=it.unstable_IdlePriority,Di=null,At=null;function up(t){if(At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(Di,t,void 0,(t.current.flags&128)===128)}catch{}}var xt=Math.clz32?Math.clz32:hp,cp=Math.log,dp=Math.LN2;function hp(t){return t>>>=0,t===0?32:31-(cp(t)/dp|0)|0}var Ps=64,Os=4194304;function Ln(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function di(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=Ln(a):(i&=o,i!==0&&(n=Ln(i)))}else o=r&~s,o!==0?n=Ln(o):i!==0&&(n=Ln(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-xt(e),s=1<<r,n|=t[r],e&=~s;return n}function fp(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pp(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-xt(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=fp(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function ea(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function dd(){var t=Ps;return Ps<<=1,!(Ps&4194240)&&(Ps=64),t}function lo(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function ys(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-xt(e),t[e]=r}function mp(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-xt(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function rl(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-xt(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var fe=0;function hd(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var fd,nl,pd,md,gd,ta=!1,Is=[],rr=null,nr=null,sr=null,rs=new Map,ns=new Map,Jt=[],gp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function iu(t,e){switch(t){case"focusin":case"focusout":rr=null;break;case"dragenter":case"dragleave":nr=null;break;case"mouseover":case"mouseout":sr=null;break;case"pointerover":case"pointerout":rs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ns.delete(e.pointerId)}}function Tn(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=_s(e),e!==null&&nl(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function vp(t,e,r,n,s){switch(e){case"focusin":return rr=Tn(rr,t,e,r,n,s),!0;case"dragenter":return nr=Tn(nr,t,e,r,n,s),!0;case"mouseover":return sr=Tn(sr,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return rs.set(i,Tn(rs.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,ns.set(i,Tn(ns.get(i)||null,t,e,r,n,s)),!0}return!1}function vd(t){var e=xr(t.target);if(e!==null){var r=Rr(e);if(r!==null){if(e=r.tag,e===13){if(e=id(r),e!==null){t.blockedOn=e,gd(t.priority,function(){pd(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Js(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=ra(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Qo=n,r.target.dispatchEvent(n),Qo=null}else return e=_s(r),e!==null&&nl(e),t.blockedOn=r,!1;e.shift()}return!0}function ou(t,e,r){Js(t)&&r.delete(e)}function yp(){ta=!1,rr!==null&&Js(rr)&&(rr=null),nr!==null&&Js(nr)&&(nr=null),sr!==null&&Js(sr)&&(sr=null),rs.forEach(ou),ns.forEach(ou)}function Nn(t,e){t.blockedOn===e&&(t.blockedOn=null,ta||(ta=!0,it.unstable_scheduleCallback(it.unstable_NormalPriority,yp)))}function ss(t){function e(s){return Nn(s,t)}if(0<Is.length){Nn(Is[0],t);for(var r=1;r<Is.length;r++){var n=Is[r];n.blockedOn===t&&(n.blockedOn=null)}}for(rr!==null&&Nn(rr,t),nr!==null&&Nn(nr,t),sr!==null&&Nn(sr,t),rs.forEach(e),ns.forEach(e),r=0;r<Jt.length;r++)n=Jt[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Jt.length&&(r=Jt[0],r.blockedOn===null);)vd(r),r.blockedOn===null&&Jt.shift()}var on=Vt.ReactCurrentBatchConfig,hi=!0;function wp(t,e,r,n){var s=fe,i=on.transition;on.transition=null;try{fe=1,sl(t,e,r,n)}finally{fe=s,on.transition=i}}function _p(t,e,r,n){var s=fe,i=on.transition;on.transition=null;try{fe=4,sl(t,e,r,n)}finally{fe=s,on.transition=i}}function sl(t,e,r,n){if(hi){var s=ra(t,e,r,n);if(s===null)wo(t,e,n,fi,r),iu(t,n);else if(vp(s,t,e,r,n))n.stopPropagation();else if(iu(t,n),e&4&&-1<gp.indexOf(t)){for(;s!==null;){var i=_s(s);if(i!==null&&fd(i),i=ra(t,e,r,n),i===null&&wo(t,e,n,fi,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else wo(t,e,n,null,r)}}var fi=null;function ra(t,e,r,n){if(fi=null,t=el(n),t=xr(t),t!==null)if(e=Rr(t),e===null)t=null;else if(r=e.tag,r===13){if(t=id(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return fi=t,null}function yd(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ap()){case tl:return 1;case ud:return 4;case ci:case lp:return 16;case cd:return 536870912;default:return 16}default:return 16}}var er=null,il=null,Ys=null;function wd(){if(Ys)return Ys;var t,e=il,r=e.length,n,s="value"in er?er.value:er.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return Ys=s.slice(t,1<n?1-n:void 0)}function Xs(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Rs(){return!0}function au(){return!1}function at(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Rs:au,this.isPropagationStopped=au,this}return xe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Rs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Rs)},persist:function(){},isPersistent:Rs}),e}var wn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ol=at(wn),ws=xe({},wn,{view:0,detail:0}),kp=at(ws),uo,co,An,Li=xe({},ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:al,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==An&&(An&&t.type==="mousemove"?(uo=t.screenX-An.screenX,co=t.screenY-An.screenY):co=uo=0,An=t),uo)},movementY:function(t){return"movementY"in t?t.movementY:co}}),lu=at(Li),xp=xe({},Li,{dataTransfer:0}),Sp=at(xp),bp=xe({},ws,{relatedTarget:0}),ho=at(bp),Ep=xe({},wn,{animationName:0,elapsedTime:0,pseudoElement:0}),Cp=at(Ep),jp=xe({},wn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Tp=at(jp),Np=xe({},wn,{data:0}),uu=at(Np),Ap={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Op={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ip(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Op[t])?!!e[t]:!1}function al(){return Ip}var Rp=xe({},ws,{key:function(t){if(t.key){var e=Ap[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Xs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Pp[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:al,charCode:function(t){return t.type==="keypress"?Xs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zp=at(Rp),Dp=xe({},Li,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cu=at(Dp),Lp=xe({},ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:al}),Up=at(Lp),$p=xe({},wn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fp=at($p),Bp=xe({},Li,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Mp=at(Bp),Wp=[9,13,27,32],ll=Bt&&"CompositionEvent"in window,Mn=null;Bt&&"documentMode"in document&&(Mn=document.documentMode);var Hp=Bt&&"TextEvent"in window&&!Mn,_d=Bt&&(!ll||Mn&&8<Mn&&11>=Mn),du=" ",hu=!1;function kd(t,e){switch(t){case"keyup":return Wp.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qr=!1;function Vp(t,e){switch(t){case"compositionend":return xd(e);case"keypress":return e.which!==32?null:(hu=!0,du);case"textInput":return t=e.data,t===du&&hu?null:t;default:return null}}function qp(t,e){if(qr)return t==="compositionend"||!ll&&kd(t,e)?(t=wd(),Ys=il=er=null,qr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return _d&&e.locale!=="ko"?null:e.data;default:return null}}var Kp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Kp[t.type]:e==="textarea"}function Sd(t,e,r,n){ed(n),e=pi(e,"onChange"),0<e.length&&(r=new ol("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Wn=null,is=null;function Gp(t){Rd(t,0)}function Ui(t){var e=Zr(t);if(Kc(e))return t}function Zp(t,e){if(t==="change")return e}var bd=!1;if(Bt){var fo;if(Bt){var po="oninput"in document;if(!po){var pu=document.createElement("div");pu.setAttribute("oninput","return;"),po=typeof pu.oninput=="function"}fo=po}else fo=!1;bd=fo&&(!document.documentMode||9<document.documentMode)}function mu(){Wn&&(Wn.detachEvent("onpropertychange",Ed),is=Wn=null)}function Ed(t){if(t.propertyName==="value"&&Ui(is)){var e=[];Sd(e,is,t,el(t)),sd(Gp,e)}}function Qp(t,e,r){t==="focusin"?(mu(),Wn=e,is=r,Wn.attachEvent("onpropertychange",Ed)):t==="focusout"&&mu()}function Jp(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ui(is)}function Yp(t,e){if(t==="click")return Ui(e)}function Xp(t,e){if(t==="input"||t==="change")return Ui(e)}function em(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var bt=typeof Object.is=="function"?Object.is:em;function os(t,e){if(bt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Uo.call(e,s)||!bt(t[s],e[s]))return!1}return!0}function gu(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function vu(t,e){var r=gu(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=gu(r)}}function Cd(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Cd(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function jd(){for(var t=window,e=ai();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=ai(t.document)}return e}function ul(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function tm(t){var e=jd(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Cd(r.ownerDocument.documentElement,r)){if(n!==null&&ul(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=vu(r,i);var o=vu(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var rm=Bt&&"documentMode"in document&&11>=document.documentMode,Kr=null,na=null,Hn=null,sa=!1;function yu(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;sa||Kr==null||Kr!==ai(n)||(n=Kr,"selectionStart"in n&&ul(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Hn&&os(Hn,n)||(Hn=n,n=pi(na,"onSelect"),0<n.length&&(e=new ol("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Kr)))}function zs(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Gr={animationend:zs("Animation","AnimationEnd"),animationiteration:zs("Animation","AnimationIteration"),animationstart:zs("Animation","AnimationStart"),transitionend:zs("Transition","TransitionEnd")},mo={},Td={};Bt&&(Td=document.createElement("div").style,"AnimationEvent"in window||(delete Gr.animationend.animation,delete Gr.animationiteration.animation,delete Gr.animationstart.animation),"TransitionEvent"in window||delete Gr.transitionend.transition);function $i(t){if(mo[t])return mo[t];if(!Gr[t])return t;var e=Gr[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Td)return mo[t]=e[r];return t}var Nd=$i("animationend"),Ad=$i("animationiteration"),Pd=$i("animationstart"),Od=$i("transitionend"),Id=new Map,wu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hr(t,e){Id.set(t,e),Ir(e,[t])}for(var go=0;go<wu.length;go++){var vo=wu[go],nm=vo.toLowerCase(),sm=vo[0].toUpperCase()+vo.slice(1);hr(nm,"on"+sm)}hr(Nd,"onAnimationEnd");hr(Ad,"onAnimationIteration");hr(Pd,"onAnimationStart");hr("dblclick","onDoubleClick");hr("focusin","onFocus");hr("focusout","onBlur");hr(Od,"onTransitionEnd");un("onMouseEnter",["mouseout","mouseover"]);un("onMouseLeave",["mouseout","mouseover"]);un("onPointerEnter",["pointerout","pointerover"]);un("onPointerLeave",["pointerout","pointerover"]);Ir("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ir("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ir("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ir("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ir("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ir("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Un="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),im=new Set("cancel close invalid load scroll toggle".split(" ").concat(Un));function _u(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,np(n,e,void 0,t),t.currentTarget=null}function Rd(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;_u(s,a,u),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;_u(s,a,u),i=l}}}if(ui)throw t=Xo,ui=!1,Xo=null,t}function ve(t,e){var r=e[ua];r===void 0&&(r=e[ua]=new Set);var n=t+"__bubble";r.has(n)||(zd(e,t,2,!1),r.add(n))}function yo(t,e,r){var n=0;e&&(n|=4),zd(r,t,n,e)}var Ds="_reactListening"+Math.random().toString(36).slice(2);function as(t){if(!t[Ds]){t[Ds]=!0,Mc.forEach(function(r){r!=="selectionchange"&&(im.has(r)||yo(r,!1,t),yo(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ds]||(e[Ds]=!0,yo("selectionchange",!1,e))}}function zd(t,e,r,n){switch(yd(e)){case 1:var s=wp;break;case 4:s=_p;break;default:s=sl}r=s.bind(null,e,r,t),s=void 0,!Yo||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function wo(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=xr(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}sd(function(){var u=i,d=el(r),h=[];e:{var v=Id.get(t);if(v!==void 0){var p=ol,_=t;switch(t){case"keypress":if(Xs(r)===0)break e;case"keydown":case"keyup":p=zp;break;case"focusin":_="focus",p=ho;break;case"focusout":_="blur",p=ho;break;case"beforeblur":case"afterblur":p=ho;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=lu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Sp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Up;break;case Nd:case Ad:case Pd:p=Cp;break;case Od:p=Fp;break;case"scroll":p=kp;break;case"wheel":p=Mp;break;case"copy":case"cut":case"paste":p=Tp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=cu}var y=(e&4)!==0,k=!y&&t==="scroll",c=y?v!==null?v+"Capture":null:v;y=[];for(var f=u,m;f!==null;){m=f;var x=m.stateNode;if(m.tag===5&&x!==null&&(m=x,c!==null&&(x=ts(f,c),x!=null&&y.push(ls(f,x,m)))),k)break;f=f.return}0<y.length&&(v=new p(v,_,null,r,d),h.push({event:v,listeners:y}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",v&&r!==Qo&&(_=r.relatedTarget||r.fromElement)&&(xr(_)||_[Mt]))break e;if((p||v)&&(v=d.window===d?d:(v=d.ownerDocument)?v.defaultView||v.parentWindow:window,p?(_=r.relatedTarget||r.toElement,p=u,_=_?xr(_):null,_!==null&&(k=Rr(_),_!==k||_.tag!==5&&_.tag!==6)&&(_=null)):(p=null,_=u),p!==_)){if(y=lu,x="onMouseLeave",c="onMouseEnter",f="mouse",(t==="pointerout"||t==="pointerover")&&(y=cu,x="onPointerLeave",c="onPointerEnter",f="pointer"),k=p==null?v:Zr(p),m=_==null?v:Zr(_),v=new y(x,f+"leave",p,r,d),v.target=k,v.relatedTarget=m,x=null,xr(d)===u&&(y=new y(c,f+"enter",_,r,d),y.target=m,y.relatedTarget=k,x=y),k=x,p&&_)t:{for(y=p,c=_,f=0,m=y;m;m=Dr(m))f++;for(m=0,x=c;x;x=Dr(x))m++;for(;0<f-m;)y=Dr(y),f--;for(;0<m-f;)c=Dr(c),m--;for(;f--;){if(y===c||c!==null&&y===c.alternate)break t;y=Dr(y),c=Dr(c)}y=null}else y=null;p!==null&&ku(h,v,p,y,!1),_!==null&&k!==null&&ku(h,k,_,y,!0)}}e:{if(v=u?Zr(u):window,p=v.nodeName&&v.nodeName.toLowerCase(),p==="select"||p==="input"&&v.type==="file")var E=Zp;else if(fu(v))if(bd)E=Xp;else{E=Jp;var T=Qp}else(p=v.nodeName)&&p.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(E=Yp);if(E&&(E=E(t,u))){Sd(h,E,r,d);break e}T&&T(t,v,u),t==="focusout"&&(T=v._wrapperState)&&T.controlled&&v.type==="number"&&Vo(v,"number",v.value)}switch(T=u?Zr(u):window,t){case"focusin":(fu(T)||T.contentEditable==="true")&&(Kr=T,na=u,Hn=null);break;case"focusout":Hn=na=Kr=null;break;case"mousedown":sa=!0;break;case"contextmenu":case"mouseup":case"dragend":sa=!1,yu(h,r,d);break;case"selectionchange":if(rm)break;case"keydown":case"keyup":yu(h,r,d)}var j;if(ll)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else qr?kd(t,r)&&(P="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(_d&&r.locale!=="ko"&&(qr||P!=="onCompositionStart"?P==="onCompositionEnd"&&qr&&(j=wd()):(er=d,il="value"in er?er.value:er.textContent,qr=!0)),T=pi(u,P),0<T.length&&(P=new uu(P,t,null,r,d),h.push({event:P,listeners:T}),j?P.data=j:(j=xd(r),j!==null&&(P.data=j)))),(j=Hp?Vp(t,r):qp(t,r))&&(u=pi(u,"onBeforeInput"),0<u.length&&(d=new uu("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=j))}Rd(h,e)})}function ls(t,e,r){return{instance:t,listener:e,currentTarget:r}}function pi(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ts(t,r),i!=null&&n.unshift(ls(t,i,s)),i=ts(t,e),i!=null&&n.push(ls(t,i,s))),t=t.return}return n}function Dr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ku(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,s?(l=ts(r,i),l!=null&&o.unshift(ls(r,l,a))):s||(l=ts(r,i),l!=null&&o.push(ls(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var om=/\r\n?/g,am=/\u0000|\uFFFD/g;function xu(t){return(typeof t=="string"?t:""+t).replace(om,`
`).replace(am,"")}function Ls(t,e,r){if(e=xu(e),xu(t)!==e&&r)throw Error(q(425))}function mi(){}var ia=null,oa=null;function aa(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var la=typeof setTimeout=="function"?setTimeout:void 0,lm=typeof clearTimeout=="function"?clearTimeout:void 0,Su=typeof Promise=="function"?Promise:void 0,um=typeof queueMicrotask=="function"?queueMicrotask:typeof Su<"u"?function(t){return Su.resolve(null).then(t).catch(cm)}:la;function cm(t){setTimeout(function(){throw t})}function _o(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),ss(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);ss(e)}function ir(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function bu(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var _n=Math.random().toString(36).slice(2),Nt="__reactFiber$"+_n,us="__reactProps$"+_n,Mt="__reactContainer$"+_n,ua="__reactEvents$"+_n,dm="__reactListeners$"+_n,hm="__reactHandles$"+_n;function xr(t){var e=t[Nt];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Mt]||r[Nt]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=bu(t);t!==null;){if(r=t[Nt])return r;t=bu(t)}return e}t=r,r=t.parentNode}return null}function _s(t){return t=t[Nt]||t[Mt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Zr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(q(33))}function Fi(t){return t[us]||null}var ca=[],Qr=-1;function fr(t){return{current:t}}function ye(t){0>Qr||(t.current=ca[Qr],ca[Qr]=null,Qr--)}function ge(t,e){Qr++,ca[Qr]=t.current,t.current=e}var dr={},He=fr(dr),Xe=fr(!1),Tr=dr;function cn(t,e){var r=t.type.contextTypes;if(!r)return dr;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function et(t){return t=t.childContextTypes,t!=null}function gi(){ye(Xe),ye(He)}function Eu(t,e,r){if(He.current!==dr)throw Error(q(168));ge(He,e),ge(Xe,r)}function Dd(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(q(108,Qf(t)||"Unknown",s));return xe({},r,n)}function vi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||dr,Tr=He.current,ge(He,t),ge(Xe,Xe.current),!0}function Cu(t,e,r){var n=t.stateNode;if(!n)throw Error(q(169));r?(t=Dd(t,e,Tr),n.__reactInternalMemoizedMergedChildContext=t,ye(Xe),ye(He),ge(He,t)):ye(Xe),ge(Xe,r)}var Lt=null,Bi=!1,ko=!1;function Ld(t){Lt===null?Lt=[t]:Lt.push(t)}function fm(t){Bi=!0,Ld(t)}function pr(){if(!ko&&Lt!==null){ko=!0;var t=0,e=fe;try{var r=Lt;for(fe=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Lt=null,Bi=!1}catch(s){throw Lt!==null&&(Lt=Lt.slice(t+1)),ld(tl,pr),s}finally{fe=e,ko=!1}}return null}var Jr=[],Yr=0,yi=null,wi=0,ut=[],ct=0,Nr=null,Ut=1,$t="";function yr(t,e){Jr[Yr++]=wi,Jr[Yr++]=yi,yi=t,wi=e}function Ud(t,e,r){ut[ct++]=Ut,ut[ct++]=$t,ut[ct++]=Nr,Nr=t;var n=Ut;t=$t;var s=32-xt(n)-1;n&=~(1<<s),r+=1;var i=32-xt(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Ut=1<<32-xt(e)+s|r<<s|n,$t=i+t}else Ut=1<<i|r<<s|n,$t=t}function cl(t){t.return!==null&&(yr(t,1),Ud(t,1,0))}function dl(t){for(;t===yi;)yi=Jr[--Yr],Jr[Yr]=null,wi=Jr[--Yr],Jr[Yr]=null;for(;t===Nr;)Nr=ut[--ct],ut[ct]=null,$t=ut[--ct],ut[ct]=null,Ut=ut[--ct],ut[ct]=null}var st=null,nt=null,we=!1,kt=null;function $d(t,e){var r=dt(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function ju(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,st=t,nt=ir(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,st=t,nt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Nr!==null?{id:Ut,overflow:$t}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=dt(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,st=t,nt=null,!0):!1;default:return!1}}function da(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ha(t){if(we){var e=nt;if(e){var r=e;if(!ju(t,e)){if(da(t))throw Error(q(418));e=ir(r.nextSibling);var n=st;e&&ju(t,e)?$d(n,r):(t.flags=t.flags&-4097|2,we=!1,st=t)}}else{if(da(t))throw Error(q(418));t.flags=t.flags&-4097|2,we=!1,st=t}}}function Tu(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;st=t}function Us(t){if(t!==st)return!1;if(!we)return Tu(t),we=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!aa(t.type,t.memoizedProps)),e&&(e=nt)){if(da(t))throw Fd(),Error(q(418));for(;e;)$d(t,e),e=ir(e.nextSibling)}if(Tu(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){nt=ir(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}nt=null}}else nt=st?ir(t.stateNode.nextSibling):null;return!0}function Fd(){for(var t=nt;t;)t=ir(t.nextSibling)}function dn(){nt=st=null,we=!1}function hl(t){kt===null?kt=[t]:kt.push(t)}var pm=Vt.ReactCurrentBatchConfig;function Pn(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(q(309));var n=r.stateNode}if(!n)throw Error(q(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(q(284));if(!r._owner)throw Error(q(290,t))}return t}function $s(t,e){throw t=Object.prototype.toString.call(e),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Nu(t){var e=t._init;return e(t._payload)}function Bd(t){function e(c,f){if(t){var m=c.deletions;m===null?(c.deletions=[f],c.flags|=16):m.push(f)}}function r(c,f){if(!t)return null;for(;f!==null;)e(c,f),f=f.sibling;return null}function n(c,f){for(c=new Map;f!==null;)f.key!==null?c.set(f.key,f):c.set(f.index,f),f=f.sibling;return c}function s(c,f){return c=ur(c,f),c.index=0,c.sibling=null,c}function i(c,f,m){return c.index=m,t?(m=c.alternate,m!==null?(m=m.index,m<f?(c.flags|=2,f):m):(c.flags|=2,f)):(c.flags|=1048576,f)}function o(c){return t&&c.alternate===null&&(c.flags|=2),c}function a(c,f,m,x){return f===null||f.tag!==6?(f=To(m,c.mode,x),f.return=c,f):(f=s(f,m),f.return=c,f)}function l(c,f,m,x){var E=m.type;return E===Vr?d(c,f,m.props.children,x,m.key):f!==null&&(f.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Zt&&Nu(E)===f.type)?(x=s(f,m.props),x.ref=Pn(c,f,m),x.return=c,x):(x=oi(m.type,m.key,m.props,null,c.mode,x),x.ref=Pn(c,f,m),x.return=c,x)}function u(c,f,m,x){return f===null||f.tag!==4||f.stateNode.containerInfo!==m.containerInfo||f.stateNode.implementation!==m.implementation?(f=No(m,c.mode,x),f.return=c,f):(f=s(f,m.children||[]),f.return=c,f)}function d(c,f,m,x,E){return f===null||f.tag!==7?(f=Cr(m,c.mode,x,E),f.return=c,f):(f=s(f,m),f.return=c,f)}function h(c,f,m){if(typeof f=="string"&&f!==""||typeof f=="number")return f=To(""+f,c.mode,m),f.return=c,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Ts:return m=oi(f.type,f.key,f.props,null,c.mode,m),m.ref=Pn(c,null,f),m.return=c,m;case Hr:return f=No(f,c.mode,m),f.return=c,f;case Zt:var x=f._init;return h(c,x(f._payload),m)}if(Dn(f)||Cn(f))return f=Cr(f,c.mode,m,null),f.return=c,f;$s(c,f)}return null}function v(c,f,m,x){var E=f!==null?f.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return E!==null?null:a(c,f,""+m,x);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ts:return m.key===E?l(c,f,m,x):null;case Hr:return m.key===E?u(c,f,m,x):null;case Zt:return E=m._init,v(c,f,E(m._payload),x)}if(Dn(m)||Cn(m))return E!==null?null:d(c,f,m,x,null);$s(c,m)}return null}function p(c,f,m,x,E){if(typeof x=="string"&&x!==""||typeof x=="number")return c=c.get(m)||null,a(f,c,""+x,E);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ts:return c=c.get(x.key===null?m:x.key)||null,l(f,c,x,E);case Hr:return c=c.get(x.key===null?m:x.key)||null,u(f,c,x,E);case Zt:var T=x._init;return p(c,f,m,T(x._payload),E)}if(Dn(x)||Cn(x))return c=c.get(m)||null,d(f,c,x,E,null);$s(f,x)}return null}function _(c,f,m,x){for(var E=null,T=null,j=f,P=f=0,O=null;j!==null&&P<m.length;P++){j.index>P?(O=j,j=null):O=j.sibling;var D=v(c,j,m[P],x);if(D===null){j===null&&(j=O);break}t&&j&&D.alternate===null&&e(c,j),f=i(D,f,P),T===null?E=D:T.sibling=D,T=D,j=O}if(P===m.length)return r(c,j),we&&yr(c,P),E;if(j===null){for(;P<m.length;P++)j=h(c,m[P],x),j!==null&&(f=i(j,f,P),T===null?E=j:T.sibling=j,T=j);return we&&yr(c,P),E}for(j=n(c,j);P<m.length;P++)O=p(j,c,P,m[P],x),O!==null&&(t&&O.alternate!==null&&j.delete(O.key===null?P:O.key),f=i(O,f,P),T===null?E=O:T.sibling=O,T=O);return t&&j.forEach(function(J){return e(c,J)}),we&&yr(c,P),E}function y(c,f,m,x){var E=Cn(m);if(typeof E!="function")throw Error(q(150));if(m=E.call(m),m==null)throw Error(q(151));for(var T=E=null,j=f,P=f=0,O=null,D=m.next();j!==null&&!D.done;P++,D=m.next()){j.index>P?(O=j,j=null):O=j.sibling;var J=v(c,j,D.value,x);if(J===null){j===null&&(j=O);break}t&&j&&J.alternate===null&&e(c,j),f=i(J,f,P),T===null?E=J:T.sibling=J,T=J,j=O}if(D.done)return r(c,j),we&&yr(c,P),E;if(j===null){for(;!D.done;P++,D=m.next())D=h(c,D.value,x),D!==null&&(f=i(D,f,P),T===null?E=D:T.sibling=D,T=D);return we&&yr(c,P),E}for(j=n(c,j);!D.done;P++,D=m.next())D=p(j,c,P,D.value,x),D!==null&&(t&&D.alternate!==null&&j.delete(D.key===null?P:D.key),f=i(D,f,P),T===null?E=D:T.sibling=D,T=D);return t&&j.forEach(function(N){return e(c,N)}),we&&yr(c,P),E}function k(c,f,m,x){if(typeof m=="object"&&m!==null&&m.type===Vr&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Ts:e:{for(var E=m.key,T=f;T!==null;){if(T.key===E){if(E=m.type,E===Vr){if(T.tag===7){r(c,T.sibling),f=s(T,m.props.children),f.return=c,c=f;break e}}else if(T.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Zt&&Nu(E)===T.type){r(c,T.sibling),f=s(T,m.props),f.ref=Pn(c,T,m),f.return=c,c=f;break e}r(c,T);break}else e(c,T);T=T.sibling}m.type===Vr?(f=Cr(m.props.children,c.mode,x,m.key),f.return=c,c=f):(x=oi(m.type,m.key,m.props,null,c.mode,x),x.ref=Pn(c,f,m),x.return=c,c=x)}return o(c);case Hr:e:{for(T=m.key;f!==null;){if(f.key===T)if(f.tag===4&&f.stateNode.containerInfo===m.containerInfo&&f.stateNode.implementation===m.implementation){r(c,f.sibling),f=s(f,m.children||[]),f.return=c,c=f;break e}else{r(c,f);break}else e(c,f);f=f.sibling}f=No(m,c.mode,x),f.return=c,c=f}return o(c);case Zt:return T=m._init,k(c,f,T(m._payload),x)}if(Dn(m))return _(c,f,m,x);if(Cn(m))return y(c,f,m,x);$s(c,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,f!==null&&f.tag===6?(r(c,f.sibling),f=s(f,m),f.return=c,c=f):(r(c,f),f=To(m,c.mode,x),f.return=c,c=f),o(c)):r(c,f)}return k}var hn=Bd(!0),Md=Bd(!1),_i=fr(null),ki=null,Xr=null,fl=null;function pl(){fl=Xr=ki=null}function ml(t){var e=_i.current;ye(_i),t._currentValue=e}function fa(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function an(t,e){ki=t,fl=Xr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ye=!0),t.firstContext=null)}function ft(t){var e=t._currentValue;if(fl!==t)if(t={context:t,memoizedValue:e,next:null},Xr===null){if(ki===null)throw Error(q(308));Xr=t,ki.dependencies={lanes:0,firstContext:t}}else Xr=Xr.next=t;return e}var Sr=null;function gl(t){Sr===null?Sr=[t]:Sr.push(t)}function Wd(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,gl(e)):(r.next=s.next,s.next=r),e.interleaved=r,Wt(t,n)}function Wt(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Qt=!1;function vl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hd(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ft(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function or(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,ce&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,Wt(t,r)}return s=n.interleaved,s===null?(e.next=e,gl(n)):(e.next=s.next,s.next=e),n.interleaved=e,Wt(t,r)}function ei(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,rl(t,r)}}function Au(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function xi(t,e,r,n){var s=t.updateQueue;Qt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=u=l=null,a=i;do{var v=a.lane,p=a.eventTime;if((n&v)===v){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,y=a;switch(v=e,p=r,y.tag){case 1:if(_=y.payload,typeof _=="function"){h=_.call(p,h,v);break e}h=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=y.payload,v=typeof _=="function"?_.call(p,h,v):_,v==null)break e;h=xe({},h,v);break e;case 2:Qt=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,v=s.effects,v===null?s.effects=[a]:v.push(a))}else p={eventTime:p,lane:v,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=p,l=h):d=d.next=p,o|=v;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;v=a,a=v.next,v.next=null,s.lastBaseUpdate=v,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Pr|=o,t.lanes=o,t.memoizedState=h}}function Pu(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(q(191,s));s.call(n)}}}var ks={},Pt=fr(ks),cs=fr(ks),ds=fr(ks);function br(t){if(t===ks)throw Error(q(174));return t}function yl(t,e){switch(ge(ds,e),ge(cs,t),ge(Pt,ks),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ko(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ko(e,t)}ye(Pt),ge(Pt,e)}function fn(){ye(Pt),ye(cs),ye(ds)}function Vd(t){br(ds.current);var e=br(Pt.current),r=Ko(e,t.type);e!==r&&(ge(cs,t),ge(Pt,r))}function wl(t){cs.current===t&&(ye(Pt),ye(cs))}var _e=fr(0);function Si(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var xo=[];function _l(){for(var t=0;t<xo.length;t++)xo[t]._workInProgressVersionPrimary=null;xo.length=0}var ti=Vt.ReactCurrentDispatcher,So=Vt.ReactCurrentBatchConfig,Ar=0,ke=null,Pe=null,ze=null,bi=!1,Vn=!1,hs=0,mm=0;function Fe(){throw Error(q(321))}function kl(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!bt(t[r],e[r]))return!1;return!0}function xl(t,e,r,n,s,i){if(Ar=i,ke=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ti.current=t===null||t.memoizedState===null?wm:_m,t=r(n,s),Vn){i=0;do{if(Vn=!1,hs=0,25<=i)throw Error(q(301));i+=1,ze=Pe=null,e.updateQueue=null,ti.current=km,t=r(n,s)}while(Vn)}if(ti.current=Ei,e=Pe!==null&&Pe.next!==null,Ar=0,ze=Pe=ke=null,bi=!1,e)throw Error(q(300));return t}function Sl(){var t=hs!==0;return hs=0,t}function Tt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ze===null?ke.memoizedState=ze=t:ze=ze.next=t,ze}function pt(){if(Pe===null){var t=ke.alternate;t=t!==null?t.memoizedState:null}else t=Pe.next;var e=ze===null?ke.memoizedState:ze.next;if(e!==null)ze=e,Pe=t;else{if(t===null)throw Error(q(310));Pe=t,t={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},ze===null?ke.memoizedState=ze=t:ze=ze.next=t}return ze}function fs(t,e){return typeof e=="function"?e(t):e}function bo(t){var e=pt(),r=e.queue;if(r===null)throw Error(q(311));r.lastRenderedReducer=t;var n=Pe,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((Ar&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=n):l=l.next=h,ke.lanes|=d,Pr|=d}u=u.next}while(u!==null&&u!==i);l===null?o=n:l.next=a,bt(n,e.memoizedState)||(Ye=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,ke.lanes|=i,Pr|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Eo(t){var e=pt(),r=e.queue;if(r===null)throw Error(q(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);bt(i,e.memoizedState)||(Ye=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function qd(){}function Kd(t,e){var r=ke,n=pt(),s=e(),i=!bt(n.memoizedState,s);if(i&&(n.memoizedState=s,Ye=!0),n=n.queue,bl(Qd.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||ze!==null&&ze.memoizedState.tag&1){if(r.flags|=2048,ps(9,Zd.bind(null,r,n,s,e),void 0,null),De===null)throw Error(q(349));Ar&30||Gd(r,e,s)}return s}function Gd(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=ke.updateQueue,e===null?(e={lastEffect:null,stores:null},ke.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Zd(t,e,r,n){e.value=r,e.getSnapshot=n,Jd(e)&&Yd(t)}function Qd(t,e,r){return r(function(){Jd(e)&&Yd(t)})}function Jd(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!bt(t,r)}catch{return!0}}function Yd(t){var e=Wt(t,1);e!==null&&St(e,t,1,-1)}function Ou(t){var e=Tt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:t},e.queue=t,t=t.dispatch=ym.bind(null,ke,t),[e.memoizedState,t]}function ps(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=ke.updateQueue,e===null?(e={lastEffect:null,stores:null},ke.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Xd(){return pt().memoizedState}function ri(t,e,r,n){var s=Tt();ke.flags|=t,s.memoizedState=ps(1|e,r,void 0,n===void 0?null:n)}function Mi(t,e,r,n){var s=pt();n=n===void 0?null:n;var i=void 0;if(Pe!==null){var o=Pe.memoizedState;if(i=o.destroy,n!==null&&kl(n,o.deps)){s.memoizedState=ps(e,r,i,n);return}}ke.flags|=t,s.memoizedState=ps(1|e,r,i,n)}function Iu(t,e){return ri(8390656,8,t,e)}function bl(t,e){return Mi(2048,8,t,e)}function eh(t,e){return Mi(4,2,t,e)}function th(t,e){return Mi(4,4,t,e)}function rh(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function nh(t,e,r){return r=r!=null?r.concat([t]):null,Mi(4,4,rh.bind(null,e,t),r)}function El(){}function sh(t,e){var r=pt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&kl(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function ih(t,e){var r=pt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&kl(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function oh(t,e,r){return Ar&21?(bt(r,e)||(r=dd(),ke.lanes|=r,Pr|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ye=!0),t.memoizedState=r)}function gm(t,e){var r=fe;fe=r!==0&&4>r?r:4,t(!0);var n=So.transition;So.transition={};try{t(!1),e()}finally{fe=r,So.transition=n}}function ah(){return pt().memoizedState}function vm(t,e,r){var n=lr(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},lh(t))uh(e,r);else if(r=Wd(t,e,r,n),r!==null){var s=qe();St(r,t,n,s),ch(r,e,n)}}function ym(t,e,r){var n=lr(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(lh(t))uh(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,bt(a,o)){var l=e.interleaved;l===null?(s.next=s,gl(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}r=Wd(t,e,s,n),r!==null&&(s=qe(),St(r,t,n,s),ch(r,e,n))}}function lh(t){var e=t.alternate;return t===ke||e!==null&&e===ke}function uh(t,e){Vn=bi=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function ch(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,rl(t,r)}}var Ei={readContext:ft,useCallback:Fe,useContext:Fe,useEffect:Fe,useImperativeHandle:Fe,useInsertionEffect:Fe,useLayoutEffect:Fe,useMemo:Fe,useReducer:Fe,useRef:Fe,useState:Fe,useDebugValue:Fe,useDeferredValue:Fe,useTransition:Fe,useMutableSource:Fe,useSyncExternalStore:Fe,useId:Fe,unstable_isNewReconciler:!1},wm={readContext:ft,useCallback:function(t,e){return Tt().memoizedState=[t,e===void 0?null:e],t},useContext:ft,useEffect:Iu,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,ri(4194308,4,rh.bind(null,e,t),r)},useLayoutEffect:function(t,e){return ri(4194308,4,t,e)},useInsertionEffect:function(t,e){return ri(4,2,t,e)},useMemo:function(t,e){var r=Tt();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Tt();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=vm.bind(null,ke,t),[n.memoizedState,t]},useRef:function(t){var e=Tt();return t={current:t},e.memoizedState=t},useState:Ou,useDebugValue:El,useDeferredValue:function(t){return Tt().memoizedState=t},useTransition:function(){var t=Ou(!1),e=t[0];return t=gm.bind(null,t[1]),Tt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=ke,s=Tt();if(we){if(r===void 0)throw Error(q(407));r=r()}else{if(r=e(),De===null)throw Error(q(349));Ar&30||Gd(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,Iu(Qd.bind(null,n,i,t),[t]),n.flags|=2048,ps(9,Zd.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=Tt(),e=De.identifierPrefix;if(we){var r=$t,n=Ut;r=(n&~(1<<32-xt(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=hs++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=mm++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},_m={readContext:ft,useCallback:sh,useContext:ft,useEffect:bl,useImperativeHandle:nh,useInsertionEffect:eh,useLayoutEffect:th,useMemo:ih,useReducer:bo,useRef:Xd,useState:function(){return bo(fs)},useDebugValue:El,useDeferredValue:function(t){var e=pt();return oh(e,Pe.memoizedState,t)},useTransition:function(){var t=bo(fs)[0],e=pt().memoizedState;return[t,e]},useMutableSource:qd,useSyncExternalStore:Kd,useId:ah,unstable_isNewReconciler:!1},km={readContext:ft,useCallback:sh,useContext:ft,useEffect:bl,useImperativeHandle:nh,useInsertionEffect:eh,useLayoutEffect:th,useMemo:ih,useReducer:Eo,useRef:Xd,useState:function(){return Eo(fs)},useDebugValue:El,useDeferredValue:function(t){var e=pt();return Pe===null?e.memoizedState=t:oh(e,Pe.memoizedState,t)},useTransition:function(){var t=Eo(fs)[0],e=pt().memoizedState;return[t,e]},useMutableSource:qd,useSyncExternalStore:Kd,useId:ah,unstable_isNewReconciler:!1};function yt(t,e){if(t&&t.defaultProps){e=xe({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function pa(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:xe({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Wi={isMounted:function(t){return(t=t._reactInternals)?Rr(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=qe(),s=lr(t),i=Ft(n,s);i.payload=e,r!=null&&(i.callback=r),e=or(t,i,s),e!==null&&(St(e,t,s,n),ei(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=qe(),s=lr(t),i=Ft(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=or(t,i,s),e!==null&&(St(e,t,s,n),ei(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=qe(),n=lr(t),s=Ft(r,n);s.tag=2,e!=null&&(s.callback=e),e=or(t,s,n),e!==null&&(St(e,t,n,r),ei(e,t,n))}};function Ru(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!os(r,n)||!os(s,i):!0}function dh(t,e,r){var n=!1,s=dr,i=e.contextType;return typeof i=="object"&&i!==null?i=ft(i):(s=et(e)?Tr:He.current,n=e.contextTypes,i=(n=n!=null)?cn(t,s):dr),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Wi,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function zu(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Wi.enqueueReplaceState(e,e.state,null)}function ma(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},vl(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=ft(i):(i=et(e)?Tr:He.current,s.context=cn(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(pa(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Wi.enqueueReplaceState(s,s.state,null),xi(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function pn(t,e){try{var r="",n=e;do r+=Zf(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Co(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function ga(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var xm=typeof WeakMap=="function"?WeakMap:Map;function hh(t,e,r){r=Ft(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){ji||(ji=!0,Ca=n),ga(t,e)},r}function fh(t,e,r){r=Ft(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){ga(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){ga(t,e),typeof n!="function"&&(ar===null?ar=new Set([this]):ar.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function Du(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new xm;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=Dm.bind(null,t,e,r),e.then(t,t))}function Lu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Uu(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Ft(-1,1),e.tag=2,or(r,e,1))),r.lanes|=1),t)}var Sm=Vt.ReactCurrentOwner,Ye=!1;function Ve(t,e,r,n){e.child=t===null?Md(e,null,r,n):hn(e,t.child,r,n)}function $u(t,e,r,n,s){r=r.render;var i=e.ref;return an(e,s),n=xl(t,e,r,n,i,s),r=Sl(),t!==null&&!Ye?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ht(t,e,s)):(we&&r&&cl(e),e.flags|=1,Ve(t,e,n,s),e.child)}function Fu(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!Il(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,ph(t,e,i,n,s)):(t=oi(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:os,r(o,n)&&t.ref===e.ref)return Ht(t,e,s)}return e.flags|=1,t=ur(i,n),t.ref=e.ref,t.return=e,e.child=t}function ph(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(os(i,n)&&t.ref===e.ref)if(Ye=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(Ye=!0);else return e.lanes=t.lanes,Ht(t,e,s)}return va(t,e,r,n,s)}function mh(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ge(tn,rt),rt|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ge(tn,rt),rt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,ge(tn,rt),rt|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,ge(tn,rt),rt|=n;return Ve(t,e,s,r),e.child}function gh(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function va(t,e,r,n,s){var i=et(r)?Tr:He.current;return i=cn(e,i),an(e,s),r=xl(t,e,r,n,i,s),n=Sl(),t!==null&&!Ye?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ht(t,e,s)):(we&&n&&cl(e),e.flags|=1,Ve(t,e,r,s),e.child)}function Bu(t,e,r,n,s){if(et(r)){var i=!0;vi(e)}else i=!1;if(an(e,s),e.stateNode===null)ni(t,e),dh(e,r,n),ma(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=ft(u):(u=et(r)?Tr:He.current,u=cn(e,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&zu(e,o,n,u),Qt=!1;var v=e.memoizedState;o.state=v,xi(e,n,o,s),l=e.memoizedState,a!==n||v!==l||Xe.current||Qt?(typeof d=="function"&&(pa(e,r,d,n),l=e.memoizedState),(a=Qt||Ru(e,r,a,n,v,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,Hd(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:yt(e.type,a),o.props=u,h=e.pendingProps,v=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=ft(l):(l=et(r)?Tr:He.current,l=cn(e,l));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||v!==l)&&zu(e,o,n,l),Qt=!1,v=e.memoizedState,o.state=v,xi(e,n,o,s);var _=e.memoizedState;a!==h||v!==_||Xe.current||Qt?(typeof p=="function"&&(pa(e,r,p,n),_=e.memoizedState),(u=Qt||Ru(e,r,u,n,v,_,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,_,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=_),o.props=n,o.state=_,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),n=!1)}return ya(t,e,r,n,i,s)}function ya(t,e,r,n,s,i){gh(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&Cu(e,r,!1),Ht(t,e,i);n=e.stateNode,Sm.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=hn(e,t.child,null,i),e.child=hn(e,null,a,i)):Ve(t,e,a,i),e.memoizedState=n.state,s&&Cu(e,r,!0),e.child}function vh(t){var e=t.stateNode;e.pendingContext?Eu(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Eu(t,e.context,!1),yl(t,e.containerInfo)}function Mu(t,e,r,n,s){return dn(),hl(s),e.flags|=256,Ve(t,e,r,n),e.child}var wa={dehydrated:null,treeContext:null,retryLane:0};function _a(t){return{baseLanes:t,cachePool:null,transitions:null}}function yh(t,e,r){var n=e.pendingProps,s=_e.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ge(_e,s&1),t===null)return ha(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=qi(o,n,0,null),t=Cr(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=_a(r),e.memoizedState=wa,t):Cl(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return bm(t,e,o,n,a,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=ur(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=ur(a,i):(i=Cr(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?_a(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=wa,n}return i=t.child,t=i.sibling,n=ur(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Cl(t,e){return e=qi({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Fs(t,e,r,n){return n!==null&&hl(n),hn(e,t.child,null,r),t=Cl(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function bm(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=Co(Error(q(422))),Fs(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=qi({mode:"visible",children:n.children},s,0,null),i=Cr(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&hn(e,t.child,null,o),e.child.memoizedState=_a(o),e.memoizedState=wa,i);if(!(e.mode&1))return Fs(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(q(419)),n=Co(i,n,void 0),Fs(t,e,o,n)}if(a=(o&t.childLanes)!==0,Ye||a){if(n=De,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Wt(t,s),St(n,t,s,-1))}return Ol(),n=Co(Error(q(421))),Fs(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Lm.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,nt=ir(s.nextSibling),st=e,we=!0,kt=null,t!==null&&(ut[ct++]=Ut,ut[ct++]=$t,ut[ct++]=Nr,Ut=t.id,$t=t.overflow,Nr=e),e=Cl(e,n.children),e.flags|=4096,e)}function Wu(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),fa(t.return,e,r)}function jo(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function wh(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(Ve(t,e,n.children,r),n=_e.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Wu(t,r,e);else if(t.tag===19)Wu(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(ge(_e,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Si(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),jo(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Si(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}jo(e,!0,r,null,i);break;case"together":jo(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ni(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ht(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Pr|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(q(153));if(e.child!==null){for(t=e.child,r=ur(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=ur(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Em(t,e,r){switch(e.tag){case 3:vh(e),dn();break;case 5:Vd(e);break;case 1:et(e.type)&&vi(e);break;case 4:yl(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;ge(_i,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(ge(_e,_e.current&1),e.flags|=128,null):r&e.child.childLanes?yh(t,e,r):(ge(_e,_e.current&1),t=Ht(t,e,r),t!==null?t.sibling:null);ge(_e,_e.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return wh(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ge(_e,_e.current),n)break;return null;case 22:case 23:return e.lanes=0,mh(t,e,r)}return Ht(t,e,r)}var _h,ka,kh,xh;_h=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ka=function(){};kh=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,br(Pt.current);var i=null;switch(r){case"input":s=Wo(t,s),n=Wo(t,n),i=[];break;case"select":s=xe({},s,{value:void 0}),n=xe({},n,{value:void 0}),i=[];break;case"textarea":s=qo(t,s),n=qo(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=mi)}Go(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Xn.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(a=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Xn.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ve("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};xh=function(t,e,r,n){r!==n&&(e.flags|=4)};function On(t,e){if(!we)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Be(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Cm(t,e,r){var n=e.pendingProps;switch(dl(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(e),null;case 1:return et(e.type)&&gi(),Be(e),null;case 3:return n=e.stateNode,fn(),ye(Xe),ye(He),_l(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Us(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,kt!==null&&(Na(kt),kt=null))),ka(t,e),Be(e),null;case 5:wl(e);var s=br(ds.current);if(r=e.type,t!==null&&e.stateNode!=null)kh(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(q(166));return Be(e),null}if(t=br(Pt.current),Us(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[Nt]=e,n[us]=i,t=(e.mode&1)!==0,r){case"dialog":ve("cancel",n),ve("close",n);break;case"iframe":case"object":case"embed":ve("load",n);break;case"video":case"audio":for(s=0;s<Un.length;s++)ve(Un[s],n);break;case"source":ve("error",n);break;case"img":case"image":case"link":ve("error",n),ve("load",n);break;case"details":ve("toggle",n);break;case"input":Yl(n,i),ve("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ve("invalid",n);break;case"textarea":eu(n,i),ve("invalid",n)}Go(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ls(n.textContent,a,t),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ls(n.textContent,a,t),s=["children",""+a]):Xn.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ve("scroll",n)}switch(r){case"input":Ns(n),Xl(n,i,!0);break;case"textarea":Ns(n),tu(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=mi)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Qc(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Nt]=e,t[us]=n,_h(t,e,!1,!1),e.stateNode=t;e:{switch(o=Zo(r,n),r){case"dialog":ve("cancel",t),ve("close",t),s=n;break;case"iframe":case"object":case"embed":ve("load",t),s=n;break;case"video":case"audio":for(s=0;s<Un.length;s++)ve(Un[s],t);s=n;break;case"source":ve("error",t),s=n;break;case"img":case"image":case"link":ve("error",t),ve("load",t),s=n;break;case"details":ve("toggle",t),s=n;break;case"input":Yl(t,n),s=Wo(t,n),ve("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=xe({},n,{value:void 0}),ve("invalid",t);break;case"textarea":eu(t,n),s=qo(t,n),ve("invalid",t);break;default:s=n}Go(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Xc(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Jc(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&es(t,l):typeof l=="number"&&es(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Xn.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ve("scroll",t):l!=null&&Qa(t,i,l,o))}switch(r){case"input":Ns(t),Xl(t,n,!1);break;case"textarea":Ns(t),tu(t);break;case"option":n.value!=null&&t.setAttribute("value",""+cr(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?rn(t,!!n.multiple,i,!1):n.defaultValue!=null&&rn(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=mi)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Be(e),null;case 6:if(t&&e.stateNode!=null)xh(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(q(166));if(r=br(ds.current),br(Pt.current),Us(e)){if(n=e.stateNode,r=e.memoizedProps,n[Nt]=e,(i=n.nodeValue!==r)&&(t=st,t!==null))switch(t.tag){case 3:Ls(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ls(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Nt]=e,e.stateNode=n}return Be(e),null;case 13:if(ye(_e),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(we&&nt!==null&&e.mode&1&&!(e.flags&128))Fd(),dn(),e.flags|=98560,i=!1;else if(i=Us(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(q(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(q(317));i[Nt]=e}else dn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Be(e),i=!1}else kt!==null&&(Na(kt),kt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||_e.current&1?Oe===0&&(Oe=3):Ol())),e.updateQueue!==null&&(e.flags|=4),Be(e),null);case 4:return fn(),ka(t,e),t===null&&as(e.stateNode.containerInfo),Be(e),null;case 10:return ml(e.type._context),Be(e),null;case 17:return et(e.type)&&gi(),Be(e),null;case 19:if(ye(_e),i=e.memoizedState,i===null)return Be(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)On(i,!1);else{if(Oe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Si(t),o!==null){for(e.flags|=128,On(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return ge(_e,_e.current&1|2),e.child}t=t.sibling}i.tail!==null&&je()>mn&&(e.flags|=128,n=!0,On(i,!1),e.lanes=4194304)}else{if(!n)if(t=Si(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),On(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!we)return Be(e),null}else 2*je()-i.renderingStartTime>mn&&r!==1073741824&&(e.flags|=128,n=!0,On(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=je(),e.sibling=null,r=_e.current,ge(_e,n?r&1|2:r&1),e):(Be(e),null);case 22:case 23:return Pl(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?rt&1073741824&&(Be(e),e.subtreeFlags&6&&(e.flags|=8192)):Be(e),null;case 24:return null;case 25:return null}throw Error(q(156,e.tag))}function jm(t,e){switch(dl(e),e.tag){case 1:return et(e.type)&&gi(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return fn(),ye(Xe),ye(He),_l(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return wl(e),null;case 13:if(ye(_e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(q(340));dn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ye(_e),null;case 4:return fn(),null;case 10:return ml(e.type._context),null;case 22:case 23:return Pl(),null;case 24:return null;default:return null}}var Bs=!1,Me=!1,Tm=typeof WeakSet=="function"?WeakSet:Set,ee=null;function en(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Se(t,e,n)}else r.current=null}function xa(t,e,r){try{r()}catch(n){Se(t,e,n)}}var Hu=!1;function Nm(t,e){if(ia=hi,t=jd(),ul(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=t,v=null;t:for(;;){for(var p;h!==r||s!==0&&h.nodeType!==3||(a=o+s),h!==i||n!==0&&h.nodeType!==3||(l=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)v=h,h=p;for(;;){if(h===t)break t;if(v===r&&++u===s&&(a=o),v===i&&++d===n&&(l=o),(p=h.nextSibling)!==null)break;h=v,v=h.parentNode}h=p}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(oa={focusedElem:t,selectionRange:r},hi=!1,ee=e;ee!==null;)if(e=ee,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ee=t;else for(;ee!==null;){e=ee;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var y=_.memoizedProps,k=_.memoizedState,c=e.stateNode,f=c.getSnapshotBeforeUpdate(e.elementType===e.type?y:yt(e.type,y),k);c.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(x){Se(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,ee=t;break}ee=e.return}return _=Hu,Hu=!1,_}function qn(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&xa(e,r,i)}s=s.next}while(s!==n)}}function Hi(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Sa(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Sh(t){var e=t.alternate;e!==null&&(t.alternate=null,Sh(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Nt],delete e[us],delete e[ua],delete e[dm],delete e[hm])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function bh(t){return t.tag===5||t.tag===3||t.tag===4}function Vu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||bh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ba(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=mi));else if(n!==4&&(t=t.child,t!==null))for(ba(t,e,r),t=t.sibling;t!==null;)ba(t,e,r),t=t.sibling}function Ea(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Ea(t,e,r),t=t.sibling;t!==null;)Ea(t,e,r),t=t.sibling}var Le=null,wt=!1;function qt(t,e,r){for(r=r.child;r!==null;)Eh(t,e,r),r=r.sibling}function Eh(t,e,r){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(Di,r)}catch{}switch(r.tag){case 5:Me||en(r,e);case 6:var n=Le,s=wt;Le=null,qt(t,e,r),Le=n,wt=s,Le!==null&&(wt?(t=Le,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Le.removeChild(r.stateNode));break;case 18:Le!==null&&(wt?(t=Le,r=r.stateNode,t.nodeType===8?_o(t.parentNode,r):t.nodeType===1&&_o(t,r),ss(t)):_o(Le,r.stateNode));break;case 4:n=Le,s=wt,Le=r.stateNode.containerInfo,wt=!0,qt(t,e,r),Le=n,wt=s;break;case 0:case 11:case 14:case 15:if(!Me&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&xa(r,e,o),s=s.next}while(s!==n)}qt(t,e,r);break;case 1:if(!Me&&(en(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Se(r,e,a)}qt(t,e,r);break;case 21:qt(t,e,r);break;case 22:r.mode&1?(Me=(n=Me)||r.memoizedState!==null,qt(t,e,r),Me=n):qt(t,e,r);break;default:qt(t,e,r)}}function qu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Tm),e.forEach(function(n){var s=Um.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function gt(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Le=a.stateNode,wt=!1;break e;case 3:Le=a.stateNode.containerInfo,wt=!0;break e;case 4:Le=a.stateNode.containerInfo,wt=!0;break e}a=a.return}if(Le===null)throw Error(q(160));Eh(i,o,s),Le=null,wt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Se(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Ch(e,t),e=e.sibling}function Ch(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(gt(e,t),jt(t),n&4){try{qn(3,t,t.return),Hi(3,t)}catch(y){Se(t,t.return,y)}try{qn(5,t,t.return)}catch(y){Se(t,t.return,y)}}break;case 1:gt(e,t),jt(t),n&512&&r!==null&&en(r,r.return);break;case 5:if(gt(e,t),jt(t),n&512&&r!==null&&en(r,r.return),t.flags&32){var s=t.stateNode;try{es(s,"")}catch(y){Se(t,t.return,y)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Gc(s,i),Zo(a,o);var u=Zo(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?Xc(s,h):d==="dangerouslySetInnerHTML"?Jc(s,h):d==="children"?es(s,h):Qa(s,d,h,u)}switch(a){case"input":Ho(s,i);break;case"textarea":Zc(s,i);break;case"select":var v=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?rn(s,!!i.multiple,p,!1):v!==!!i.multiple&&(i.defaultValue!=null?rn(s,!!i.multiple,i.defaultValue,!0):rn(s,!!i.multiple,i.multiple?[]:"",!1))}s[us]=i}catch(y){Se(t,t.return,y)}}break;case 6:if(gt(e,t),jt(t),n&4){if(t.stateNode===null)throw Error(q(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){Se(t,t.return,y)}}break;case 3:if(gt(e,t),jt(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ss(e.containerInfo)}catch(y){Se(t,t.return,y)}break;case 4:gt(e,t),jt(t);break;case 13:gt(e,t),jt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Nl=je())),n&4&&qu(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Me=(u=Me)||d,gt(e,t),Me=u):gt(e,t),jt(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(ee=t,d=t.child;d!==null;){for(h=ee=d;ee!==null;){switch(v=ee,p=v.child,v.tag){case 0:case 11:case 14:case 15:qn(4,v,v.return);break;case 1:en(v,v.return);var _=v.stateNode;if(typeof _.componentWillUnmount=="function"){n=v,r=v.return;try{e=n,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(y){Se(n,r,y)}}break;case 5:en(v,v.return);break;case 22:if(v.memoizedState!==null){Gu(h);continue}}p!==null?(p.return=v,ee=p):Gu(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Yc("display",o))}catch(y){Se(t,t.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){Se(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gt(e,t),jt(t),n&4&&qu(t);break;case 21:break;default:gt(e,t),jt(t)}}function jt(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(bh(r)){var n=r;break e}r=r.return}throw Error(q(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(es(s,""),n.flags&=-33);var i=Vu(t);Ea(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=Vu(t);ba(t,a,o);break;default:throw Error(q(161))}}catch(l){Se(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Am(t,e,r){ee=t,jh(t)}function jh(t,e,r){for(var n=(t.mode&1)!==0;ee!==null;){var s=ee,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Bs;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Me;a=Bs;var u=Me;if(Bs=o,(Me=l)&&!u)for(ee=s;ee!==null;)o=ee,l=o.child,o.tag===22&&o.memoizedState!==null?Zu(s):l!==null?(l.return=o,ee=l):Zu(s);for(;i!==null;)ee=i,jh(i),i=i.sibling;ee=s,Bs=a,Me=u}Ku(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ee=i):Ku(t)}}function Ku(t){for(;ee!==null;){var e=ee;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Me||Hi(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Me)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:yt(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Pu(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Pu(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&ss(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}Me||e.flags&512&&Sa(e)}catch(v){Se(e,e.return,v)}}if(e===t){ee=null;break}if(r=e.sibling,r!==null){r.return=e.return,ee=r;break}ee=e.return}}function Gu(t){for(;ee!==null;){var e=ee;if(e===t){ee=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ee=r;break}ee=e.return}}function Zu(t){for(;ee!==null;){var e=ee;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Hi(4,e)}catch(l){Se(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(l){Se(e,s,l)}}var i=e.return;try{Sa(e)}catch(l){Se(e,i,l)}break;case 5:var o=e.return;try{Sa(e)}catch(l){Se(e,o,l)}}}catch(l){Se(e,e.return,l)}if(e===t){ee=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ee=a;break}ee=e.return}}var Pm=Math.ceil,Ci=Vt.ReactCurrentDispatcher,jl=Vt.ReactCurrentOwner,ht=Vt.ReactCurrentBatchConfig,ce=0,De=null,Te=null,Ue=0,rt=0,tn=fr(0),Oe=0,ms=null,Pr=0,Vi=0,Tl=0,Kn=null,Qe=null,Nl=0,mn=1/0,Rt=null,ji=!1,Ca=null,ar=null,Ms=!1,tr=null,Ti=0,Gn=0,ja=null,si=-1,ii=0;function qe(){return ce&6?je():si!==-1?si:si=je()}function lr(t){return t.mode&1?ce&2&&Ue!==0?Ue&-Ue:pm.transition!==null?(ii===0&&(ii=dd()),ii):(t=fe,t!==0||(t=window.event,t=t===void 0?16:yd(t.type)),t):1}function St(t,e,r,n){if(50<Gn)throw Gn=0,ja=null,Error(q(185));ys(t,r,n),(!(ce&2)||t!==De)&&(t===De&&(!(ce&2)&&(Vi|=r),Oe===4&&Yt(t,Ue)),tt(t,n),r===1&&ce===0&&!(e.mode&1)&&(mn=je()+500,Bi&&pr()))}function tt(t,e){var r=t.callbackNode;pp(t,e);var n=di(t,t===De?Ue:0);if(n===0)r!==null&&su(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&su(r),e===1)t.tag===0?fm(Qu.bind(null,t)):Ld(Qu.bind(null,t)),um(function(){!(ce&6)&&pr()}),r=null;else{switch(hd(n)){case 1:r=tl;break;case 4:r=ud;break;case 16:r=ci;break;case 536870912:r=cd;break;default:r=ci}r=zh(r,Th.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Th(t,e){if(si=-1,ii=0,ce&6)throw Error(q(327));var r=t.callbackNode;if(ln()&&t.callbackNode!==r)return null;var n=di(t,t===De?Ue:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Ni(t,n);else{e=n;var s=ce;ce|=2;var i=Ah();(De!==t||Ue!==e)&&(Rt=null,mn=je()+500,Er(t,e));do try{Rm();break}catch(a){Nh(t,a)}while(!0);pl(),Ci.current=i,ce=s,Te!==null?e=0:(De=null,Ue=0,e=Oe)}if(e!==0){if(e===2&&(s=ea(t),s!==0&&(n=s,e=Ta(t,s))),e===1)throw r=ms,Er(t,0),Yt(t,n),tt(t,je()),r;if(e===6)Yt(t,n);else{if(s=t.current.alternate,!(n&30)&&!Om(s)&&(e=Ni(t,n),e===2&&(i=ea(t),i!==0&&(n=i,e=Ta(t,i))),e===1))throw r=ms,Er(t,0),Yt(t,n),tt(t,je()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(q(345));case 2:wr(t,Qe,Rt);break;case 3:if(Yt(t,n),(n&130023424)===n&&(e=Nl+500-je(),10<e)){if(di(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){qe(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=la(wr.bind(null,t,Qe,Rt),e);break}wr(t,Qe,Rt);break;case 4:if(Yt(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-xt(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=je()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Pm(n/1960))-n,10<n){t.timeoutHandle=la(wr.bind(null,t,Qe,Rt),n);break}wr(t,Qe,Rt);break;case 5:wr(t,Qe,Rt);break;default:throw Error(q(329))}}}return tt(t,je()),t.callbackNode===r?Th.bind(null,t):null}function Ta(t,e){var r=Kn;return t.current.memoizedState.isDehydrated&&(Er(t,e).flags|=256),t=Ni(t,e),t!==2&&(e=Qe,Qe=r,e!==null&&Na(e)),t}function Na(t){Qe===null?Qe=t:Qe.push.apply(Qe,t)}function Om(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!bt(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Yt(t,e){for(e&=~Tl,e&=~Vi,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-xt(e),n=1<<r;t[r]=-1,e&=~n}}function Qu(t){if(ce&6)throw Error(q(327));ln();var e=di(t,0);if(!(e&1))return tt(t,je()),null;var r=Ni(t,e);if(t.tag!==0&&r===2){var n=ea(t);n!==0&&(e=n,r=Ta(t,n))}if(r===1)throw r=ms,Er(t,0),Yt(t,e),tt(t,je()),r;if(r===6)throw Error(q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,wr(t,Qe,Rt),tt(t,je()),null}function Al(t,e){var r=ce;ce|=1;try{return t(e)}finally{ce=r,ce===0&&(mn=je()+500,Bi&&pr())}}function Or(t){tr!==null&&tr.tag===0&&!(ce&6)&&ln();var e=ce;ce|=1;var r=ht.transition,n=fe;try{if(ht.transition=null,fe=1,t)return t()}finally{fe=n,ht.transition=r,ce=e,!(ce&6)&&pr()}}function Pl(){rt=tn.current,ye(tn)}function Er(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,lm(r)),Te!==null)for(r=Te.return;r!==null;){var n=r;switch(dl(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&gi();break;case 3:fn(),ye(Xe),ye(He),_l();break;case 5:wl(n);break;case 4:fn();break;case 13:ye(_e);break;case 19:ye(_e);break;case 10:ml(n.type._context);break;case 22:case 23:Pl()}r=r.return}if(De=t,Te=t=ur(t.current,null),Ue=rt=e,Oe=0,ms=null,Tl=Vi=Pr=0,Qe=Kn=null,Sr!==null){for(e=0;e<Sr.length;e++)if(r=Sr[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Sr=null}return t}function Nh(t,e){do{var r=Te;try{if(pl(),ti.current=Ei,bi){for(var n=ke.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}bi=!1}if(Ar=0,ze=Pe=ke=null,Vn=!1,hs=0,jl.current=null,r===null||r.return===null){Oe=1,ms=e,Te=null;break}e:{var i=t,o=r.return,a=r,l=e;if(e=Ue,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var v=d.alternate;v?(d.updateQueue=v.updateQueue,d.memoizedState=v.memoizedState,d.lanes=v.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Lu(o);if(p!==null){p.flags&=-257,Uu(p,o,a,i,e),p.mode&1&&Du(i,u,e),e=p,l=u;var _=e.updateQueue;if(_===null){var y=new Set;y.add(l),e.updateQueue=y}else _.add(l);break e}else{if(!(e&1)){Du(i,u,e),Ol();break e}l=Error(q(426))}}else if(we&&a.mode&1){var k=Lu(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Uu(k,o,a,i,e),hl(pn(l,a));break e}}i=l=pn(l,a),Oe!==4&&(Oe=2),Kn===null?Kn=[i]:Kn.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var c=hh(i,l,e);Au(i,c);break e;case 1:a=l;var f=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ar===null||!ar.has(m)))){i.flags|=65536,e&=-e,i.lanes|=e;var x=fh(i,a,e);Au(i,x);break e}}i=i.return}while(i!==null)}Oh(r)}catch(E){e=E,Te===r&&r!==null&&(Te=r=r.return);continue}break}while(!0)}function Ah(){var t=Ci.current;return Ci.current=Ei,t===null?Ei:t}function Ol(){(Oe===0||Oe===3||Oe===2)&&(Oe=4),De===null||!(Pr&268435455)&&!(Vi&268435455)||Yt(De,Ue)}function Ni(t,e){var r=ce;ce|=2;var n=Ah();(De!==t||Ue!==e)&&(Rt=null,Er(t,e));do try{Im();break}catch(s){Nh(t,s)}while(!0);if(pl(),ce=r,Ci.current=n,Te!==null)throw Error(q(261));return De=null,Ue=0,Oe}function Im(){for(;Te!==null;)Ph(Te)}function Rm(){for(;Te!==null&&!ip();)Ph(Te)}function Ph(t){var e=Rh(t.alternate,t,rt);t.memoizedProps=t.pendingProps,e===null?Oh(t):Te=e,jl.current=null}function Oh(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=jm(r,e),r!==null){r.flags&=32767,Te=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Oe=6,Te=null;return}}else if(r=Cm(r,e,rt),r!==null){Te=r;return}if(e=e.sibling,e!==null){Te=e;return}Te=e=t}while(e!==null);Oe===0&&(Oe=5)}function wr(t,e,r){var n=fe,s=ht.transition;try{ht.transition=null,fe=1,zm(t,e,r,n)}finally{ht.transition=s,fe=n}return null}function zm(t,e,r,n){do ln();while(tr!==null);if(ce&6)throw Error(q(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(q(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(mp(t,i),t===De&&(Te=De=null,Ue=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ms||(Ms=!0,zh(ci,function(){return ln(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=ht.transition,ht.transition=null;var o=fe;fe=1;var a=ce;ce|=4,jl.current=null,Nm(t,r),Ch(r,t),tm(oa),hi=!!ia,oa=ia=null,t.current=r,Am(r),op(),ce=a,fe=o,ht.transition=i}else t.current=r;if(Ms&&(Ms=!1,tr=t,Ti=s),i=t.pendingLanes,i===0&&(ar=null),up(r.stateNode),tt(t,je()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(ji)throw ji=!1,t=Ca,Ca=null,t;return Ti&1&&t.tag!==0&&ln(),i=t.pendingLanes,i&1?t===ja?Gn++:(Gn=0,ja=t):Gn=0,pr(),null}function ln(){if(tr!==null){var t=hd(Ti),e=ht.transition,r=fe;try{if(ht.transition=null,fe=16>t?16:t,tr===null)var n=!1;else{if(t=tr,tr=null,Ti=0,ce&6)throw Error(q(331));var s=ce;for(ce|=4,ee=t.current;ee!==null;){var i=ee,o=i.child;if(ee.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ee=u;ee!==null;){var d=ee;switch(d.tag){case 0:case 11:case 15:qn(8,d,i)}var h=d.child;if(h!==null)h.return=d,ee=h;else for(;ee!==null;){d=ee;var v=d.sibling,p=d.return;if(Sh(d),d===u){ee=null;break}if(v!==null){v.return=p,ee=v;break}ee=p}}}var _=i.alternate;if(_!==null){var y=_.child;if(y!==null){_.child=null;do{var k=y.sibling;y.sibling=null,y=k}while(y!==null)}}ee=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ee=o;else e:for(;ee!==null;){if(i=ee,i.flags&2048)switch(i.tag){case 0:case 11:case 15:qn(9,i,i.return)}var c=i.sibling;if(c!==null){c.return=i.return,ee=c;break e}ee=i.return}}var f=t.current;for(ee=f;ee!==null;){o=ee;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,ee=m;else e:for(o=f;ee!==null;){if(a=ee,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Hi(9,a)}}catch(E){Se(a,a.return,E)}if(a===o){ee=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,ee=x;break e}ee=a.return}}if(ce=s,pr(),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(Di,t)}catch{}n=!0}return n}finally{fe=r,ht.transition=e}}return!1}function Ju(t,e,r){e=pn(r,e),e=hh(t,e,1),t=or(t,e,1),e=qe(),t!==null&&(ys(t,1,e),tt(t,e))}function Se(t,e,r){if(t.tag===3)Ju(t,t,r);else for(;e!==null;){if(e.tag===3){Ju(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ar===null||!ar.has(n))){t=pn(r,t),t=fh(e,t,1),e=or(e,t,1),t=qe(),e!==null&&(ys(e,1,t),tt(e,t));break}}e=e.return}}function Dm(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=qe(),t.pingedLanes|=t.suspendedLanes&r,De===t&&(Ue&r)===r&&(Oe===4||Oe===3&&(Ue&130023424)===Ue&&500>je()-Nl?Er(t,0):Tl|=r),tt(t,e)}function Ih(t,e){e===0&&(t.mode&1?(e=Os,Os<<=1,!(Os&130023424)&&(Os=4194304)):e=1);var r=qe();t=Wt(t,e),t!==null&&(ys(t,e,r),tt(t,r))}function Lm(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Ih(t,r)}function Um(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(q(314))}n!==null&&n.delete(e),Ih(t,r)}var Rh;Rh=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Xe.current)Ye=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Ye=!1,Em(t,e,r);Ye=!!(t.flags&131072)}else Ye=!1,we&&e.flags&1048576&&Ud(e,wi,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;ni(t,e),t=e.pendingProps;var s=cn(e,He.current);an(e,r),s=xl(null,e,n,t,s,r);var i=Sl();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,et(n)?(i=!0,vi(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,vl(e),s.updater=Wi,e.stateNode=s,s._reactInternals=e,ma(e,n,t,r),e=ya(null,e,n,!0,i,r)):(e.tag=0,we&&i&&cl(e),Ve(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(ni(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=Fm(n),t=yt(n,t),s){case 0:e=va(null,e,n,t,r);break e;case 1:e=Bu(null,e,n,t,r);break e;case 11:e=$u(null,e,n,t,r);break e;case 14:e=Fu(null,e,n,yt(n.type,t),r);break e}throw Error(q(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:yt(n,s),va(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:yt(n,s),Bu(t,e,n,s,r);case 3:e:{if(vh(e),t===null)throw Error(q(387));n=e.pendingProps,i=e.memoizedState,s=i.element,Hd(t,e),xi(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=pn(Error(q(423)),e),e=Mu(t,e,n,r,s);break e}else if(n!==s){s=pn(Error(q(424)),e),e=Mu(t,e,n,r,s);break e}else for(nt=ir(e.stateNode.containerInfo.firstChild),st=e,we=!0,kt=null,r=Md(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(dn(),n===s){e=Ht(t,e,r);break e}Ve(t,e,n,r)}e=e.child}return e;case 5:return Vd(e),t===null&&ha(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,aa(n,s)?o=null:i!==null&&aa(n,i)&&(e.flags|=32),gh(t,e),Ve(t,e,o,r),e.child;case 6:return t===null&&ha(e),null;case 13:return yh(t,e,r);case 4:return yl(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=hn(e,null,n,r):Ve(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:yt(n,s),$u(t,e,n,s,r);case 7:return Ve(t,e,e.pendingProps,r),e.child;case 8:return Ve(t,e,e.pendingProps.children,r),e.child;case 12:return Ve(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,ge(_i,n._currentValue),n._currentValue=o,i!==null)if(bt(i.value,o)){if(i.children===s.children&&!Xe.current){e=Ht(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=Ft(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),fa(i.return,r,e),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(q(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),fa(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ve(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,an(e,r),s=ft(s),n=n(s),e.flags|=1,Ve(t,e,n,r),e.child;case 14:return n=e.type,s=yt(n,e.pendingProps),s=yt(n.type,s),Fu(t,e,n,s,r);case 15:return ph(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:yt(n,s),ni(t,e),e.tag=1,et(n)?(t=!0,vi(e)):t=!1,an(e,r),dh(e,n,s),ma(e,n,s,r),ya(null,e,n,!0,t,r);case 19:return wh(t,e,r);case 22:return mh(t,e,r)}throw Error(q(156,e.tag))};function zh(t,e){return ld(t,e)}function $m(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dt(t,e,r,n){return new $m(t,e,r,n)}function Il(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Fm(t){if(typeof t=="function")return Il(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ya)return 11;if(t===Xa)return 14}return 2}function ur(t,e){var r=t.alternate;return r===null?(r=dt(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function oi(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")Il(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Vr:return Cr(r.children,s,i,e);case Ja:o=8,s|=8;break;case $o:return t=dt(12,r,e,s|2),t.elementType=$o,t.lanes=i,t;case Fo:return t=dt(13,r,e,s),t.elementType=Fo,t.lanes=i,t;case Bo:return t=dt(19,r,e,s),t.elementType=Bo,t.lanes=i,t;case Vc:return qi(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Wc:o=10;break e;case Hc:o=9;break e;case Ya:o=11;break e;case Xa:o=14;break e;case Zt:o=16,n=null;break e}throw Error(q(130,t==null?t:typeof t,""))}return e=dt(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function Cr(t,e,r,n){return t=dt(7,t,n,e),t.lanes=r,t}function qi(t,e,r,n){return t=dt(22,t,n,e),t.elementType=Vc,t.lanes=r,t.stateNode={isHidden:!1},t}function To(t,e,r){return t=dt(6,t,null,e),t.lanes=r,t}function No(t,e,r){return e=dt(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Bm(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lo(0),this.expirationTimes=lo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lo(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Rl(t,e,r,n,s,i,o,a,l){return t=new Bm(t,e,r,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=dt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},vl(i),t}function Mm(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hr,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Dh(t){if(!t)return dr;t=t._reactInternals;e:{if(Rr(t)!==t||t.tag!==1)throw Error(q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(et(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(q(171))}if(t.tag===1){var r=t.type;if(et(r))return Dd(t,r,e)}return e}function Lh(t,e,r,n,s,i,o,a,l){return t=Rl(r,n,!0,t,s,i,o,a,l),t.context=Dh(null),r=t.current,n=qe(),s=lr(r),i=Ft(n,s),i.callback=e??null,or(r,i,s),t.current.lanes=s,ys(t,s,n),tt(t,n),t}function Ki(t,e,r,n){var s=e.current,i=qe(),o=lr(s);return r=Dh(r),e.context===null?e.context=r:e.pendingContext=r,e=Ft(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=or(s,e,o),t!==null&&(St(t,s,o,i),ei(t,s,o)),o}function Ai(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Yu(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function zl(t,e){Yu(t,e),(t=t.alternate)&&Yu(t,e)}function Wm(){return null}var Uh=typeof reportError=="function"?reportError:function(t){console.error(t)};function Dl(t){this._internalRoot=t}Gi.prototype.render=Dl.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(q(409));Ki(t,e,null,null)};Gi.prototype.unmount=Dl.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Or(function(){Ki(null,t,null,null)}),e[Mt]=null}};function Gi(t){this._internalRoot=t}Gi.prototype.unstable_scheduleHydration=function(t){if(t){var e=md();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Jt.length&&e!==0&&e<Jt[r].priority;r++);Jt.splice(r,0,t),r===0&&vd(t)}};function Ll(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Zi(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Xu(){}function Hm(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Ai(o);i.call(u)}}var o=Lh(e,n,t,0,null,!1,!1,"",Xu);return t._reactRootContainer=o,t[Mt]=o.current,as(t.nodeType===8?t.parentNode:t),Or(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var u=Ai(l);a.call(u)}}var l=Rl(t,0,!1,null,null,!1,!1,"",Xu);return t._reactRootContainer=l,t[Mt]=l.current,as(t.nodeType===8?t.parentNode:t),Or(function(){Ki(e,l,r,n)}),l}function Qi(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Ai(o);a.call(l)}}Ki(e,o,t,s)}else o=Hm(r,e,t,s,n);return Ai(o)}fd=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Ln(e.pendingLanes);r!==0&&(rl(e,r|1),tt(e,je()),!(ce&6)&&(mn=je()+500,pr()))}break;case 13:Or(function(){var n=Wt(t,1);if(n!==null){var s=qe();St(n,t,1,s)}}),zl(t,1)}};nl=function(t){if(t.tag===13){var e=Wt(t,134217728);if(e!==null){var r=qe();St(e,t,134217728,r)}zl(t,134217728)}};pd=function(t){if(t.tag===13){var e=lr(t),r=Wt(t,e);if(r!==null){var n=qe();St(r,t,e,n)}zl(t,e)}};md=function(){return fe};gd=function(t,e){var r=fe;try{return fe=t,e()}finally{fe=r}};Jo=function(t,e,r){switch(e){case"input":if(Ho(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=Fi(n);if(!s)throw Error(q(90));Kc(n),Ho(n,s)}}}break;case"textarea":Zc(t,r);break;case"select":e=r.value,e!=null&&rn(t,!!r.multiple,e,!1)}};rd=Al;nd=Or;var Vm={usingClientEntryPoint:!1,Events:[_s,Zr,Fi,ed,td,Al]},In={findFiberByHostInstance:xr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qm={bundleType:In.bundleType,version:In.version,rendererPackageName:In.rendererPackageName,rendererConfig:In.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=od(t),t===null?null:t.stateNode},findFiberByHostInstance:In.findFiberByHostInstance||Wm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ws=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ws.isDisabled&&Ws.supportsFiber)try{Di=Ws.inject(qm),At=Ws}catch{}}ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vm;ot.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ll(e))throw Error(q(200));return Mm(t,e,null,r)};ot.createRoot=function(t,e){if(!Ll(t))throw Error(q(299));var r=!1,n="",s=Uh;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Rl(t,1,!1,null,null,r,!1,n,s),t[Mt]=e.current,as(t.nodeType===8?t.parentNode:t),new Dl(e)};ot.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(q(188)):(t=Object.keys(t).join(","),Error(q(268,t)));return t=od(e),t=t===null?null:t.stateNode,t};ot.flushSync=function(t){return Or(t)};ot.hydrate=function(t,e,r){if(!Zi(e))throw Error(q(200));return Qi(null,t,e,!0,r)};ot.hydrateRoot=function(t,e,r){if(!Ll(t))throw Error(q(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=Uh;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=Lh(e,null,t,1,r??null,s,!1,i,o),t[Mt]=e.current,as(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new Gi(e)};ot.render=function(t,e,r){if(!Zi(e))throw Error(q(200));return Qi(null,t,e,!1,r)};ot.unmountComponentAtNode=function(t){if(!Zi(t))throw Error(q(40));return t._reactRootContainer?(Or(function(){Qi(null,null,t,!1,function(){t._reactRootContainer=null,t[Mt]=null})}),!0):!1};ot.unstable_batchedUpdates=Al;ot.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Zi(r))throw Error(q(200));if(t==null||t._reactInternals===void 0)throw Error(q(38));return Qi(t,e,r,!1,n)};ot.version="18.3.1-next-f1338f8080-20240426";function $h(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($h)}catch(t){console.error(t)}}$h(),$c.exports=ot;var Km=$c.exports,Fh,ec=Km;Fh=ec.createRoot,ec.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Gm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ne=(t,e)=>{const r=ae.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...u},d)=>ae.createElement("svg",{ref:d,...Gm,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${Zm(t)}`,a].join(" "),...u},[...e.map(([h,v])=>ae.createElement(h,v)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bh=Ne("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=Ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=Ne("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=Ne("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tc=Ne("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ym=Ne("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=Ne("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=Ne("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0=Ne("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=Ne("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0=Ne("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r0=Ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=Ne("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=Ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0=Ne("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=Ne("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=Ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=Ne("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nc=Ne("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=Ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),s0=({chats:t,activeChat:e,settings:r,onSelectChat:n,onNewChat:s,onDeleteChat:i,onOpenSettings:o})=>S.jsxs("div",{className:"w-80 bg-gray-950/80 backdrop-blur-xl border-r border-gray-800/50 flex flex-col",children:[S.jsx("div",{className:"p-4 border-b border-gray-700/50",children:S.jsxs("div",{className:"space-y-3",children:[S.jsxs("button",{onClick:s,className:"w-full flex items-center gap-3 px-4 py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 transition-all duration-200 shadow-lg hover:shadow-xl",children:[S.jsx(r0,{className:"w-5 h-5"}),"New Chat"]}),S.jsxs("button",{onClick:o,className:"w-full flex items-center gap-3 px-4 py-3 bg-gray-800/60 text-gray-300 rounded-lg hover:bg-gray-700/60 transition-all duration-200",children:[S.jsx(Hh,{className:"w-5 h-5"}),"Settings"]})]})}),S.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[S.jsx("h3",{className:"text-gray-400 text-sm font-medium mb-4 uppercase tracking-wider",children:"Chat History"}),S.jsxs("div",{className:"space-y-2",children:[t.map(a=>S.jsxs("div",{className:`group relative flex items-center gap-3 p-3 rounded-lg cursor-pointer transition-all duration-200 ${(e==null?void 0:e.id)===a.id?"bg-purple-600/20 border border-purple-500/30":"hover:bg-gray-900/50"}`,onClick:()=>n(a),children:[S.jsx(Wh,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),S.jsxs("div",{className:"flex-1 min-w-0",children:[S.jsx("p",{className:"text-white text-sm truncate",children:a.title}),S.jsx("p",{className:"text-gray-400 text-xs",children:new Date(a.updatedAt).toLocaleDateString()})]}),S.jsx("button",{onClick:l=>{l.stopPropagation(),i(a.id)},className:"opacity-0 group-hover:opacity-100 p-1 text-gray-400 hover:text-red-400 transition-all duration-200",children:S.jsx(Oa,{className:"w-4 h-4"})})]},a.id)),t.length===0&&S.jsxs("p",{className:"text-gray-500 text-sm text-center py-8",children:["No chat history yet.",S.jsx("br",{}),"Start a new conversation!"]})]})]})]}),i0=({message:t,settings:e,hasAttachments:r})=>{const[n,s]=Gl.useState(!1),[i,o]=Gl.useState(null),a=()=>e.userAvatar==="custom"&&e.customUserAvatar?S.jsx("img",{src:e.customUserAvatar,alt:"User avatar",className:"w-8 h-8 rounded-full object-cover"}):S.jsx("span",{className:"text-lg",children:e.userAvatar}),l=()=>e.botAvatar==="custom"&&e.customBotAvatar?S.jsx("img",{src:e.customBotAvatar,alt:"Bot avatar",className:"w-8 h-8 rounded-full object-cover"}):S.jsx("span",{className:"text-lg",children:e.botAvatar}),u=async(v,p)=>{try{await navigator.clipboard.writeText(v),o(p),setTimeout(()=>o(null),2e3)}catch(_){console.error("Failed to copy text: ",_)}},d=v=>v.split(/(```[\s\S]*?```)/g).map((_,y)=>{if(_.startsWith("```")&&_.endsWith("```")){const k=_.split(`
`),c=k[0].replace("```","").trim(),f=k.slice(1,-1).join(`
`),m=`code-${t.id}-${y}`;return S.jsxs("div",{className:"my-4 bg-gray-900/80 border border-gray-700/50 rounded-lg overflow-hidden",children:[S.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-gray-800/60 border-b border-gray-700/50",children:[S.jsx("span",{className:"text-xs text-gray-400 font-medium uppercase tracking-wider",children:c||"Code"}),S.jsx("button",{onClick:()=>u(f,m),className:"flex items-center gap-1 px-2 py-1 text-xs text-gray-400 hover:text-white bg-gray-700/50 hover:bg-gray-600/50 rounded transition-colors",children:i===m?S.jsxs(S.Fragment,{children:[S.jsx(Bh,{className:"w-3 h-3"}),"Copied!"]}):S.jsxs(S.Fragment,{children:[S.jsx(Mh,{className:"w-3 h-3"}),"Copy"]})})]}),S.jsx("pre",{className:"p-4 overflow-x-auto text-sm",children:S.jsx("code",{className:"text-gray-100 font-mono leading-relaxed",children:f})})]},y)}else return S.jsx("div",{className:"whitespace-pre-wrap",children:h(_)},y)}),h=v=>{let p=v.replace(/\*\*(.*?)\*\*/g,'<strong class="font-bold text-white">$1</strong>');return p=p.replace(/\*(.*?)\*/g,'<em class="italic text-gray-200">$1</em>'),p=p.replace(/`([^`]+)`/g,'<code class="bg-gray-800/60 text-purple-300 px-1 py-0.5 rounded text-sm font-mono">$1</code>'),p=p.replace(/^## (.*$)/gm,'<h2 class="text-xl font-bold text-white mt-4 mb-2">$1</h2>'),p=p.replace(/^### (.*$)/gm,'<h3 class="text-lg font-semibold text-white mt-3 mb-2">$1</h3>'),p=p.replace(/^[-*] (.*)$/gm,'<div class="flex items-start gap-2 my-1"><span class="text-purple-400 mt-1">•</span><span>$1</span></div>'),p=p.replace(/^\d+\. (.*)$/gm,'<div class="flex items-start gap-2 my-1"><span class="text-blue-400 font-medium">•</span><span>$1</span></div>'),S.jsx("div",{dangerouslySetInnerHTML:{__html:p}})};return S.jsxs("div",{className:`flex gap-4 p-4 ${t.isUser?"bg-transparent":"bg-gray-900/40"}`,children:[S.jsx("div",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center ${t.isUser?"bg-gradient-to-r from-purple-600 to-blue-600":"bg-gradient-to-r from-green-600 to-teal-600"}`,children:t.isUser?a():l()}),S.jsxs("div",{className:"flex-1 space-y-2",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"text-sm font-medium text-gray-300",children:t.isUser?e.userName:e.botName}),t.isUser&&t.isDeepSearch&&S.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-orange-600/20 border border-orange-500/30 rounded-full",children:[S.jsx(Pa,{className:"w-3 h-3 text-orange-400"}),S.jsx("span",{className:"text-xs text-orange-300",children:"Deep Search"})]}),t.isUser&&r&&S.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-blue-600/20 border border-blue-500/30 rounded-full",children:[S.jsx(t0,{className:"w-3 h-3 text-blue-400"}),S.jsx("span",{className:"text-xs text-blue-300",children:"Files attached"})]}),S.jsx("span",{className:"text-xs text-gray-500",children:t.timestamp.toLocaleTimeString()})]}),S.jsx("div",{className:"text-gray-200 text-sm leading-relaxed",children:d(t.content)}),!t.isUser&&t.sources&&t.sources.length>0&&S.jsxs("div",{className:"mt-3 border-t border-gray-700/50 pt-3",children:[S.jsxs("button",{onClick:()=>s(!n),className:"flex items-center gap-2 text-xs text-gray-400 hover:text-gray-300 transition-colors",children:[S.jsx(Pa,{className:"w-3 h-3"}),S.jsxs("span",{children:["Sources researched (",t.sources.length,")"]}),n?S.jsx(Jm,{className:"w-3 h-3"}):S.jsx(Qm,{className:"w-3 h-3"})]}),n&&S.jsx("div",{className:"mt-2 space-y-1",children:t.sources.map((v,p)=>S.jsxs("a",{href:v,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-xs text-blue-400 hover:text-blue-300 transition-colors p-2 bg-gray-800/40 rounded border border-gray-700/30 hover:border-gray-600/50",children:[S.jsx(Ym,{className:"w-3 h-3 flex-shrink-0"}),S.jsx("span",{className:"truncate",children:v})]},p))})]})]})]})},o0=({onSendMessage:t,onDeepSearch:e,isLoading:r})=>{const[n,s]=ae.useState(""),[i,o]=ae.useState([]),[a,l]=ae.useState(!1),[u,d]=ae.useState(!1),[h,v]=ae.useState(!1),p=()=>{n.trim()&&!r&&(u&&e?e(n.trim(),i.length>0?i:void 0):t(n.trim(),i.length>0?i:void 0),s(""),o([]),l(!1),d(!1))},_=async T=>{var P;const j=(P=T.clipboardData)==null?void 0:P.items;if(j)for(let O=0;O<j.length;O++){const D=j[O];if(D.type.startsWith("image/")){T.preventDefault();const J=D.getAsFile();J&&(o(N=>[...N,J]),l(!0));break}}},y=T=>{T.preventDefault(),v(!0)},k=T=>{T.preventDefault(),v(!1)},c=T=>{T.preventDefault(),v(!1);const j=Array.from(T.dataTransfer.files);j.length>0&&(o(P=>[...P,...j]),l(!0))},f=T=>{const j=Array.from(T.target.files||[]);o(P=>[...P,...j]),T.target.value=""},m=T=>{o(j=>j.filter((P,O)=>O!==T))},x=T=>{if(T===0)return"0 Bytes";const j=1024,P=["Bytes","KB","MB","GB"],O=Math.floor(Math.log(T)/Math.log(j));return parseFloat((T/Math.pow(j,O)).toFixed(2))+" "+P[O]},E=T=>{T.key==="Enter"&&!T.shiftKey&&(T.preventDefault(),p())};return S.jsxs("div",{className:`p-4 border-t border-gray-800/50 bg-gray-950/80 backdrop-blur-xl transition-all duration-200 ${h?"bg-purple-900/20 border-purple-500/50":""} ${u?"bg-orange-900/20 border-orange-500/50":""}`,onDragOver:y,onDragLeave:k,onDrop:c,children:[h&&S.jsx("div",{className:"mb-3 p-3 bg-gradient-to-r from-purple-600/20 to-blue-600/20 border border-purple-500/30 rounded-lg",children:S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(jr,{className:"w-4 h-4 text-purple-400"}),S.jsx("span",{className:"text-purple-300 text-sm font-medium",children:"Drop files here to upload"})]})}),a&&S.jsxs("div",{className:"mb-4 p-3 bg-gray-900/60 border border-gray-700/50 rounded-lg",children:[S.jsxs("div",{className:"flex items-center justify-between mb-2",children:[S.jsx("h4",{className:"text-sm font-medium text-white",children:"File Upload"}),S.jsx("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-white transition-colors",children:S.jsx(Pi,{className:"w-4 h-4"})})]}),S.jsx("input",{type:"file",multiple:!0,accept:".txt,.pdf,.doc,.docx,.zip,.rar,.7z,.tar,.gz,.json,.csv,.xml,.html,.md,.py,.js,.ts,.jsx,.tsx,.css,.scss,.less,.sql,.log",onChange:f,className:"hidden",id:"file-upload"}),S.jsxs("label",{htmlFor:"file-upload",className:"flex items-center gap-2 px-3 py-2 bg-gray-800/60 text-gray-300 rounded-lg hover:bg-gray-700/60 transition-all cursor-pointer text-sm border border-gray-600/50 hover:border-gray-500/50",children:[S.jsx(jr,{className:"w-4 h-4"}),"Choose Files (ZIP, PDF, TXT, Code files, etc.)"]}),i.length>0&&S.jsxs("div",{className:"mt-3 space-y-2",children:[S.jsxs("p",{className:"text-xs text-gray-400",children:["Uploaded Files (",i.length,"):"]}),i.map((T,j)=>S.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-800/40 rounded border border-gray-600/30",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[T.name.toLowerCase().endsWith(".zip")?S.jsx("div",{className:"w-4 h-4 text-purple-400 font-bold text-xs flex items-center justify-center",children:"📦"}):S.jsx(Xm,{className:"w-4 h-4 text-blue-400"}),S.jsxs("div",{children:[S.jsxs("p",{className:"text-sm text-white truncate max-w-48",children:[T.name.toLowerCase().endsWith(".zip")&&"📦 ",T.name]}),S.jsxs("p",{className:"text-xs text-gray-400",children:[x(T.size),T.name.toLowerCase().endsWith(".zip")&&" (ZIP Archive)"]})]})]}),S.jsx("button",{onClick:()=>m(j),className:"p-1 text-gray-400 hover:text-red-400 transition-colors",children:S.jsx(Pi,{className:"w-3 h-3"})})]},j))]})]}),S.jsxs("div",{className:"flex gap-3 items-end",children:[S.jsx("div",{className:"flex-1 relative",children:S.jsx("textarea",{value:n,onChange:T=>s(T.target.value),onKeyPress:E,onPaste:_,placeholder:"Type your message... (Ctrl+V to paste images)",disabled:r,className:"w-full bg-gray-900/60 border border-gray-700/50 rounded-lg px-4 py-3 text-white placeholder-gray-400 resize-none focus:outline-none transition-all duration-200 min-h-[50px] max-h-32 focus:border-purple-500/50 focus:ring-2 focus:ring-purple-500/20",rows:1,style:{height:"auto"},onInput:T=>{const j=T.target;j.style.height="auto",j.style.height=Math.min(j.scrollHeight,128)+"px"}})}),S.jsxs("div",{className:"flex gap-2",children:[S.jsxs("button",{onClick:()=>l(!a),className:`flex-shrink-0 w-12 h-12 rounded-lg transition-all duration-200 flex items-center justify-center shadow-lg hover:shadow-xl ${a||i.length>0?"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white":"bg-gray-700/60 hover:bg-gray-600/60 text-gray-300"}`,title:"Upload files",children:[S.jsx(jr,{className:"w-5 h-5"}),i.length>0&&S.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:i.length})]}),S.jsx("button",{onClick:()=>{n.trim()&&!r&&(e==null||e(n.trim(),i.length>0?i:void 0),s(""),o([]),l(!1))},disabled:r,className:`flex-shrink-0 w-12 h-12 text-white rounded-lg transition-all duration-200 flex items-center justify-center shadow-lg hover:shadow-xl ${n.trim()?"bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-700 hover:to-red-700":"bg-gray-700/60 opacity-50 cursor-not-allowed"}`,title:"Deep Search - Comprehensive AI Analysis",children:r?S.jsx(rc,{className:"w-5 h-5 animate-spin"}):S.jsx(Pa,{className:"w-5 h-5"})}),S.jsx("button",{onClick:p,disabled:!n.trim()||r,className:"flex-shrink-0 w-12 h-12 text-white rounded-lg transition-all duration-200 flex items-center justify-center shadow-lg hover:shadow-xl bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",title:"Send message",children:r?S.jsx(rc,{className:"w-5 h-5 animate-spin"}):S.jsx(n0,{className:"w-5 h-5"})})]})]})]})},a0=({settings:t})=>{const e=()=>t.botAvatar==="custom"&&t.customBotAvatar?S.jsx("img",{src:t.customBotAvatar,alt:"Bot avatar",className:"w-8 h-8 rounded-full object-cover"}):S.jsx("span",{className:"text-lg",children:t.botAvatar});return S.jsxs("div",{className:"flex gap-4 p-4 bg-gray-900/40",children:[S.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-gradient-to-r from-green-600 to-teal-600 flex items-center justify-center text-lg",children:e()}),S.jsxs("div",{className:"flex-1 space-y-2",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"text-sm font-medium text-gray-300",children:t.botName}),S.jsx("span",{className:"text-xs text-gray-500",children:"typing..."})]}),S.jsxs("div",{className:"flex gap-1",children:[S.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),S.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),S.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})]})},Ao={userAvatar:"👤",botAvatar:"🤖",userName:"You",botName:"D00M Studios",useCrossChat:!1},sc={user:["👤","😊","😎","🧑‍💻","👨‍💻","👩‍💻","🦸","🦸‍♀️","🦸‍♂️","🧙‍♂️","🧙‍♀️","👑","🎭","🎨","🎯"],bot:["🤖","🔥","⚡","💀","👾","🎮","🚀","⭐","💎","🔮","🎪","🎭","🎨","🎯","🎲"]},l0="modulepreload",u0=function(t){return"/"+t},ic={},xs=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(l=>{if(l=u0(l),l in ic)return;ic[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":l0,u||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((v,p)=>{h.addEventListener("load",v),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},c0=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>xs(async()=>{const{default:n}=await Promise.resolve().then(()=>kn);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class Ul extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class d0 extends Ul{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class oc extends Ul{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class ac extends Ul{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ia;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Ia||(Ia={}));var h0=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(h){o(h)}}function l(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};class f0{constructor(e,{headers:r={},customFetch:n,region:s=Ia.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=c0(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return h0(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let a={},{region:l}=r;l||(l=this.region);const u=new URL(`${this.url}/${e}`);l&&l!=="any"&&(a["x-region"]=l,u.searchParams.set("forceFunctionRegion",l));let d;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(a["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(a["Content-Type"]="application/json",d=JSON.stringify(o)));const h=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:d}).catch(y=>{throw new d0(y)}),v=h.headers.get("x-relay-error");if(v&&v==="true")throw new oc(h);if(!h.ok)throw new ac(h);let p=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),_;return p==="application/json"?_=yield h.json():p==="application/octet-stream"?_=yield h.blob():p==="text/event-stream"?_=h:p==="multipart/form-data"?_=yield h.formData():_=yield h.text(),{data:_,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof ac||s instanceof oc?s.context:void 0}}})}}var Je={},$l={},Ji={},Ss={},Yi={},Xi={},p0=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},gn=p0();const m0=gn.fetch,Vh=gn.fetch.bind(gn),qh=gn.Headers,g0=gn.Request,v0=gn.Response,kn=Object.freeze(Object.defineProperty({__proto__:null,Headers:qh,Request:g0,Response:v0,default:Vh,fetch:m0},Symbol.toStringTag,{value:"Module"})),y0=kf(kn);var eo={};Object.defineProperty(eo,"__esModule",{value:!0});let w0=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};eo.default=w0;var Kh=We&&We.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xi,"__esModule",{value:!0});const _0=Kh(y0),k0=Kh(eo);let x0=class{constructor(e){var r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(r=e.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=_0.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=new Headers(this.headers),this.headers.set(e,r),this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l,u;let d=null,h=null,v=null,p=i.status,_=i.statusText;if(i.ok){if(this.method!=="HEAD"){const f=await i.text();f===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=f:h=JSON.parse(f))}const k=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),c=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");k&&c&&c.length>1&&(v=parseInt(c[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,v=null,p=406,_="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const k=await i.text();try{d=JSON.parse(k),Array.isArray(d)&&i.status===404&&(h=[],d=null,p=200,_="OK")}catch{i.status===404&&k===""?(p=204,_="No Content"):d={message:k}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,p=200,_="OK"),d&&this.shouldThrowOnError)throw new k0.default(d)}return{error:d,data:h,count:v,status:p,statusText:_}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}returns(){return this}overrideTypes(){return this}};Xi.default=x0;var S0=We&&We.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Yi,"__esModule",{value:!0});const b0=S0(Xi);let E0=class extends b0.default{select(e){let r=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Yi.default=E0;var C0=We&&We.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ss,"__esModule",{value:!0});const j0=C0(Yi);let T0=class extends j0.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};Ss.default=T0;var N0=We&&We.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ji,"__esModule",{value:!0});const Rn=N0(Ss);let A0=class{constructor(e,{headers:r={},schema:n,fetch:s}){this.url=e,this.headers=new Headers(r),this.schema=n,this.fetch=s}select(e,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new Rn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:r,defaultToNull:n=!0}={}){var s;const i="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Rn.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){var o;const a="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Rn.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:r}={}){var n;const s="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new Rn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var r;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Rn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};Ji.default=A0;var Gh=We&&We.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($l,"__esModule",{value:!0});const P0=Gh(Ji),O0=Gh(Ss);let I0=class Zh{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(e){const r=new URL(`${this.url}/${e}`);return new P0.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Zh(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${e}`);let u;n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([h,v])=>v!==void 0).map(([h,v])=>[h,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([h,v])=>{l.searchParams.append(h,v)})):(a="POST",u=r);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new O0.default({method:a,url:l,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};$l.default=I0;var xn=We&&We.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Je,"__esModule",{value:!0});Je.PostgrestError=Je.PostgrestBuilder=Je.PostgrestTransformBuilder=Je.PostgrestFilterBuilder=Je.PostgrestQueryBuilder=Je.PostgrestClient=void 0;const Qh=xn($l);Je.PostgrestClient=Qh.default;const Jh=xn(Ji);Je.PostgrestQueryBuilder=Jh.default;const Yh=xn(Ss);Je.PostgrestFilterBuilder=Yh.default;const Xh=xn(Yi);Je.PostgrestTransformBuilder=Xh.default;const ef=xn(Xi);Je.PostgrestBuilder=ef.default;const tf=xn(eo);Je.PostgrestError=tf.default;var R0=Je.default={PostgrestClient:Qh.default,PostgrestQueryBuilder:Jh.default,PostgrestFilterBuilder:Yh.default,PostgrestTransformBuilder:Xh.default,PostgrestBuilder:ef.default,PostgrestError:tf.default};const{PostgrestClient:z0,PostgrestQueryBuilder:Wv,PostgrestFilterBuilder:Hv,PostgrestTransformBuilder:Vv,PostgrestBuilder:qv,PostgrestError:Kv}=R0;class D0{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const r=parseInt(process.versions.node.split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const L0="2.15.1",U0=`realtime-js/${L0}`,$0="1.0.0",Ra=1e4,F0=1e3,B0=100;var Zn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Zn||(Zn={}));var Ae;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ae||(Ae={}));var _t;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(_t||(_t={}));var za;(function(t){t.websocket="websocket"})(za||(za={}));var kr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(kr||(kr={}));class M0{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(e.slice(o,o+s));o=o+s;const l=n.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class rf{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var me;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(me||(me={}));const lc=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,o)=>(i[o]=W0(o,t,e,s),i),{})},W0=(t,e,r,n)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?nf(i,o):Da(o)},nf=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return K0(e,r)}switch(t){case me.bool:return H0(e);case me.float4:case me.float8:case me.int2:case me.int4:case me.int8:case me.numeric:case me.oid:return V0(e);case me.json:case me.jsonb:return q0(e);case me.timestamp:return G0(e);case me.abstime:case me.date:case me.daterange:case me.int4range:case me.int8range:case me.money:case me.reltime:case me.text:case me.time:case me.timestamptz:case me.timetz:case me.tsrange:case me.tstzrange:return Da(e);default:return Da(e)}},Da=t=>t,H0=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},V0=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},q0=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},K0=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>nf(e,a))}return t},G0=t=>typeof t=="string"?t.replace(" ","T"):t,sf=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Po{constructor(e,r,n={},s=Ra){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var uc;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(uc||(uc={}));class Qn{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Qn.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Qn.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Qn.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),a={},l={};return this.map(i,(u,d)=>{o[u]||(l[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const v=d.map(k=>k.presence_ref),p=h.map(k=>k.presence_ref),_=d.filter(k=>p.indexOf(k.presence_ref)<0),y=h.filter(k=>v.indexOf(k.presence_ref)<0);_.length>0&&(a[u]=_),y.length>0&&(l[u]=y)}else a[u]=d}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const d=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),d.length>0){const h=e[a].map(p=>p.presence_ref),v=d.filter(p=>h.indexOf(p.presence_ref)<0);e[a].unshift(...v)}n(a,d,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const d=l.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[a]=u,s(a,u,l),u.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var cc;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(cc||(cc={}));var Jn;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Jn||(Jn={}));var zt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(zt||(zt={}));class Fl{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Ae.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Po(this,_t.join,this.params,this.timeout),this.rejoinTimer=new rf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ae.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ae.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ae.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ae.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ae.errored,this.rejoinTimer.scheduleTimeout())}),this._on(_t.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Qn(this),this.broadcastEndpointURL=sf(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Ae.closed){const{config:{broadcast:i,presence:o,private:a}}=this.params,l=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&s!==void 0?s:[],u=!!this.bindings[Jn.PRESENCE]&&this.bindings[Jn.PRESENCE].length>0,d={},h={broadcast:i,presence:Object.assign(Object.assign({},o),{enabled:u}),postgres_changes:l,private:a};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(v=>e==null?void 0:e(zt.CHANNEL_ERROR,v)),this._onClose(()=>e==null?void 0:e(zt.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var p;if(this.socket.setAuth(),v===void 0){e==null||e(zt.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,y=(p=_==null?void 0:_.length)!==null&&p!==void 0?p:0,k=[];for(let c=0;c<y;c++){const f=_[c],{filter:{event:m,schema:x,table:E,filter:T}}=f,j=v&&v[c];if(j&&j.event===m&&j.schema===x&&j.table===E&&j.filter===T)k.push(Object.assign(Object.assign({},f),{id:j.id}));else{this.unsubscribe(),this.state=Ae.errored,e==null||e(zt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,e&&e(zt.SUBSCRIBED);return}}).receive("error",v=>{this.state=Ae.errored,e==null||e(zt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(zt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Ae.joined&&e===Jn.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ae.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(_t.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Po(this,_t.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ae.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Po(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>B0){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:d}=_t;if(n&&[a,l,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let v=this._onMessage(o,r,n);if(r&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var _,y,k;return((_=p.filter)===null||_===void 0?void 0:_.event)==="*"||((k=(y=p.filter)===null||y===void 0?void 0:y.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===o}).map(p=>p.callback(v,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var _,y,k,c,f,m;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const x=p.id,E=(_=p.filter)===null||_===void 0?void 0:_.event;return x&&((y=r.ids)===null||y===void 0?void 0:y.includes(x))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((k=r.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const x=(f=(c=p==null?void 0:p.filter)===null||c===void 0?void 0:c.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return x==="*"||x===((m=r==null?void 0:r.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof v=="object"&&"ids"in v){const _=v.data,{schema:y,table:k,commit_timestamp:c,type:f,errors:m}=_;v=Object.assign(Object.assign({},{schema:y,table:k,commit_timestamp:c,eventType:f,new:{},old:{},errors:m}),this._getPayloadRecords(_))}p.callback(v,n)})}_isClosed(){return this.state===Ae.closed}_isJoined(){return this.state===Ae.joined}_isJoining(){return this.state===Ae.joining}_isLeaving(){return this.state===Ae.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Fl.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(_t.close,{},e)}_onError(e){this._on(_t.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ae.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=lc(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=lc(e.columns,e.old_record)),r}}const dc=()=>{},Hs={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Z0=[1e3,2e3,5e3,1e4],Q0=1e4,J0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Y0{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ra,this.transport=null,this.heartbeatIntervalMs=Hs.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=dc,this.ref=0,this.reconnectTimer=null,this.logger=dc,this.conn=null,this.sendBuffer=[],this.serializer=new M0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>xs(async()=>{const{default:a}=await Promise.resolve().then(()=>kn);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${za.websocket}`,this.httpEndpoint=sf(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=D0.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:$0}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Zn.connecting:return kr.Connecting;case Zn.open:return kr.Open;case Zn.closing:return kr.Closing;default:return kr.Closed}}isConnected(){return this.connectionState()===kr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Fl(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(F0,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Hs.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{r.topic==="phoenix"&&r.event==="phx_reply"&&this.heartbeatCallback(r.payload.status==="ok"?"ok":"error"),r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(_t.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([J0],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:U0};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(_t.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new rf(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Hs.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,o,a,l,u;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Ra,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Hs.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(a=e==null?void 0:e.reconnectAfterMs)!==null&&a!==void 0?a:d=>Z0[d-1]||Q0,this.encode=(l=e==null?void 0:e.encode)!==null&&l!==void 0?l:(d,h)=>h(JSON.stringify(d)),this.decode=(u=e==null?void 0:e.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Bl extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Re(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class X0 extends Bl{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class La extends Bl{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var eg=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(h){o(h)}}function l(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const of=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>xs(async()=>{const{default:n}=await Promise.resolve().then(()=>kn);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},tg=()=>eg(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield xs(()=>Promise.resolve().then(()=>kn),void 0)).Response:Response}),Ua=t=>{if(Array.isArray(t))return t.map(r=>Ua(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Ua(n)}),e},rg=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var zr=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(h){o(h)}}function l(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const Oo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),ng=(t,e,r)=>zr(void 0,void 0,void 0,function*(){const n=yield tg();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new X0(Oo(s),i,o))}).catch(s=>{e(new La(Oo(s),s))}):e(new La(Oo(t),t))}),sg=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(rg(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r))};function bs(t,e,r,n,s,i){return zr(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,sg(e,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>ng(l,a,n))})})}function Oi(t,e,r,n){return zr(this,void 0,void 0,function*(){return bs(t,"GET",e,r,n)})}function Dt(t,e,r,n,s){return zr(this,void 0,void 0,function*(){return bs(t,"POST",e,n,s,r)})}function $a(t,e,r,n,s){return zr(this,void 0,void 0,function*(){return bs(t,"PUT",e,n,s,r)})}function ig(t,e,r,n){return zr(this,void 0,void 0,function*(){return bs(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function af(t,e,r,n,s){return zr(this,void 0,void 0,function*(){return bs(t,"DELETE",e,n,s,r)})}var Ze=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(h){o(h)}}function l(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const og={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},hc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ag{constructor(e,r={},n,s){this.url=e,this.headers=r,this.bucketId=n,this.fetch=of(s)}uploadOrUpdate(e,r,n,s){return Ze(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},hc),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield(e=="PUT"?$a:Dt)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(Re(i))return{data:null,error:i};throw i}})}upload(e,r,n){return Ze(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return Ze(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:hc.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield $a(this.fetch,a.toString(),l,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(l){if(Re(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return Ze(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Dt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Bl("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(Re(n))return{data:null,error:n};throw n}})}update(e,r,n){return Ze(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Ze(this,void 0,void 0,function*(){try{return{data:yield Dt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Re(s))return{data:null,error:s};throw s}})}copy(e,r,n){return Ze(this,void 0,void 0,function*(){try{return{data:{path:(yield Dt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Re(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return Ze(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Dt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(Re(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return Ze(this,void 0,void 0,function*(){try{const s=yield Dt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(Re(s))return{data:null,error:s};throw s}})}download(e,r){return Ze(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Oi(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Re(a))return{data:null,error:a};throw a}})}info(e){return Ze(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Oi(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Ua(n),error:null}}catch(n){if(Re(n))return{data:null,error:n};throw n}})}exists(e){return Ze(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield ig(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Re(n)&&n instanceof La){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(e){return Ze(this,void 0,void 0,function*(){try{return{data:yield af(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(Re(r))return{data:null,error:r};throw r}})}list(e,r,n){return Ze(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},og),r),{prefix:e||""});return{data:yield Dt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Re(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const lg="2.10.4",ug={"X-Client-Info":`storage-js/${lg}`};var Lr=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(h){o(h)}}function l(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};class cg{constructor(e,r={},n,s){const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},ug),r),this.fetch=of(n)}listBuckets(){return Lr(this,void 0,void 0,function*(){try{return{data:yield Oi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Re(e))return{data:null,error:e};throw e}})}getBucket(e){return Lr(this,void 0,void 0,function*(){try{return{data:yield Oi(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(Re(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return Lr(this,void 0,void 0,function*(){try{return{data:yield Dt(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Re(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return Lr(this,void 0,void 0,function*(){try{return{data:yield $a(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Re(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Lr(this,void 0,void 0,function*(){try{return{data:yield Dt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Re(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Lr(this,void 0,void 0,function*(){try{return{data:yield af(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(Re(r))return{data:null,error:r};throw r}})}}class dg extends cg{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new ag(this.url,this.headers,e,this.fetch)}}const hg="2.56.0";let $n="";typeof Deno<"u"?$n="deno":typeof document<"u"?$n="web":typeof navigator<"u"&&navigator.product==="ReactNative"?$n="react-native":$n="node";const fg={"X-Client-Info":`supabase-js-${$n}/${hg}`},pg={headers:fg},mg={schema:"public"},gg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},vg={};var yg=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(h){o(h)}}function l(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const wg=t=>{let e;return t?e=t:typeof fetch>"u"?e=Vh:e=fetch,(...r)=>e(...r)},_g=()=>typeof Headers>"u"?qh:Headers,kg=(t,e,r)=>{const n=wg(r),s=_g();return(i,o)=>yg(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var xg=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(h){o(h)}}function l(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};function Sg(t){return t.endsWith("/")?t:t+"/"}function bg(t,e){var r,n;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:u,realtime:d,global:h}=e,v={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>xg(this,void 0,void 0,function*(){return""})};return t.accessToken?v.accessToken=t.accessToken:delete v.accessToken,v}const lf="2.71.1",Mr=30*1e3,Fa=3,Io=Fa*Mr,Eg="http://localhost:9999",Cg="supabase.auth.token",jg={"X-Client-Info":`gotrue-js/${lf}`},Ba="X-Supabase-Api-Version",uf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Tg=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Ng=10*60*1e3;class Ml extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function se(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Ag extends Ml{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Pg(t){return se(t)&&t.name==="AuthApiError"}class cf extends Ml{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class mr extends Ml{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class Gt extends mr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Og(t){return se(t)&&t.name==="AuthSessionMissingError"}class Vs extends mr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class qs extends mr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ks extends mr{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ig(t){return se(t)&&t.name==="AuthImplicitGrantRedirectError"}class fc extends mr{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ma extends mr{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Ro(t){return se(t)&&t.name==="AuthRetryableFetchError"}class pc extends mr{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Wa extends mr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ii="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),mc=` 	
\r=`.split(""),Rg=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<mc.length;e+=1)t[mc[e].charCodeAt(0)]=-2;for(let e=0;e<Ii.length;e+=1)t[Ii[e].charCodeAt(0)]=e;return t})();function gc(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Ii[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Ii[n]),e.queuedBits-=6}}function df(t,e,r){const n=Rg[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function vc(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Lg(o,n,r)};for(let o=0;o<t.length;o+=1)df(t.charCodeAt(o),s,i);return e.join("")}function zg(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Dg(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}zg(n,e)}}function Lg(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Ug(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)df(t.charCodeAt(s),r,n);return new Uint8Array(e)}function $g(t){const e=[];return Dg(t,r=>e.push(r)),new Uint8Array(e)}function Fg(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>gc(s,r,n)),gc(null,r,n),e.join("")}function Bg(t){return Math.round(Date.now()/1e3)+t}function Mg(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const vt=()=>typeof window<"u"&&typeof document<"u",gr={tested:!1,writable:!1},hf=()=>{if(!vt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(gr.tested)return gr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),gr.tested=!0,gr.writable=!0}catch{gr.tested=!0,gr.writable=!1}return gr.writable};function Wg(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const ff=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>xs(async()=>{const{default:n}=await Promise.resolve().then(()=>kn);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},Hg=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Wr=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},vr=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Kt=async(t,e)=>{await t.removeItem(e)};class to{constructor(){this.promise=new to.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}to.promiseConstructor=Promise;function zo(t){const e=t.split(".");if(e.length!==3)throw new Wa("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Tg.test(e[n]))throw new Wa("JWT not in base64url format");return{header:JSON.parse(vc(e[0])),payload:JSON.parse(vc(e[1])),signature:Ug(e[2]),raw:{header:e[0],payload:e[1]}}}async function Vg(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function qg(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function Kg(t){return("0"+t.toString(16)).substr(-2)}function Gg(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,Kg).join("")}async function Zg(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Qg(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await Zg(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ur(t,e,r=!1){const n=Gg();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Wr(t,`${e}-code-verifier`,s);const i=await Qg(n);return[i,n===i?"plain":"s256"]}const Jg=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Yg(t){const e=t.headers.get(Ba);if(!e||!e.match(Jg))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Xg(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function ev(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const tv=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function $r(t){if(!tv.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Do(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function yc(t){return JSON.parse(JSON.stringify(t))}var rv=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const _r=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),nv=[502,503,504];async function wc(t){var e;if(!Hg(t))throw new Ma(_r(t),0);if(nv.includes(t.status))throw new Ma(_r(t),t.status);let r;try{r=await t.json()}catch(i){throw new cf(_r(i),i)}let n;const s=Yg(t);if(s&&s.getTime()>=uf["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new pc(_r(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Gt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new pc(_r(r),t.status,r.weak_password.reasons);throw new Ag(_r(r),t.status||500,n)}const sv=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function ie(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Ba]||(i[Ba]=uf["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await iv(t,e,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function iv(t,e,r,n,s,i){const o=sv(e,n,s,i);let a;try{a=await t(r,Object.assign({},o))}catch(l){throw console.error(l),new Ma(_r(l),0)}if(a.ok||await wc(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await wc(l)}}function It(t){var e;let r=null;uv(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Bg(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function _c(t){const e=It(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Xt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function ov(t){return{data:t,error:null}}function av(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=rv(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function lv(t){return t}function uv(t){return t.access_token&&t.refresh_token&&t.expires_in}const Lo=["global","local","others"];var cv=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class dv{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=ff(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=Lo[0]){if(Lo.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Lo.join(", ")}`);try{return await ie(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await ie(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Xt})}catch(n){if(se(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=cv(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await ie(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:av,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(se(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await ie(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Xt})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await ie(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:lv});if(d.error)throw d.error;const h=await d.json(),v=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(_=>{const y=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(_.split(";")[1].split("=")[1]);u[`${k}Page`]=y}),u.total=parseInt(v)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(se(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){$r(e);try{return await ie(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Xt})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){$r(e);try{return await ie(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Xt})}catch(n){if(se(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){$r(e);try{return await ie(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Xt})}catch(n){if(se(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){$r(e.userId);try{const{data:r,error:n}=await ie(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(se(r))return{data:null,error:r};throw r}}async _deleteFactor(e){$r(e.userId),$r(e.id);try{return{data:await ie(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}}}function kc(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function hv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Fr={debug:!!(globalThis&&hf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class pf extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class fv extends pf{}async function pv(t,e,r){Fr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Fr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Fr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{Fr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Fr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new fv(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Fr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}hv();const mv={url:Eg,storageKey:Cg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:jg,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function xc(t,e,r){return await r()}const Br={};class gs{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=gs.nextInstanceID,gs.nextInstanceID+=1,this.instanceID>0&&vt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},mv),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new dv({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=ff(s.fetch),this.lock=s.lock||xc,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:vt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=pv:this.lock=xc,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:hf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=kc(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=kc(this.memoryStorage)),vt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=Br[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Br[this.storageKey]=Object.assign(Object.assign({},Br[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Br[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Br[this.storageKey]=Object.assign(Object.assign({},Br[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${lf}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=Wg(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),vt()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Ig(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return se(r)?{error:r}:{error:new cf("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:It}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(se(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:d,password:h,options:v}=e;let p=null,_=null;this.flowType==="pkce"&&([p,_]=await Ur(this.storage,this.storageKey)),i=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:d,password:h,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:p,code_challenge_method:_},xform:It})}else if("phone"in e){const{phone:d,password:h,options:v}=e;i=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},channel:(s=v==null?void 0:v.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:It})}else throw new qs("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(se(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:a}=e;r=await ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:_c})}else if("phone"in e){const{phone:i,password:o,options:a}=e;r=await ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:_c})}else throw new qs("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Vs}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(se(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,s,i,o,a,l,u,d,h,v,p;let _,y;if("message"in e)_=e.message,y=e.signature;else{const{chain:k,wallet:c,statement:f,options:m}=e;let x;if(vt())if(typeof c=="object")x=c;else{const T=window;if("solana"in T&&typeof T.solana=="object"&&("signIn"in T.solana&&typeof T.solana.signIn=="function"||"signMessage"in T.solana&&typeof T.solana.signMessage=="function"))x=T.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof c!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=c}const E=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in x&&x.signIn){const T=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),f?{statement:f}:null));let j;if(Array.isArray(T)&&T[0]&&typeof T[0]=="object")j=T[0];else if(T&&typeof T=="object"&&"signedMessage"in T&&"signature"in T)j=T;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)_=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),y=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in x)||typeof x.signMessage!="function"||!("publicKey"in x)||typeof x!="object"||!x.publicKey||!("toBase58"in x.publicKey)||typeof x.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${E.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(s=(n=m==null?void 0:m.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=m==null?void 0:m.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((a=m==null?void 0:m.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((l=m==null?void 0:m.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((u=m==null?void 0:m.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((h=(d=m==null?void 0:m.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...m.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const T=await x.signMessage(new TextEncoder().encode(_),"utf8");if(!T||!(T instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=T}}try{const{data:k,error:c}=await ie(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:Fg(y)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:It});if(c)throw c;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new Vs}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:c})}catch(k){if(se(k))return{data:{user:null,session:null},error:k};throw k}}async _exchangeCodeForSession(e){const r=await vr(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await ie(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:It});if(await Kt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Vs}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(se(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,a=await ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:It}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Vs}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(se(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Ur(this.storage,this.storageKey));const{error:h}=await ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:d}=await ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new qs("You must provide either an email or phone number.")}catch(a){if(se(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await ie(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:It});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(se(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Ur(this.storage,this.storageKey)),await ie(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:ov})}catch(i){if(se(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Gt;const{error:s}=await ie(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(se(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await ie(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:a}=await ie(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new qs("You must provide either an email or phone number and a type")}catch(r){if(se(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await vr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Io:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await vr(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Do()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Xt}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Gt}:await ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Xt})})}catch(r){if(se(r))return Og(r)&&(await this._removeSession(),await Kt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Gt;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Ur(this.storage,this.storageKey));const{data:u,error:d}=await ie(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Xt});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(se(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Gt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=zo(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(se(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Gt;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(se(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!vt())throw new Ks("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ks(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new fc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ks("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new fc("No code detected.");const{data:f,error:m}=await this._exchangeCodeForSession(e.code);if(m)throw m;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new Ks("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let v=d+h;l&&(v=parseInt(l));const p=v-d;p*1e3<=Mr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const _=v-h;d-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,v,d):d-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,v,d);const{data:y,error:k}=await this._getUser(i);if(k)throw k;const c={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:v,refresh_token:o,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:c,redirectType:e.type},error:null}}catch(n){if(se(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await vr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Pg(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Kt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=Mg(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Ur(this.storage,this.storageKey,!0));try{return await ie(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(se(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,u,d;const{data:h,error:v}=i;if(v)throw v;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ie(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return vt()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(se(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await ie(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(se(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await qg(async s=>(s>0&&await Vg(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await ie(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:It})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Ro(i)&&Date.now()+o-n<Mr})}catch(n){if(this._debug(r,"error",n),se(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),vt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await vr(this.storage,this.storageKey);if(s&&this.userStorage){let o=await vr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Wr(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Do()}else if(s&&!s.user&&!s.user){const o=await vr(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Kt(this.storage,this.storageKey+"-user"),await Wr(this.storage,this.storageKey,s)):s.user=Do()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Io;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Io}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Ro(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Gt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new to;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Gt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),se(i)){const o={session:null,error:i};return Ro(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Wr(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=yc(s);await Wr(this.storage,this.storageKey,i)}else{const s=yc(r);await Wr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Kt(this.storage,this.storageKey),await Kt(this.storage,this.storageKey+"-code-verifier"),await Kt(this.storage,this.storageKey+"-user"),this.userStorage&&await Kt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&vt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Mr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Mr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Mr}ms, refresh threshold is ${Fa} ticks`),s<=Fa&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof pf)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!vt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Ur(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await ie(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(se(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await ie(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(se(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:a}=await ie(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(r){if(se(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await ie(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(se(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=zo(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+Ng>s)return n;const{data:i,error:o}=await ie(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:p,error:_}=await this.getSession();if(_||!p.session)return{data:null,error:_};n=p.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=zo(n);r!=null&&r.allowExpired||Xg(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:s,signature:o},error:null}}const d=ev(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,$g(`${a}.${l}`)))throw new Wa("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}}}gs.nextInstanceID=0;const gv=gs;class vv extends gv{constructor(e){super(e)}}var yv=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(h){o(h)}}function l(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};class wv{constructor(e,r,n){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const a=Sg(e),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:mg,realtime:vg,auth:Object.assign(Object.assign({},gg),{storageKey:u}),global:pg},h=bg(n??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(v,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=kg(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new z0(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new dg(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new f0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return yv(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:a,debug:l},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new vv({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Y0(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const _v=(t,e,r)=>new wv(t,e,r);function kv(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}kv()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");let vn=null;const Sc=(t,e)=>{try{return vn=_v(t,e),!0}catch(r){return console.error("Failed to initialize Supabase:",r),!1}},bc=()=>vn!==null,xv=async(t,e)=>{if(!vn)throw new Error("Sync not initialized. Please configure Supabase connection.");try{const r={chats:t,settings:e,lastUpdated:new Date().toISOString()},{data:n,error:s}=await vn.rpc("generate_linking_code",{p_user_data:r,p_expires_minutes:60});if(s)throw s;return{code:n,expiresAt:new Date(Date.now()+60*60*1e3).toISOString()}}catch(r){throw console.error("Error generating sync code:",r),new Error("Failed to generate sync code. Please try again.")}},Sv=async t=>{if(!vn)throw new Error("Sync not initialized. Please configure Supabase connection.");try{const{data:e,error:r}=await vn.rpc("validate_linking_code",{p_code:t.toUpperCase()});if(r)throw r;if(!e.valid)throw new Error(e.error||"Invalid sync code");return{chats:e.chats||[],settings:e.settings||{},lastUpdated:new Date().toISOString()}}catch(e){throw console.error("Error importing sync code:",e),new Error("Failed to import data. Please check your sync code and try again.")}},bv=({isOpen:t,onClose:e,chats:r,settings:n,onImportData:s})=>{const[i,o]=ae.useState("setup"),[a,l]=ae.useState(""),[u,d]=ae.useState(""),[h,v]=ae.useState(!1),[p,_]=ae.useState(""),[y,k]=ae.useState(""),[c,f]=ae.useState(!1),[m,x]=ae.useState(""),[E,T]=ae.useState(""),[j,P]=ae.useState(!1);ae.useEffect(()=>{const w=localStorage.getItem("supabase_url"),F=localStorage.getItem("supabase_key");if(w&&F){x(w),T(F);const re=Sc(w,F);P(re),re&&o("export")}},[t]);const O=()=>{if(!m.trim()||!E.trim()){_("Please enter both Supabase URL and API key");return}Sc(m.trim(),E.trim())?(localStorage.setItem("supabase_url",m.trim()),localStorage.setItem("supabase_key",E.trim()),P(!0),o("export"),k("Sync configured successfully!"),_("")):_("Failed to configure sync. Please check your credentials.")},D=async()=>{if(!bc()){_("Sync not configured. Please set up Supabase connection first.");return}v(!0),_(""),k("");try{const w=await xv(r,n);l(w.code),k("Sync code generated successfully! Share this code with your other devices.")}catch(w){_(w instanceof Error?w.message:"Failed to generate sync code")}finally{v(!1)}},J=async()=>{if(!u.trim()){_("Please enter a sync code");return}if(!bc()){_("Sync not configured. Please set up Supabase connection first.");return}v(!0),_(""),k("");try{const w=await Sv(u.trim());s(w.chats,w.settings),k("Data imported successfully!"),d(""),setTimeout(()=>{e()},1500)}catch(w){_(w instanceof Error?w.message:"Failed to import data")}finally{v(!1)}},N=async()=>{try{await navigator.clipboard.writeText(a),f(!0),setTimeout(()=>f(!1),2e3)}catch{_("Failed to copy to clipboard")}},L=w=>{w.target===w.currentTarget&&e()};return t?S.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",onClick:L,children:S.jsxs("div",{className:"bg-gray-900/95 backdrop-blur-xl border border-gray-700/50 rounded-xl p-6 w-full max-w-md mx-4 shadow-2xl",children:[S.jsxs("div",{className:"flex items-center justify-between mb-6",children:[S.jsx("h2",{className:"text-xl font-bold text-white",children:"Chat Sync"}),S.jsx("button",{onClick:e,className:"p-2 text-gray-400 hover:text-white transition-colors rounded-lg hover:bg-gray-800/50",children:S.jsx(Pi,{className:"w-5 h-5"})})]}),S.jsxs("div",{className:"flex mb-6 bg-gray-800/40 rounded-lg p-1",children:[!j&&S.jsx("button",{onClick:()=>o("setup"),className:`flex-1 px-3 py-2 rounded-md text-sm font-medium transition-all ${i==="setup"?"bg-purple-600 text-white":"text-gray-400 hover:text-white"}`,children:"Setup"}),S.jsxs("button",{onClick:()=>o("export"),disabled:!j,className:`flex-1 px-3 py-2 rounded-md text-sm font-medium transition-all ${i==="export"?"bg-purple-600 text-white":j?"text-gray-400 hover:text-white":"text-gray-600 cursor-not-allowed"}`,children:[S.jsx(tc,{className:"w-4 h-4 inline mr-2"}),"Export"]}),S.jsxs("button",{onClick:()=>o("import"),disabled:!j,className:`flex-1 px-3 py-2 rounded-md text-sm font-medium transition-all ${i==="import"?"bg-purple-600 text-white":j?"text-gray-400 hover:text-white":"text-gray-600 cursor-not-allowed"}`,children:[S.jsx(jr,{className:"w-4 h-4 inline mr-2"}),"Import"]})]}),i==="setup"&&S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"p-4 bg-blue-900/20 border border-blue-700/30 rounded-lg",children:[S.jsx("h3",{className:"text-blue-300 font-medium mb-2",children:"Setup Supabase Sync"}),S.jsx("p",{className:"text-blue-200 text-sm mb-3",children:"To enable chat synchronization, you need to connect to a Supabase project. This allows real-time syncing between your devices."}),S.jsx("a",{href:"https://supabase.com",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 text-sm underline",children:"Create a free Supabase account →"})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Supabase Project URL"}),S.jsx("input",{type:"url",value:m,onChange:w=>x(w.target.value),placeholder:"https://your-project.supabase.co",className:"w-full bg-gray-800/60 border border-gray-700/50 rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:border-purple-500/50 focus:ring-2 focus:ring-purple-500/20"})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Supabase Anon Key"}),S.jsx("input",{type:"password",value:E,onChange:w=>T(w.target.value),placeholder:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",className:"w-full bg-gray-800/60 border border-gray-700/50 rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:border-purple-500/50 focus:ring-2 focus:ring-purple-500/20"})]}),S.jsx("button",{onClick:O,className:"w-full px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 transition-all",children:"Configure Sync"})]}),i==="export"&&S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"p-4 bg-green-900/20 border border-green-700/30 rounded-lg",children:[S.jsx("h3",{className:"text-green-300 font-medium mb-2",children:"Export Your Data"}),S.jsx("p",{className:"text-green-200 text-sm",children:"Generate a sync code to transfer your chats and settings to another device. The code expires in 1 hour."})]}),S.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800/40 rounded-lg",children:[S.jsxs("div",{children:[S.jsx("p",{className:"text-white font-medium",children:"Current Data"}),S.jsxs("p",{className:"text-gray-400 text-sm",children:[r.length," chats, settings included"]})]}),S.jsxs("div",{className:"flex items-center text-green-400",children:[S.jsx(nc,{className:"w-4 h-4 mr-1"}),S.jsx("span",{className:"text-sm",children:"Ready"})]})]}),a&&S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Your Sync Code"}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx("input",{type:"text",value:a,readOnly:!0,className:"flex-1 bg-gray-800/60 border border-gray-700/50 rounded-lg px-3 py-2 text-white font-mono text-center text-lg tracking-wider"}),S.jsx("button",{onClick:N,className:"px-3 py-2 bg-gray-700/60 text-gray-300 rounded-lg hover:bg-gray-600/60 transition-colors",children:c?S.jsx(Bh,{className:"w-4 h-4"}):S.jsx(Mh,{className:"w-4 h-4"})})]}),S.jsx("p",{className:"text-xs text-gray-400",children:"Share this code with your other devices. It expires in 1 hour."})]}),S.jsxs("button",{onClick:D,disabled:h,className:"w-full px-4 py-2 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg hover:from-green-700 hover:to-emerald-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[h?S.jsx(Aa,{className:"w-4 h-4 animate-spin"}):S.jsx(tc,{className:"w-4 h-4"}),h?"Generating...":"Generate Sync Code"]})]}),i==="import"&&S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"p-4 bg-orange-900/20 border border-orange-700/30 rounded-lg",children:[S.jsx("h3",{className:"text-orange-300 font-medium mb-2",children:"Import Data"}),S.jsx("p",{className:"text-orange-200 text-sm",children:"Enter a sync code from another device to import chats and settings. This will replace your current data."})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Sync Code"}),S.jsx("input",{type:"text",value:u,onChange:w=>d(w.target.value.toUpperCase()),placeholder:"Enter 8-character sync code",maxLength:8,className:"w-full bg-gray-800/60 border border-gray-700/50 rounded-lg px-3 py-2 text-white font-mono text-center text-lg tracking-wider placeholder-gray-400 focus:outline-none focus:border-purple-500/50 focus:ring-2 focus:ring-purple-500/20"})]}),S.jsxs("button",{onClick:J,disabled:h||!u.trim(),className:"w-full px-4 py-2 bg-gradient-to-r from-orange-600 to-red-600 text-white rounded-lg hover:from-orange-700 hover:to-red-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[h?S.jsx(Aa,{className:"w-4 h-4 animate-spin"}):S.jsx(jr,{className:"w-4 h-4"}),h?"Importing...":"Import Data"]})]}),p&&S.jsx("div",{className:"mt-4 p-3 bg-red-900/20 border border-red-700/30 rounded-lg",children:S.jsx("p",{className:"text-red-300 text-sm",children:p})}),y&&S.jsx("div",{className:"mt-4 p-3 bg-green-900/20 border border-green-700/30 rounded-lg",children:S.jsx("p",{className:"text-green-300 text-sm",children:y})}),j&&S.jsx("div",{className:"mt-4 pt-4 border-t border-gray-700/50",children:S.jsxs("div",{className:"flex items-center justify-between text-sm",children:[S.jsx("span",{className:"text-gray-400",children:"Sync Status"}),S.jsxs("div",{className:"flex items-center text-green-400",children:[S.jsx(nc,{className:"w-3 h-3 mr-1"}),S.jsx("span",{children:"Connected"})]})]})})]})}):null},Ev=({isOpen:t,onClose:e,settings:r,onSaveSettings:n,chats:s})=>{const[i,o]=ae.useState(r),[a,l]=ae.useState(!1),[u,d]=ae.useState(s);if(!t)return null;const h=(c,f)=>{const m=new FileReader;m.onload=x=>{var T;const E=(T=x.target)==null?void 0:T.result;o(f==="user"?j=>({...j,customUserAvatar:E,userAvatar:"custom"}):j=>({...j,customBotAvatar:E,botAvatar:"custom"}))},m.readAsDataURL(c)},v=(c,f)=>{var x;const m=(x=c.target.files)==null?void 0:x[0];m&&m.type.startsWith("image/")&&h(m,f),c.target.value=""},p=c=>{o(c==="user"?f=>({...f,customUserAvatar:void 0,userAvatar:"👤"}):f=>({...f,customBotAvatar:void 0,botAvatar:"🤖"}))},_=()=>{n(i),e()},y=(c,f)=>{d(c),o(f)},k=c=>{c.target===c.currentTarget&&e()};return S.jsxs(S.Fragment,{children:[S.jsx(bv,{isOpen:a,onClose:()=>l(!1),chats:u,settings:i,onImportData:y}),S.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",onClick:k,children:S.jsxs("div",{className:"bg-gray-900/95 backdrop-blur-xl border border-gray-700/50 rounded-xl p-4 w-full max-w-sm mx-4 shadow-2xl max-h-[90vh] overflow-y-auto",children:[S.jsxs("div",{className:"flex items-center justify-between mb-6",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-purple-600 to-blue-600 rounded-lg flex items-center justify-center",children:S.jsx(Hh,{className:"w-3 h-3 text-white"})}),S.jsx("h2",{className:"text-lg font-bold text-white",children:"Settings"})]}),S.jsx("button",{onClick:e,className:"p-1 text-gray-400 hover:text-white transition-colors rounded-lg hover:bg-gray-800/50",children:S.jsx(Pi,{className:"w-4 h-4"})})]}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"space-y-2",children:[S.jsx("h3",{className:"text-md font-semibold text-white",children:"Your Profile"}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-xs font-medium text-gray-300 mb-1",children:"Name"}),S.jsx("input",{type:"text",value:i.userName,onChange:c=>o(f=>({...f,userName:c.target.value})),className:"w-full bg-gray-800/60 border border-gray-700/50 rounded-lg px-2 py-1 text-sm text-white placeholder-gray-400 focus:outline-none focus:border-purple-500/50 focus:ring-1 focus:ring-purple-500/20",placeholder:"Your name"})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-xs font-medium text-gray-300 mb-1",children:"Avatar"}),S.jsx("div",{className:"grid grid-cols-10 gap-1",children:sc.user.map(c=>S.jsx("button",{onClick:()=>o(f=>({...f,userAvatar:c})),className:`w-7 h-7 rounded-lg flex items-center justify-center text-sm transition-all ${i.userAvatar===c?"bg-purple-600 ring-2 ring-purple-400":"bg-gray-800/60 hover:bg-gray-700/60"}`,children:c},c))}),S.jsxs("div",{className:"mt-2 space-y-1",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("input",{type:"file",accept:"image/*",onChange:c=>v(c,"user"),className:"hidden",id:"user-avatar-upload"}),S.jsxs("label",{htmlFor:"user-avatar-upload",className:"flex items-center gap-1 px-2 py-1 bg-gray-800/60 text-gray-300 rounded-lg hover:bg-gray-700/60 transition-all cursor-pointer text-xs",children:[S.jsx(jr,{className:"w-3 h-3"}),"Upload Custom Avatar"]}),i.customUserAvatar&&S.jsx("button",{onClick:()=>p("user"),className:"p-1 text-gray-400 hover:text-red-400 transition-colors",title:"Remove custom avatar",children:S.jsx(Oa,{className:"w-3 h-3"})})]}),i.customUserAvatar&&S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("img",{src:i.customUserAvatar,alt:"Custom user avatar",className:"w-6 h-6 rounded-lg object-cover border border-gray-700"}),S.jsx("span",{className:"text-xs text-gray-400",children:"Custom avatar uploaded"})]})]})]})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("h3",{className:"text-md font-semibold text-white",children:"Bot Profile"}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-xs font-medium text-gray-300 mb-1",children:"Name"}),S.jsx("input",{type:"text",value:i.botName,onChange:c=>o(f=>({...f,botName:c.target.value})),className:"w-full bg-gray-800/60 border border-gray-700/50 rounded-lg px-2 py-1 text-sm text-white placeholder-gray-400 focus:outline-none focus:border-purple-500/50 focus:ring-1 focus:ring-purple-500/20",placeholder:"Bot name"})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-xs font-medium text-gray-300 mb-1",children:"Avatar"}),S.jsx("div",{className:"grid grid-cols-10 gap-1",children:sc.bot.map(c=>S.jsx("button",{onClick:()=>o(f=>({...f,botAvatar:c})),className:`w-7 h-7 rounded-lg flex items-center justify-center text-sm transition-all ${i.botAvatar===c?"bg-green-600 ring-2 ring-green-400":"bg-gray-800/60 hover:bg-gray-700/60"}`,children:c},c))}),S.jsxs("div",{className:"mt-2 space-y-1",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("input",{type:"file",accept:"image/*",onChange:c=>v(c,"bot"),className:"hidden",id:"bot-avatar-upload"}),S.jsxs("label",{htmlFor:"bot-avatar-upload",className:"flex items-center gap-1 px-2 py-1 bg-gray-800/60 text-gray-300 rounded-lg hover:bg-gray-700/60 transition-all cursor-pointer text-xs",children:[S.jsx(jr,{className:"w-3 h-3"}),"Upload Custom Avatar"]}),i.customBotAvatar&&S.jsx("button",{onClick:()=>p("bot"),className:"p-1 text-gray-400 hover:text-red-400 transition-colors",title:"Remove custom avatar",children:S.jsx(Oa,{className:"w-3 h-3"})})]}),i.customBotAvatar&&S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("img",{src:i.customBotAvatar,alt:"Custom bot avatar",className:"w-6 h-6 rounded-lg object-cover border border-gray-700"}),S.jsx("span",{className:"text-xs text-gray-400",children:"Custom avatar uploaded"})]})]})]})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("h3",{className:"text-md font-semibold text-white",children:"Advanced Features"}),S.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800/40 rounded-lg border border-gray-700/30",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"w-7 h-7 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg flex items-center justify-center",children:S.jsx(e0,{className:"w-3 h-3 text-white"})}),S.jsxs("div",{children:[S.jsx("h4",{className:"text-white font-medium text-sm",children:"Cross-Chat Memory"}),S.jsx("p",{className:"text-gray-400 text-xs",children:"Allow AI to learn from other conversations"})]})]}),S.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[S.jsx("input",{type:"checkbox",checked:i.useCrossChat,onChange:c=>o(f=>({...f,useCrossChat:c.target.checked})),className:"sr-only peer"}),S.jsx("div",{className:"w-9 h-5 bg-gray-700 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-purple-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-gradient-to-r peer-checked:from-purple-600 peer-checked:to-blue-600"})]})]}),i.useCrossChat&&S.jsx("div",{className:"p-2 bg-blue-900/20 border border-blue-700/30 rounded-lg",children:S.jsxs("p",{className:"text-blue-300 text-xs",children:[S.jsx("strong",{children:"Enabled:"})," The AI can reference information from your other chat conversations to provide more contextual and personalized responses. This creates a more continuous experience across all your chats."]})})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("h3",{className:"text-md font-semibold text-white",children:"Data Sync"}),S.jsxs("button",{onClick:()=>l(!0),className:"w-full flex items-center justify-between p-3 bg-gray-800/40 rounded-lg border border-gray-700/30 hover:bg-gray-700/40 transition-colors",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx(Aa,{className:"w-5 h-5 text-purple-400"}),S.jsxs("div",{className:"text-left",children:[S.jsx("h4",{className:"text-white font-medium text-sm",children:"Export/Import Chats"}),S.jsx("p",{className:"text-gray-400 text-xs",children:"Sync your data across devices"})]})]}),S.jsx("span",{className:"text-gray-400",children:"→"})]})]})]}),S.jsxs("div",{className:"flex gap-2 mt-4",children:[S.jsx("button",{onClick:e,className:"flex-1 px-3 py-2 bg-gray-700/60 text-gray-300 rounded-lg hover:bg-gray-600/60 transition-colors text-sm",children:"Cancel"}),S.jsx("button",{onClick:_,className:"flex-1 px-3 py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 transition-all text-sm",children:"Save Changes"})]})]})})]})},mf="ai_chat_history",Cv=t=>{try{const e=JSON.stringify(t,(r,n)=>r==="timestamp"||r==="createdAt"||r==="updatedAt"?new Date(n).toISOString():n);document.cookie=`${mf}=${encodeURIComponent(e)}; max-age=${60*60*24*30}; path=/`}catch(e){console.error("Failed to save chats to storage:",e)}},jv=()=>{try{const e=document.cookie.split(";").find(i=>i.trim().startsWith(`${mf}=`));if(!e)return[];const r=e.split("=")[1],n=decodeURIComponent(r);return JSON.parse(n).map(i=>({...i,createdAt:new Date(i.createdAt),updatedAt:new Date(i.updatedAt),messages:i.messages.map(o=>({...o,timestamp:new Date(o.timestamp)}))}))}catch(t){return console.error("Failed to load chats from storage:",t),[]}},Tv=t=>t.split(" ").slice(0,6).join(" ")+(t.split(" ").length>6?"...":""),gf="ai_chat_settings",Nv=t=>{try{const e=JSON.stringify(t);document.cookie=`${gf}=${encodeURIComponent(e)}; max-age=${60*60*24*365}; path=/`}catch(e){console.error("Failed to save settings to storage:",e)}},Av=()=>{try{const e=document.cookie.split(";").find(i=>i.trim().startsWith(`${gf}=`));if(!e)return Ao;const r=e.split("=")[1],n=decodeURIComponent(r),s=JSON.parse(n);return{...Ao,...s}}catch(t){return console.error("Failed to load settings from storage:",t),Ao}};function Gs(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var vf={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(t,e){(function(r){t.exports=r()})(function(){return function r(n,s,i){function o(u,d){if(!s[u]){if(!n[u]){var h=typeof Gs=="function"&&Gs;if(!d&&h)return h(u,!0);if(a)return a(u,!0);var v=new Error("Cannot find module '"+u+"'");throw v.code="MODULE_NOT_FOUND",v}var p=s[u]={exports:{}};n[u][0].call(p.exports,function(_){var y=n[u][1][_];return o(y||_)},p,p.exports,r,n,s,i)}return s[u].exports}for(var a=typeof Gs=="function"&&Gs,l=0;l<i.length;l++)o(i[l]);return o}({1:[function(r,n,s){var i=r("./utils"),o=r("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.encode=function(l){for(var u,d,h,v,p,_,y,k=[],c=0,f=l.length,m=f,x=i.getTypeOf(l)!=="string";c<l.length;)m=f-c,h=x?(u=l[c++],d=c<f?l[c++]:0,c<f?l[c++]:0):(u=l.charCodeAt(c++),d=c<f?l.charCodeAt(c++):0,c<f?l.charCodeAt(c++):0),v=u>>2,p=(3&u)<<4|d>>4,_=1<m?(15&d)<<2|h>>6:64,y=2<m?63&h:64,k.push(a.charAt(v)+a.charAt(p)+a.charAt(_)+a.charAt(y));return k.join("")},s.decode=function(l){var u,d,h,v,p,_,y=0,k=0,c="data:";if(l.substr(0,c.length)===c)throw new Error("Invalid base64 input, it looks like a data url.");var f,m=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&m--,l.charAt(l.length-2)===a.charAt(64)&&m--,m%1!=0)throw new Error("Invalid base64 input, bad content length.");for(f=o.uint8array?new Uint8Array(0|m):new Array(0|m);y<l.length;)u=a.indexOf(l.charAt(y++))<<2|(v=a.indexOf(l.charAt(y++)))>>4,d=(15&v)<<4|(p=a.indexOf(l.charAt(y++)))>>2,h=(3&p)<<6|(_=a.indexOf(l.charAt(y++))),f[k++]=u,p!==64&&(f[k++]=d),_!==64&&(f[k++]=h);return f}},{"./support":30,"./utils":32}],2:[function(r,n,s){var i=r("./external"),o=r("./stream/DataWorker"),a=r("./stream/Crc32Probe"),l=r("./stream/DataLengthProbe");function u(d,h,v,p,_){this.compressedSize=d,this.uncompressedSize=h,this.crc32=v,this.compression=p,this.compressedContent=_}u.prototype={getContentWorker:function(){var d=new o(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),h=this;return d.on("end",function(){if(this.streamInfo.data_length!==h.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),d},getCompressedWorker:function(){return new o(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(d,h,v){return d.pipe(new a).pipe(new l("uncompressedSize")).pipe(h.compressWorker(v)).pipe(new l("compressedSize")).withStreamInfo("compression",h)},n.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,n,s){var i=r("./stream/GenericWorker");s.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},s.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,n,s){var i=r("./utils"),o=function(){for(var a,l=[],u=0;u<256;u++){a=u;for(var d=0;d<8;d++)a=1&a?3988292384^a>>>1:a>>>1;l[u]=a}return l}();n.exports=function(a,l){return a!==void 0&&a.length?i.getTypeOf(a)!=="string"?function(u,d,h,v){var p=o,_=v+h;u^=-1;for(var y=v;y<_;y++)u=u>>>8^p[255&(u^d[y])];return-1^u}(0|l,a,a.length,0):function(u,d,h,v){var p=o,_=v+h;u^=-1;for(var y=v;y<_;y++)u=u>>>8^p[255&(u^d.charCodeAt(y))];return-1^u}(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(r,n,s){s.base64=!1,s.binary=!1,s.dir=!1,s.createFolders=!0,s.date=null,s.compression=null,s.compressionOptions=null,s.comment=null,s.unixPermissions=null,s.dosPermissions=null},{}],6:[function(r,n,s){var i=null;i=typeof Promise<"u"?Promise:r("lie"),n.exports={Promise:i}},{lie:37}],7:[function(r,n,s){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=r("pako"),a=r("./utils"),l=r("./stream/GenericWorker"),u=i?"uint8array":"array";function d(h,v){l.call(this,"FlateWorker/"+h),this._pako=null,this._pakoAction=h,this._pakoOptions=v,this.meta={}}s.magic="\b\0",a.inherits(d,l),d.prototype.processChunk=function(h){this.meta=h.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(u,h.data),!1)},d.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},d.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},d.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var h=this;this._pako.onData=function(v){h.push({data:v,meta:h.meta})}},s.compressWorker=function(h){return new d("Deflate",h)},s.uncompressWorker=function(){return new d("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,n,s){function i(p,_){var y,k="";for(y=0;y<_;y++)k+=String.fromCharCode(255&p),p>>>=8;return k}function o(p,_,y,k,c,f){var m,x,E=p.file,T=p.compression,j=f!==u.utf8encode,P=a.transformTo("string",f(E.name)),O=a.transformTo("string",u.utf8encode(E.name)),D=E.comment,J=a.transformTo("string",f(D)),N=a.transformTo("string",u.utf8encode(D)),L=O.length!==E.name.length,w=N.length!==D.length,F="",re="",V="",W=E.dir,$=E.date,G={crc32:0,compressedSize:0,uncompressedSize:0};_&&!y||(G.crc32=p.crc32,G.compressedSize=p.compressedSize,G.uncompressedSize=p.uncompressedSize);var R=0;_&&(R|=8),j||!L&&!w||(R|=2048);var I=0,te=0;W&&(I|=16),c==="UNIX"?(te=798,I|=function(Q,he){var be=Q;return Q||(be=he?16893:33204),(65535&be)<<16}(E.unixPermissions,W)):(te=20,I|=function(Q){return 63&(Q||0)}(E.dosPermissions)),m=$.getUTCHours(),m<<=6,m|=$.getUTCMinutes(),m<<=5,m|=$.getUTCSeconds()/2,x=$.getUTCFullYear()-1980,x<<=4,x|=$.getUTCMonth()+1,x<<=5,x|=$.getUTCDate(),L&&(re=i(1,1)+i(d(P),4)+O,F+="up"+i(re.length,2)+re),w&&(V=i(1,1)+i(d(J),4)+N,F+="uc"+i(V.length,2)+V);var Y="";return Y+=`
\0`,Y+=i(R,2),Y+=T.magic,Y+=i(m,2),Y+=i(x,2),Y+=i(G.crc32,4),Y+=i(G.compressedSize,4),Y+=i(G.uncompressedSize,4),Y+=i(P.length,2),Y+=i(F.length,2),{fileRecord:h.LOCAL_FILE_HEADER+Y+P+F,dirRecord:h.CENTRAL_FILE_HEADER+i(te,2)+Y+i(J.length,2)+"\0\0\0\0"+i(I,4)+i(k,4)+P+F+J}}var a=r("../utils"),l=r("../stream/GenericWorker"),u=r("../utf8"),d=r("../crc32"),h=r("../signature");function v(p,_,y,k){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=_,this.zipPlatform=y,this.encodeFileName=k,this.streamFiles=p,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(v,l),v.prototype.push=function(p){var _=p.meta.percent||0,y=this.entriesCount,k=this._sources.length;this.accumulate?this.contentBuffer.push(p):(this.bytesWritten+=p.data.length,l.prototype.push.call(this,{data:p.data,meta:{currentFile:this.currentFile,percent:y?(_+100*(y-k-1))/y:100}}))},v.prototype.openedSource=function(p){this.currentSourceOffset=this.bytesWritten,this.currentFile=p.file.name;var _=this.streamFiles&&!p.file.dir;if(_){var y=o(p,_,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:y.fileRecord,meta:{percent:0}})}else this.accumulate=!0},v.prototype.closedSource=function(p){this.accumulate=!1;var _=this.streamFiles&&!p.file.dir,y=o(p,_,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(y.dirRecord),_)this.push({data:function(k){return h.DATA_DESCRIPTOR+i(k.crc32,4)+i(k.compressedSize,4)+i(k.uncompressedSize,4)}(p),meta:{percent:100}});else for(this.push({data:y.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},v.prototype.flush=function(){for(var p=this.bytesWritten,_=0;_<this.dirRecords.length;_++)this.push({data:this.dirRecords[_],meta:{percent:100}});var y=this.bytesWritten-p,k=function(c,f,m,x,E){var T=a.transformTo("string",E(x));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(c,2)+i(c,2)+i(f,4)+i(m,4)+i(T.length,2)+T}(this.dirRecords.length,y,p,this.zipComment,this.encodeFileName);this.push({data:k,meta:{percent:100}})},v.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},v.prototype.registerPrevious=function(p){this._sources.push(p);var _=this;return p.on("data",function(y){_.processChunk(y)}),p.on("end",function(){_.closedSource(_.previous.streamInfo),_._sources.length?_.prepareNextSource():_.end()}),p.on("error",function(y){_.error(y)}),this},v.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},v.prototype.error=function(p){var _=this._sources;if(!l.prototype.error.call(this,p))return!1;for(var y=0;y<_.length;y++)try{_[y].error(p)}catch{}return!0},v.prototype.lock=function(){l.prototype.lock.call(this);for(var p=this._sources,_=0;_<p.length;_++)p[_].lock()},n.exports=v},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,n,s){var i=r("../compressions"),o=r("./ZipFileWorker");s.generateWorker=function(a,l,u){var d=new o(l.streamFiles,u,l.platform,l.encodeFileName),h=0;try{a.forEach(function(v,p){h++;var _=function(f,m){var x=f||m,E=i[x];if(!E)throw new Error(x+" is not a valid compression method !");return E}(p.options.compression,l.compression),y=p.options.compressionOptions||l.compressionOptions||{},k=p.dir,c=p.date;p._compressWorker(_,y).withStreamInfo("file",{name:v,dir:k,date:c,comment:p.comment||"",unixPermissions:p.unixPermissions,dosPermissions:p.dosPermissions}).pipe(d)}),d.entriesCount=h}catch(v){d.error(v)}return d}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,n,s){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new i;for(var a in this)typeof this[a]!="function"&&(o[a]=this[a]);return o}}(i.prototype=r("./object")).loadAsync=r("./load"),i.support=r("./support"),i.defaults=r("./defaults"),i.version="3.10.1",i.loadAsync=function(o,a){return new i().loadAsync(o,a)},i.external=r("./external"),n.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,n,s){var i=r("./utils"),o=r("./external"),a=r("./utf8"),l=r("./zipEntries"),u=r("./stream/Crc32Probe"),d=r("./nodejsUtils");function h(v){return new o.Promise(function(p,_){var y=v.decompressed.getContentWorker().pipe(new u);y.on("error",function(k){_(k)}).on("end",function(){y.streamInfo.crc32!==v.decompressed.crc32?_(new Error("Corrupted zip : CRC32 mismatch")):p()}).resume()})}n.exports=function(v,p){var _=this;return p=i.extend(p||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),d.isNode&&d.isStream(v)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",v,!0,p.optimizedBinaryString,p.base64).then(function(y){var k=new l(p);return k.load(y),k}).then(function(y){var k=[o.Promise.resolve(y)],c=y.files;if(p.checkCRC32)for(var f=0;f<c.length;f++)k.push(h(c[f]));return o.Promise.all(k)}).then(function(y){for(var k=y.shift(),c=k.files,f=0;f<c.length;f++){var m=c[f],x=m.fileNameStr,E=i.resolve(m.fileNameStr);_.file(E,m.decompressed,{binary:!0,optimizedBinaryString:!0,date:m.date,dir:m.dir,comment:m.fileCommentStr.length?m.fileCommentStr:null,unixPermissions:m.unixPermissions,dosPermissions:m.dosPermissions,createFolders:p.createFolders}),m.dir||(_.file(E).unsafeOriginalName=x)}return k.zipComment.length&&(_.comment=k.zipComment),_})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,n,s){var i=r("../utils"),o=r("../stream/GenericWorker");function a(l,u){o.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(u)}i.inherits(a,o),a.prototype._bindStream=function(l){var u=this;(this._stream=l).pause(),l.on("data",function(d){u.push({data:d,meta:{percent:0}})}).on("error",function(d){u.isPaused?this.generatedError=d:u.error(d)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},a.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,n,s){var i=r("readable-stream").Readable;function o(a,l,u){i.call(this,l),this._helper=a;var d=this;a.on("data",function(h,v){d.push(h)||d._helper.pause(),u&&u(v)}).on("error",function(h){d.emit("error",h)}).on("end",function(){d.push(null)})}r("../utils").inherits(o,i),o.prototype._read=function(){this._helper.resume()},n.exports=o},{"../utils":32,"readable-stream":16}],14:[function(r,n,s){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,o);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,o)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var o=new Buffer(i);return o.fill(0),o},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(r,n,s){function i(E,T,j){var P,O=a.getTypeOf(T),D=a.extend(j||{},d);D.date=D.date||new Date,D.compression!==null&&(D.compression=D.compression.toUpperCase()),typeof D.unixPermissions=="string"&&(D.unixPermissions=parseInt(D.unixPermissions,8)),D.unixPermissions&&16384&D.unixPermissions&&(D.dir=!0),D.dosPermissions&&16&D.dosPermissions&&(D.dir=!0),D.dir&&(E=c(E)),D.createFolders&&(P=k(E))&&f.call(this,P,!0);var J=O==="string"&&D.binary===!1&&D.base64===!1;j&&j.binary!==void 0||(D.binary=!J),(T instanceof h&&T.uncompressedSize===0||D.dir||!T||T.length===0)&&(D.base64=!1,D.binary=!0,T="",D.compression="STORE",O="string");var N=null;N=T instanceof h||T instanceof l?T:_.isNode&&_.isStream(T)?new y(E,T):a.prepareContent(E,T,D.binary,D.optimizedBinaryString,D.base64);var L=new v(E,N,D);this.files[E]=L}var o=r("./utf8"),a=r("./utils"),l=r("./stream/GenericWorker"),u=r("./stream/StreamHelper"),d=r("./defaults"),h=r("./compressedObject"),v=r("./zipObject"),p=r("./generate"),_=r("./nodejsUtils"),y=r("./nodejs/NodejsStreamInputAdapter"),k=function(E){E.slice(-1)==="/"&&(E=E.substring(0,E.length-1));var T=E.lastIndexOf("/");return 0<T?E.substring(0,T):""},c=function(E){return E.slice(-1)!=="/"&&(E+="/"),E},f=function(E,T){return T=T!==void 0?T:d.createFolders,E=c(E),this.files[E]||i.call(this,E,null,{dir:!0,createFolders:T}),this.files[E]};function m(E){return Object.prototype.toString.call(E)==="[object RegExp]"}var x={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(E){var T,j,P;for(T in this.files)P=this.files[T],(j=T.slice(this.root.length,T.length))&&T.slice(0,this.root.length)===this.root&&E(j,P)},filter:function(E){var T=[];return this.forEach(function(j,P){E(j,P)&&T.push(P)}),T},file:function(E,T,j){if(arguments.length!==1)return E=this.root+E,i.call(this,E,T,j),this;if(m(E)){var P=E;return this.filter(function(D,J){return!J.dir&&P.test(D)})}var O=this.files[this.root+E];return O&&!O.dir?O:null},folder:function(E){if(!E)return this;if(m(E))return this.filter(function(O,D){return D.dir&&E.test(O)});var T=this.root+E,j=f.call(this,T),P=this.clone();return P.root=j.name,P},remove:function(E){E=this.root+E;var T=this.files[E];if(T||(E.slice(-1)!=="/"&&(E+="/"),T=this.files[E]),T&&!T.dir)delete this.files[E];else for(var j=this.filter(function(O,D){return D.name.slice(0,E.length)===E}),P=0;P<j.length;P++)delete this.files[j[P].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(E){var T,j={};try{if((j=a.extend(E||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=j.type.toLowerCase(),j.compression=j.compression.toUpperCase(),j.type==="binarystring"&&(j.type="string"),!j.type)throw new Error("No output type specified.");a.checkSupport(j.type),j.platform!=="darwin"&&j.platform!=="freebsd"&&j.platform!=="linux"&&j.platform!=="sunos"||(j.platform="UNIX"),j.platform==="win32"&&(j.platform="DOS");var P=j.comment||this.comment||"";T=p.generateWorker(this,j,P)}catch(O){(T=new l("error")).error(O)}return new u(T,j.type||"string",j.mimeType)},generateAsync:function(E,T){return this.generateInternalStream(E).accumulate(T)},generateNodeStream:function(E,T){return(E=E||{}).type||(E.type="nodebuffer"),this.generateInternalStream(E).toNodejsStream(T)}};n.exports=x},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,n,s){n.exports=r("stream")},{stream:void 0}],17:[function(r,n,s){var i=r("./DataReader");function o(a){i.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}r("../utils").inherits(o,i),o.prototype.byteAt=function(a){return this.data[this.zero+a]},o.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),u=a.charCodeAt(1),d=a.charCodeAt(2),h=a.charCodeAt(3),v=this.length-4;0<=v;--v)if(this.data[v]===l&&this.data[v+1]===u&&this.data[v+2]===d&&this.data[v+3]===h)return v-this.zero;return-1},o.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),u=a.charCodeAt(1),d=a.charCodeAt(2),h=a.charCodeAt(3),v=this.readData(4);return l===v[0]&&u===v[1]&&d===v[2]&&h===v[3]},o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},n.exports=o},{"../utils":32,"./DataReader":18}],18:[function(r,n,s){var i=r("../utils");function o(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,u=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=a,u},readString:function(a){return i.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},n.exports=o},{"../utils":32}],19:[function(r,n,s){var i=r("./Uint8ArrayReader");function o(a){i.call(this,a)}r("../utils").inherits(o,i),o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},n.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,n,s){var i=r("./DataReader");function o(a){i.call(this,a)}r("../utils").inherits(o,i),o.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},o.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},o.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},n.exports=o},{"../utils":32,"./DataReader":18}],21:[function(r,n,s){var i=r("./ArrayReader");function o(a){i.call(this,a)}r("../utils").inherits(o,i),o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},n.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(r,n,s){var i=r("../utils"),o=r("../support"),a=r("./ArrayReader"),l=r("./StringReader"),u=r("./NodeBufferReader"),d=r("./Uint8ArrayReader");n.exports=function(h){var v=i.getTypeOf(h);return i.checkSupport(v),v!=="string"||o.uint8array?v==="nodebuffer"?new u(h):o.uint8array?new d(i.transformTo("uint8array",h)):new a(i.transformTo("array",h)):new l(h)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,n,s){s.LOCAL_FILE_HEADER="PK",s.CENTRAL_FILE_HEADER="PK",s.CENTRAL_DIRECTORY_END="PK",s.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",s.ZIP64_CENTRAL_DIRECTORY_END="PK",s.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,n,s){var i=r("./GenericWorker"),o=r("../utils");function a(l){i.call(this,"ConvertWorker to "+l),this.destType=l}o.inherits(a,i),a.prototype.processChunk=function(l){this.push({data:o.transformTo(this.destType,l.data),meta:l.meta})},n.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(r,n,s){var i=r("./GenericWorker"),o=r("../crc32");function a(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(a,i),a.prototype.processChunk=function(l){this.streamInfo.crc32=o(l.data,this.streamInfo.crc32||0),this.push(l)},n.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,n,s){var i=r("../utils"),o=r("./GenericWorker");function a(l){o.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}i.inherits(a,o),a.prototype.processChunk=function(l){if(l){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+l.data.length}o.prototype.processChunk.call(this,l)},n.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(r,n,s){var i=r("../utils"),o=r("./GenericWorker");function a(l){o.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(d){u.dataIsReady=!0,u.data=d,u.max=d&&d.length||0,u.type=i.getTypeOf(d),u.isPaused||u._tickAndRepeat()},function(d){u.error(d)})}i.inherits(a,o),a.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,u);break;case"uint8array":l=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":l=this.data.slice(this.index,u)}return this.index=u,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(r,n,s){function i(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,a){return this._listeners[o].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,a){if(this._listeners[o])for(var l=0;l<this._listeners[o].length;l++)this._listeners[o][l].call(this,a)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var a=this;return o.on("data",function(l){a.processChunk(l)}),o.on("end",function(){a.end()}),o.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,a){return this.extraStreamInfo[o]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},n.exports=i},{}],29:[function(r,n,s){var i=r("../utils"),o=r("./ConvertWorker"),a=r("./GenericWorker"),l=r("../base64"),u=r("../support"),d=r("../external"),h=null;if(u.nodestream)try{h=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function v(_,y){return new d.Promise(function(k,c){var f=[],m=_._internalType,x=_._outputType,E=_._mimeType;_.on("data",function(T,j){f.push(T),y&&y(j)}).on("error",function(T){f=[],c(T)}).on("end",function(){try{var T=function(j,P,O){switch(j){case"blob":return i.newBlob(i.transformTo("arraybuffer",P),O);case"base64":return l.encode(P);default:return i.transformTo(j,P)}}(x,function(j,P){var O,D=0,J=null,N=0;for(O=0;O<P.length;O++)N+=P[O].length;switch(j){case"string":return P.join("");case"array":return Array.prototype.concat.apply([],P);case"uint8array":for(J=new Uint8Array(N),O=0;O<P.length;O++)J.set(P[O],D),D+=P[O].length;return J;case"nodebuffer":return Buffer.concat(P);default:throw new Error("concat : unsupported type '"+j+"'")}}(m,f),E);k(T)}catch(j){c(j)}f=[]}).resume()})}function p(_,y,k){var c=y;switch(y){case"blob":case"arraybuffer":c="uint8array";break;case"base64":c="string"}try{this._internalType=c,this._outputType=y,this._mimeType=k,i.checkSupport(c),this._worker=_.pipe(new o(c)),_.lock()}catch(f){this._worker=new a("error"),this._worker.error(f)}}p.prototype={accumulate:function(_){return v(this,_)},on:function(_,y){var k=this;return _==="data"?this._worker.on(_,function(c){y.call(k,c.data,c.meta)}):this._worker.on(_,function(){i.delay(y,arguments,k)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(_){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:this._outputType!=="nodebuffer"},_)}},n.exports=p},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,n,s){if(s.base64=!0,s.array=!0,s.string=!0,s.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",s.nodebuffer=typeof Buffer<"u",s.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")s.blob=!1;else{var i=new ArrayBuffer(0);try{s.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(i),s.blob=o.getBlob("application/zip").size===0}catch{s.blob=!1}}}try{s.nodestream=!!r("readable-stream").Readable}catch{s.nodestream=!1}},{"readable-stream":16}],31:[function(r,n,s){for(var i=r("./utils"),o=r("./support"),a=r("./nodejsUtils"),l=r("./stream/GenericWorker"),u=new Array(256),d=0;d<256;d++)u[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;u[254]=u[254]=1;function h(){l.call(this,"utf-8 decode"),this.leftOver=null}function v(){l.call(this,"utf-8 encode")}s.utf8encode=function(p){return o.nodebuffer?a.newBufferFrom(p,"utf-8"):function(_){var y,k,c,f,m,x=_.length,E=0;for(f=0;f<x;f++)(64512&(k=_.charCodeAt(f)))==55296&&f+1<x&&(64512&(c=_.charCodeAt(f+1)))==56320&&(k=65536+(k-55296<<10)+(c-56320),f++),E+=k<128?1:k<2048?2:k<65536?3:4;for(y=o.uint8array?new Uint8Array(E):new Array(E),f=m=0;m<E;f++)(64512&(k=_.charCodeAt(f)))==55296&&f+1<x&&(64512&(c=_.charCodeAt(f+1)))==56320&&(k=65536+(k-55296<<10)+(c-56320),f++),k<128?y[m++]=k:(k<2048?y[m++]=192|k>>>6:(k<65536?y[m++]=224|k>>>12:(y[m++]=240|k>>>18,y[m++]=128|k>>>12&63),y[m++]=128|k>>>6&63),y[m++]=128|63&k);return y}(p)},s.utf8decode=function(p){return o.nodebuffer?i.transformTo("nodebuffer",p).toString("utf-8"):function(_){var y,k,c,f,m=_.length,x=new Array(2*m);for(y=k=0;y<m;)if((c=_[y++])<128)x[k++]=c;else if(4<(f=u[c]))x[k++]=65533,y+=f-1;else{for(c&=f===2?31:f===3?15:7;1<f&&y<m;)c=c<<6|63&_[y++],f--;1<f?x[k++]=65533:c<65536?x[k++]=c:(c-=65536,x[k++]=55296|c>>10&1023,x[k++]=56320|1023&c)}return x.length!==k&&(x.subarray?x=x.subarray(0,k):x.length=k),i.applyFromCharCode(x)}(p=i.transformTo(o.uint8array?"uint8array":"array",p))},i.inherits(h,l),h.prototype.processChunk=function(p){var _=i.transformTo(o.uint8array?"uint8array":"array",p.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var y=_;(_=new Uint8Array(y.length+this.leftOver.length)).set(this.leftOver,0),_.set(y,this.leftOver.length)}else _=this.leftOver.concat(_);this.leftOver=null}var k=function(f,m){var x;for((m=m||f.length)>f.length&&(m=f.length),x=m-1;0<=x&&(192&f[x])==128;)x--;return x<0||x===0?m:x+u[f[x]]>m?x:m}(_),c=_;k!==_.length&&(o.uint8array?(c=_.subarray(0,k),this.leftOver=_.subarray(k,_.length)):(c=_.slice(0,k),this.leftOver=_.slice(k,_.length))),this.push({data:s.utf8decode(c),meta:p.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=h,i.inherits(v,l),v.prototype.processChunk=function(p){this.push({data:s.utf8encode(p.data),meta:p.meta})},s.Utf8EncodeWorker=v},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,n,s){var i=r("./support"),o=r("./base64"),a=r("./nodejsUtils"),l=r("./external");function u(y){return y}function d(y,k){for(var c=0;c<y.length;++c)k[c]=255&y.charCodeAt(c);return k}r("setimmediate"),s.newBlob=function(y,k){s.checkSupport("blob");try{return new Blob([y],{type:k})}catch{try{var c=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return c.append(y),c.getBlob(k)}catch{throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(y,k,c){var f=[],m=0,x=y.length;if(x<=c)return String.fromCharCode.apply(null,y);for(;m<x;)k==="array"||k==="nodebuffer"?f.push(String.fromCharCode.apply(null,y.slice(m,Math.min(m+c,x)))):f.push(String.fromCharCode.apply(null,y.subarray(m,Math.min(m+c,x)))),m+=c;return f.join("")},stringifyByChar:function(y){for(var k="",c=0;c<y.length;c++)k+=String.fromCharCode(y[c]);return k},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function v(y){var k=65536,c=s.getTypeOf(y),f=!0;if(c==="uint8array"?f=h.applyCanBeUsed.uint8array:c==="nodebuffer"&&(f=h.applyCanBeUsed.nodebuffer),f)for(;1<k;)try{return h.stringifyByChunk(y,c,k)}catch{k=Math.floor(k/2)}return h.stringifyByChar(y)}function p(y,k){for(var c=0;c<y.length;c++)k[c]=y[c];return k}s.applyFromCharCode=v;var _={};_.string={string:u,array:function(y){return d(y,new Array(y.length))},arraybuffer:function(y){return _.string.uint8array(y).buffer},uint8array:function(y){return d(y,new Uint8Array(y.length))},nodebuffer:function(y){return d(y,a.allocBuffer(y.length))}},_.array={string:v,array:u,arraybuffer:function(y){return new Uint8Array(y).buffer},uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return a.newBufferFrom(y)}},_.arraybuffer={string:function(y){return v(new Uint8Array(y))},array:function(y){return p(new Uint8Array(y),new Array(y.byteLength))},arraybuffer:u,uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return a.newBufferFrom(new Uint8Array(y))}},_.uint8array={string:v,array:function(y){return p(y,new Array(y.length))},arraybuffer:function(y){return y.buffer},uint8array:u,nodebuffer:function(y){return a.newBufferFrom(y)}},_.nodebuffer={string:v,array:function(y){return p(y,new Array(y.length))},arraybuffer:function(y){return _.nodebuffer.uint8array(y).buffer},uint8array:function(y){return p(y,new Uint8Array(y.length))},nodebuffer:u},s.transformTo=function(y,k){if(k=k||"",!y)return k;s.checkSupport(y);var c=s.getTypeOf(k);return _[c][y](k)},s.resolve=function(y){for(var k=y.split("/"),c=[],f=0;f<k.length;f++){var m=k[f];m==="."||m===""&&f!==0&&f!==k.length-1||(m===".."?c.pop():c.push(m))}return c.join("/")},s.getTypeOf=function(y){return typeof y=="string"?"string":Object.prototype.toString.call(y)==="[object Array]"?"array":i.nodebuffer&&a.isBuffer(y)?"nodebuffer":i.uint8array&&y instanceof Uint8Array?"uint8array":i.arraybuffer&&y instanceof ArrayBuffer?"arraybuffer":void 0},s.checkSupport=function(y){if(!i[y.toLowerCase()])throw new Error(y+" is not supported by this platform")},s.MAX_VALUE_16BITS=65535,s.MAX_VALUE_32BITS=-1,s.pretty=function(y){var k,c,f="";for(c=0;c<(y||"").length;c++)f+="\\x"+((k=y.charCodeAt(c))<16?"0":"")+k.toString(16).toUpperCase();return f},s.delay=function(y,k,c){setImmediate(function(){y.apply(c||null,k||[])})},s.inherits=function(y,k){function c(){}c.prototype=k.prototype,y.prototype=new c},s.extend=function(){var y,k,c={};for(y=0;y<arguments.length;y++)for(k in arguments[y])Object.prototype.hasOwnProperty.call(arguments[y],k)&&c[k]===void 0&&(c[k]=arguments[y][k]);return c},s.prepareContent=function(y,k,c,f,m){return l.Promise.resolve(k).then(function(x){return i.blob&&(x instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(x))!==-1)&&typeof FileReader<"u"?new l.Promise(function(E,T){var j=new FileReader;j.onload=function(P){E(P.target.result)},j.onerror=function(P){T(P.target.error)},j.readAsArrayBuffer(x)}):x}).then(function(x){var E=s.getTypeOf(x);return E?(E==="arraybuffer"?x=s.transformTo("uint8array",x):E==="string"&&(m?x=o.decode(x):c&&f!==!0&&(x=function(T){return d(T,i.uint8array?new Uint8Array(T.length):new Array(T.length))}(x))),x):l.Promise.reject(new Error("Can't read the data of '"+y+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,n,s){var i=r("./reader/readerFor"),o=r("./utils"),a=r("./signature"),l=r("./zipEntry"),u=r("./support");function d(h){this.files=[],this.loadOptions=h}d.prototype={checkSignature:function(h){if(!this.reader.readAndCheckSignature(h)){this.reader.index-=4;var v=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(v)+", expected "+o.pretty(h)+")")}},isSignature:function(h,v){var p=this.reader.index;this.reader.setIndex(h);var _=this.reader.readString(4)===v;return this.reader.setIndex(p),_},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var h=this.reader.readData(this.zipCommentLength),v=u.uint8array?"uint8array":"array",p=o.transformTo(v,h);this.zipComment=this.loadOptions.decodeFileName(p)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var h,v,p,_=this.zip64EndOfCentralSize-44;0<_;)h=this.reader.readInt(2),v=this.reader.readInt(4),p=this.reader.readData(v),this.zip64ExtensibleData[h]={id:h,length:v,value:p}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var h,v;for(h=0;h<this.files.length;h++)v=this.files[h],this.reader.setIndex(v.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),v.readLocalPart(this.reader),v.handleUTF8(),v.processAttributes()},readCentralDir:function(){var h;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(h=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(h);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var h=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(h<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(h);var v=h;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(h=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(h),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var p=this.centralDirOffset+this.centralDirSize;this.zip64&&(p+=20,p+=12+this.zip64EndOfCentralSize);var _=v-p;if(0<_)this.isSignature(v,a.CENTRAL_FILE_HEADER)||(this.reader.zero=_);else if(_<0)throw new Error("Corrupted zip: missing "+Math.abs(_)+" bytes.")},prepareReader:function(h){this.reader=i(h)},load:function(h){this.prepareReader(h),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=d},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,n,s){var i=r("./reader/readerFor"),o=r("./utils"),a=r("./compressedObject"),l=r("./crc32"),u=r("./utf8"),d=r("./compressions"),h=r("./support");function v(p,_){this.options=p,this.loadOptions=_}v.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(p){var _,y;if(p.skip(22),this.fileNameLength=p.readInt(2),y=p.readInt(2),this.fileName=p.readData(this.fileNameLength),p.skip(y),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((_=function(k){for(var c in d)if(Object.prototype.hasOwnProperty.call(d,c)&&d[c].magic===k)return d[c];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,_,p.readData(this.compressedSize))},readCentralPart:function(p){this.versionMadeBy=p.readInt(2),p.skip(2),this.bitFlag=p.readInt(2),this.compressionMethod=p.readString(2),this.date=p.readDate(),this.crc32=p.readInt(4),this.compressedSize=p.readInt(4),this.uncompressedSize=p.readInt(4);var _=p.readInt(2);if(this.extraFieldsLength=p.readInt(2),this.fileCommentLength=p.readInt(2),this.diskNumberStart=p.readInt(2),this.internalFileAttributes=p.readInt(2),this.externalFileAttributes=p.readInt(4),this.localHeaderOffset=p.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");p.skip(_),this.readExtraFields(p),this.parseZIP64ExtraField(p),this.fileComment=p.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var p=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),p==0&&(this.dosPermissions=63&this.externalFileAttributes),p==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var p=i(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=p.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=p.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=p.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=p.readInt(4))}},readExtraFields:function(p){var _,y,k,c=p.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});p.index+4<c;)_=p.readInt(2),y=p.readInt(2),k=p.readData(y),this.extraFields[_]={id:_,length:y,value:k};p.setIndex(c)},handleUTF8:function(){var p=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var _=this.findExtraFieldUnicodePath();if(_!==null)this.fileNameStr=_;else{var y=o.transformTo(p,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(y)}var k=this.findExtraFieldUnicodeComment();if(k!==null)this.fileCommentStr=k;else{var c=o.transformTo(p,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(c)}}},findExtraFieldUnicodePath:function(){var p=this.extraFields[28789];if(p){var _=i(p.value);return _.readInt(1)!==1||l(this.fileName)!==_.readInt(4)?null:u.utf8decode(_.readData(p.length-5))}return null},findExtraFieldUnicodeComment:function(){var p=this.extraFields[25461];if(p){var _=i(p.value);return _.readInt(1)!==1||l(this.fileComment)!==_.readInt(4)?null:u.utf8decode(_.readData(p.length-5))}return null}},n.exports=v},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,n,s){function i(_,y,k){this.name=_,this.dir=k.dir,this.date=k.date,this.comment=k.comment,this.unixPermissions=k.unixPermissions,this.dosPermissions=k.dosPermissions,this._data=y,this._dataBinary=k.binary,this.options={compression:k.compression,compressionOptions:k.compressionOptions}}var o=r("./stream/StreamHelper"),a=r("./stream/DataWorker"),l=r("./utf8"),u=r("./compressedObject"),d=r("./stream/GenericWorker");i.prototype={internalStream:function(_){var y=null,k="string";try{if(!_)throw new Error("No output type specified.");var c=(k=_.toLowerCase())==="string"||k==="text";k!=="binarystring"&&k!=="text"||(k="string"),y=this._decompressWorker();var f=!this._dataBinary;f&&!c&&(y=y.pipe(new l.Utf8EncodeWorker)),!f&&c&&(y=y.pipe(new l.Utf8DecodeWorker))}catch(m){(y=new d("error")).error(m)}return new o(y,k,"")},async:function(_,y){return this.internalStream(_).accumulate(y)},nodeStream:function(_,y){return this.internalStream(_||"nodebuffer").toNodejsStream(y)},_compressWorker:function(_,y){if(this._data instanceof u&&this._data.compression.magic===_.magic)return this._data.getCompressedWorker();var k=this._decompressWorker();return this._dataBinary||(k=k.pipe(new l.Utf8EncodeWorker)),u.createWorkerFrom(k,_,y)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof d?this._data:new a(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],v=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},p=0;p<h.length;p++)i.prototype[h[p]]=v;n.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,n,s){(function(i){var o,a,l=i.MutationObserver||i.WebKitMutationObserver;if(l){var u=0,d=new l(_),h=i.document.createTextNode("");d.observe(h,{characterData:!0}),o=function(){h.data=u=++u%2}}else if(i.setImmediate||i.MessageChannel===void 0)o="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var y=i.document.createElement("script");y.onreadystatechange=function(){_(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},i.document.documentElement.appendChild(y)}:function(){setTimeout(_,0)};else{var v=new i.MessageChannel;v.port1.onmessage=_,o=function(){v.port2.postMessage(0)}}var p=[];function _(){var y,k;a=!0;for(var c=p.length;c;){for(k=p,p=[],y=-1;++y<c;)k[y]();c=p.length}a=!1}n.exports=function(y){p.push(y)!==1||a||o()}}).call(this,typeof We<"u"?We:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,n,s){var i=r("immediate");function o(){}var a={},l=["REJECTED"],u=["FULFILLED"],d=["PENDING"];function h(c){if(typeof c!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,c!==o&&y(this,c)}function v(c,f,m){this.promise=c,typeof f=="function"&&(this.onFulfilled=f,this.callFulfilled=this.otherCallFulfilled),typeof m=="function"&&(this.onRejected=m,this.callRejected=this.otherCallRejected)}function p(c,f,m){i(function(){var x;try{x=f(m)}catch(E){return a.reject(c,E)}x===c?a.reject(c,new TypeError("Cannot resolve promise with itself")):a.resolve(c,x)})}function _(c){var f=c&&c.then;if(c&&(typeof c=="object"||typeof c=="function")&&typeof f=="function")return function(){f.apply(c,arguments)}}function y(c,f){var m=!1;function x(j){m||(m=!0,a.reject(c,j))}function E(j){m||(m=!0,a.resolve(c,j))}var T=k(function(){f(E,x)});T.status==="error"&&x(T.value)}function k(c,f){var m={};try{m.value=c(f),m.status="success"}catch(x){m.status="error",m.value=x}return m}(n.exports=h).prototype.finally=function(c){if(typeof c!="function")return this;var f=this.constructor;return this.then(function(m){return f.resolve(c()).then(function(){return m})},function(m){return f.resolve(c()).then(function(){throw m})})},h.prototype.catch=function(c){return this.then(null,c)},h.prototype.then=function(c,f){if(typeof c!="function"&&this.state===u||typeof f!="function"&&this.state===l)return this;var m=new this.constructor(o);return this.state!==d?p(m,this.state===u?c:f,this.outcome):this.queue.push(new v(m,c,f)),m},v.prototype.callFulfilled=function(c){a.resolve(this.promise,c)},v.prototype.otherCallFulfilled=function(c){p(this.promise,this.onFulfilled,c)},v.prototype.callRejected=function(c){a.reject(this.promise,c)},v.prototype.otherCallRejected=function(c){p(this.promise,this.onRejected,c)},a.resolve=function(c,f){var m=k(_,f);if(m.status==="error")return a.reject(c,m.value);var x=m.value;if(x)y(c,x);else{c.state=u,c.outcome=f;for(var E=-1,T=c.queue.length;++E<T;)c.queue[E].callFulfilled(f)}return c},a.reject=function(c,f){c.state=l,c.outcome=f;for(var m=-1,x=c.queue.length;++m<x;)c.queue[m].callRejected(f);return c},h.resolve=function(c){return c instanceof this?c:a.resolve(new this(o),c)},h.reject=function(c){var f=new this(o);return a.reject(f,c)},h.all=function(c){var f=this;if(Object.prototype.toString.call(c)!=="[object Array]")return this.reject(new TypeError("must be an array"));var m=c.length,x=!1;if(!m)return this.resolve([]);for(var E=new Array(m),T=0,j=-1,P=new this(o);++j<m;)O(c[j],j);return P;function O(D,J){f.resolve(D).then(function(N){E[J]=N,++T!==m||x||(x=!0,a.resolve(P,E))},function(N){x||(x=!0,a.reject(P,N))})}},h.race=function(c){var f=this;if(Object.prototype.toString.call(c)!=="[object Array]")return this.reject(new TypeError("must be an array"));var m=c.length,x=!1;if(!m)return this.resolve([]);for(var E=-1,T=new this(o);++E<m;)j=c[E],f.resolve(j).then(function(P){x||(x=!0,a.resolve(T,P))},function(P){x||(x=!0,a.reject(T,P))});var j;return T}},{immediate:36}],38:[function(r,n,s){var i={};(0,r("./lib/utils/common").assign)(i,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),n.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,n,s){var i=r("./zlib/deflate"),o=r("./utils/common"),a=r("./utils/strings"),l=r("./zlib/messages"),u=r("./zlib/zstream"),d=Object.prototype.toString,h=0,v=-1,p=0,_=8;function y(c){if(!(this instanceof y))return new y(c);this.options=o.assign({level:v,method:_,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},c||{});var f=this.options;f.raw&&0<f.windowBits?f.windowBits=-f.windowBits:f.gzip&&0<f.windowBits&&f.windowBits<16&&(f.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var m=i.deflateInit2(this.strm,f.level,f.method,f.windowBits,f.memLevel,f.strategy);if(m!==h)throw new Error(l[m]);if(f.header&&i.deflateSetHeader(this.strm,f.header),f.dictionary){var x;if(x=typeof f.dictionary=="string"?a.string2buf(f.dictionary):d.call(f.dictionary)==="[object ArrayBuffer]"?new Uint8Array(f.dictionary):f.dictionary,(m=i.deflateSetDictionary(this.strm,x))!==h)throw new Error(l[m]);this._dict_set=!0}}function k(c,f){var m=new y(f);if(m.push(c,!0),m.err)throw m.msg||l[m.err];return m.result}y.prototype.push=function(c,f){var m,x,E=this.strm,T=this.options.chunkSize;if(this.ended)return!1;x=f===~~f?f:f===!0?4:0,typeof c=="string"?E.input=a.string2buf(c):d.call(c)==="[object ArrayBuffer]"?E.input=new Uint8Array(c):E.input=c,E.next_in=0,E.avail_in=E.input.length;do{if(E.avail_out===0&&(E.output=new o.Buf8(T),E.next_out=0,E.avail_out=T),(m=i.deflate(E,x))!==1&&m!==h)return this.onEnd(m),!(this.ended=!0);E.avail_out!==0&&(E.avail_in!==0||x!==4&&x!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(o.shrinkBuf(E.output,E.next_out))):this.onData(o.shrinkBuf(E.output,E.next_out)))}while((0<E.avail_in||E.avail_out===0)&&m!==1);return x===4?(m=i.deflateEnd(this.strm),this.onEnd(m),this.ended=!0,m===h):x!==2||(this.onEnd(h),!(E.avail_out=0))},y.prototype.onData=function(c){this.chunks.push(c)},y.prototype.onEnd=function(c){c===h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=c,this.msg=this.strm.msg},s.Deflate=y,s.deflate=k,s.deflateRaw=function(c,f){return(f=f||{}).raw=!0,k(c,f)},s.gzip=function(c,f){return(f=f||{}).gzip=!0,k(c,f)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,n,s){var i=r("./zlib/inflate"),o=r("./utils/common"),a=r("./utils/strings"),l=r("./zlib/constants"),u=r("./zlib/messages"),d=r("./zlib/zstream"),h=r("./zlib/gzheader"),v=Object.prototype.toString;function p(y){if(!(this instanceof p))return new p(y);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},y||{});var k=this.options;k.raw&&0<=k.windowBits&&k.windowBits<16&&(k.windowBits=-k.windowBits,k.windowBits===0&&(k.windowBits=-15)),!(0<=k.windowBits&&k.windowBits<16)||y&&y.windowBits||(k.windowBits+=32),15<k.windowBits&&k.windowBits<48&&!(15&k.windowBits)&&(k.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var c=i.inflateInit2(this.strm,k.windowBits);if(c!==l.Z_OK)throw new Error(u[c]);this.header=new h,i.inflateGetHeader(this.strm,this.header)}function _(y,k){var c=new p(k);if(c.push(y,!0),c.err)throw c.msg||u[c.err];return c.result}p.prototype.push=function(y,k){var c,f,m,x,E,T,j=this.strm,P=this.options.chunkSize,O=this.options.dictionary,D=!1;if(this.ended)return!1;f=k===~~k?k:k===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof y=="string"?j.input=a.binstring2buf(y):v.call(y)==="[object ArrayBuffer]"?j.input=new Uint8Array(y):j.input=y,j.next_in=0,j.avail_in=j.input.length;do{if(j.avail_out===0&&(j.output=new o.Buf8(P),j.next_out=0,j.avail_out=P),(c=i.inflate(j,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&O&&(T=typeof O=="string"?a.string2buf(O):v.call(O)==="[object ArrayBuffer]"?new Uint8Array(O):O,c=i.inflateSetDictionary(this.strm,T)),c===l.Z_BUF_ERROR&&D===!0&&(c=l.Z_OK,D=!1),c!==l.Z_STREAM_END&&c!==l.Z_OK)return this.onEnd(c),!(this.ended=!0);j.next_out&&(j.avail_out!==0&&c!==l.Z_STREAM_END&&(j.avail_in!==0||f!==l.Z_FINISH&&f!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(m=a.utf8border(j.output,j.next_out),x=j.next_out-m,E=a.buf2string(j.output,m),j.next_out=x,j.avail_out=P-x,x&&o.arraySet(j.output,j.output,m,x,0),this.onData(E)):this.onData(o.shrinkBuf(j.output,j.next_out)))),j.avail_in===0&&j.avail_out===0&&(D=!0)}while((0<j.avail_in||j.avail_out===0)&&c!==l.Z_STREAM_END);return c===l.Z_STREAM_END&&(f=l.Z_FINISH),f===l.Z_FINISH?(c=i.inflateEnd(this.strm),this.onEnd(c),this.ended=!0,c===l.Z_OK):f!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(j.avail_out=0))},p.prototype.onData=function(y){this.chunks.push(y)},p.prototype.onEnd=function(y){y===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},s.Inflate=p,s.inflate=_,s.inflateRaw=function(y,k){return(k=k||{}).raw=!0,_(y,k)},s.ungzip=_},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,n,s){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";s.assign=function(l){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var d=u.shift();if(d){if(typeof d!="object")throw new TypeError(d+"must be non-object");for(var h in d)d.hasOwnProperty(h)&&(l[h]=d[h])}}return l},s.shrinkBuf=function(l,u){return l.length===u?l:l.subarray?l.subarray(0,u):(l.length=u,l)};var o={arraySet:function(l,u,d,h,v){if(u.subarray&&l.subarray)l.set(u.subarray(d,d+h),v);else for(var p=0;p<h;p++)l[v+p]=u[d+p]},flattenChunks:function(l){var u,d,h,v,p,_;for(u=h=0,d=l.length;u<d;u++)h+=l[u].length;for(_=new Uint8Array(h),u=v=0,d=l.length;u<d;u++)p=l[u],_.set(p,v),v+=p.length;return _}},a={arraySet:function(l,u,d,h,v){for(var p=0;p<h;p++)l[v+p]=u[d+p]},flattenChunks:function(l){return[].concat.apply([],l)}};s.setTyped=function(l){l?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,o)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,a))},s.setTyped(i)},{}],42:[function(r,n,s){var i=r("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var l=new i.Buf8(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function d(h,v){if(v<65537&&(h.subarray&&a||!h.subarray&&o))return String.fromCharCode.apply(null,i.shrinkBuf(h,v));for(var p="",_=0;_<v;_++)p+=String.fromCharCode(h[_]);return p}l[254]=l[254]=1,s.string2buf=function(h){var v,p,_,y,k,c=h.length,f=0;for(y=0;y<c;y++)(64512&(p=h.charCodeAt(y)))==55296&&y+1<c&&(64512&(_=h.charCodeAt(y+1)))==56320&&(p=65536+(p-55296<<10)+(_-56320),y++),f+=p<128?1:p<2048?2:p<65536?3:4;for(v=new i.Buf8(f),y=k=0;k<f;y++)(64512&(p=h.charCodeAt(y)))==55296&&y+1<c&&(64512&(_=h.charCodeAt(y+1)))==56320&&(p=65536+(p-55296<<10)+(_-56320),y++),p<128?v[k++]=p:(p<2048?v[k++]=192|p>>>6:(p<65536?v[k++]=224|p>>>12:(v[k++]=240|p>>>18,v[k++]=128|p>>>12&63),v[k++]=128|p>>>6&63),v[k++]=128|63&p);return v},s.buf2binstring=function(h){return d(h,h.length)},s.binstring2buf=function(h){for(var v=new i.Buf8(h.length),p=0,_=v.length;p<_;p++)v[p]=h.charCodeAt(p);return v},s.buf2string=function(h,v){var p,_,y,k,c=v||h.length,f=new Array(2*c);for(p=_=0;p<c;)if((y=h[p++])<128)f[_++]=y;else if(4<(k=l[y]))f[_++]=65533,p+=k-1;else{for(y&=k===2?31:k===3?15:7;1<k&&p<c;)y=y<<6|63&h[p++],k--;1<k?f[_++]=65533:y<65536?f[_++]=y:(y-=65536,f[_++]=55296|y>>10&1023,f[_++]=56320|1023&y)}return d(f,_)},s.utf8border=function(h,v){var p;for((v=v||h.length)>h.length&&(v=h.length),p=v-1;0<=p&&(192&h[p])==128;)p--;return p<0||p===0?v:p+l[h[p]]>v?p:v}},{"./common":41}],43:[function(r,n,s){n.exports=function(i,o,a,l){for(var u=65535&i|0,d=i>>>16&65535|0,h=0;a!==0;){for(a-=h=2e3<a?2e3:a;d=d+(u=u+o[l++]|0)|0,--h;);u%=65521,d%=65521}return u|d<<16|0}},{}],44:[function(r,n,s){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,n,s){var i=function(){for(var o,a=[],l=0;l<256;l++){o=l;for(var u=0;u<8;u++)o=1&o?3988292384^o>>>1:o>>>1;a[l]=o}return a}();n.exports=function(o,a,l,u){var d=i,h=u+l;o^=-1;for(var v=u;v<h;v++)o=o>>>8^d[255&(o^a[v])];return-1^o}},{}],46:[function(r,n,s){var i,o=r("../utils/common"),a=r("./trees"),l=r("./adler32"),u=r("./crc32"),d=r("./messages"),h=0,v=4,p=0,_=-2,y=-1,k=4,c=2,f=8,m=9,x=286,E=30,T=19,j=2*x+1,P=15,O=3,D=258,J=D+O+1,N=42,L=113,w=1,F=2,re=3,V=4;function W(g,B){return g.msg=d[B],B}function $(g){return(g<<1)-(4<g?9:0)}function G(g){for(var B=g.length;0<=--B;)g[B]=0}function R(g){var B=g.state,U=B.pending;U>g.avail_out&&(U=g.avail_out),U!==0&&(o.arraySet(g.output,B.pending_buf,B.pending_out,U,g.next_out),g.next_out+=U,B.pending_out+=U,g.total_out+=U,g.avail_out-=U,B.pending-=U,B.pending===0&&(B.pending_out=0))}function I(g,B){a._tr_flush_block(g,0<=g.block_start?g.block_start:-1,g.strstart-g.block_start,B),g.block_start=g.strstart,R(g.strm)}function te(g,B){g.pending_buf[g.pending++]=B}function Y(g,B){g.pending_buf[g.pending++]=B>>>8&255,g.pending_buf[g.pending++]=255&B}function Q(g,B){var U,C,b=g.max_chain_length,A=g.strstart,M=g.prev_length,H=g.nice_match,z=g.strstart>g.w_size-J?g.strstart-(g.w_size-J):0,K=g.window,X=g.w_mask,Z=g.prev,ne=g.strstart+D,pe=K[A+M-1],ue=K[A+M];g.prev_length>=g.good_match&&(b>>=2),H>g.lookahead&&(H=g.lookahead);do if(K[(U=B)+M]===ue&&K[U+M-1]===pe&&K[U]===K[A]&&K[++U]===K[A+1]){A+=2,U++;do;while(K[++A]===K[++U]&&K[++A]===K[++U]&&K[++A]===K[++U]&&K[++A]===K[++U]&&K[++A]===K[++U]&&K[++A]===K[++U]&&K[++A]===K[++U]&&K[++A]===K[++U]&&A<ne);if(C=D-(ne-A),A=ne-D,M<C){if(g.match_start=B,H<=(M=C))break;pe=K[A+M-1],ue=K[A+M]}}while((B=Z[B&X])>z&&--b!=0);return M<=g.lookahead?M:g.lookahead}function he(g){var B,U,C,b,A,M,H,z,K,X,Z=g.w_size;do{if(b=g.window_size-g.lookahead-g.strstart,g.strstart>=Z+(Z-J)){for(o.arraySet(g.window,g.window,Z,Z,0),g.match_start-=Z,g.strstart-=Z,g.block_start-=Z,B=U=g.hash_size;C=g.head[--B],g.head[B]=Z<=C?C-Z:0,--U;);for(B=U=Z;C=g.prev[--B],g.prev[B]=Z<=C?C-Z:0,--U;);b+=Z}if(g.strm.avail_in===0)break;if(M=g.strm,H=g.window,z=g.strstart+g.lookahead,K=b,X=void 0,X=M.avail_in,K<X&&(X=K),U=X===0?0:(M.avail_in-=X,o.arraySet(H,M.input,M.next_in,X,z),M.state.wrap===1?M.adler=l(M.adler,H,X,z):M.state.wrap===2&&(M.adler=u(M.adler,H,X,z)),M.next_in+=X,M.total_in+=X,X),g.lookahead+=U,g.lookahead+g.insert>=O)for(A=g.strstart-g.insert,g.ins_h=g.window[A],g.ins_h=(g.ins_h<<g.hash_shift^g.window[A+1])&g.hash_mask;g.insert&&(g.ins_h=(g.ins_h<<g.hash_shift^g.window[A+O-1])&g.hash_mask,g.prev[A&g.w_mask]=g.head[g.ins_h],g.head[g.ins_h]=A,A++,g.insert--,!(g.lookahead+g.insert<O)););}while(g.lookahead<J&&g.strm.avail_in!==0)}function be(g,B){for(var U,C;;){if(g.lookahead<J){if(he(g),g.lookahead<J&&B===h)return w;if(g.lookahead===0)break}if(U=0,g.lookahead>=O&&(g.ins_h=(g.ins_h<<g.hash_shift^g.window[g.strstart+O-1])&g.hash_mask,U=g.prev[g.strstart&g.w_mask]=g.head[g.ins_h],g.head[g.ins_h]=g.strstart),U!==0&&g.strstart-U<=g.w_size-J&&(g.match_length=Q(g,U)),g.match_length>=O)if(C=a._tr_tally(g,g.strstart-g.match_start,g.match_length-O),g.lookahead-=g.match_length,g.match_length<=g.max_lazy_match&&g.lookahead>=O){for(g.match_length--;g.strstart++,g.ins_h=(g.ins_h<<g.hash_shift^g.window[g.strstart+O-1])&g.hash_mask,U=g.prev[g.strstart&g.w_mask]=g.head[g.ins_h],g.head[g.ins_h]=g.strstart,--g.match_length!=0;);g.strstart++}else g.strstart+=g.match_length,g.match_length=0,g.ins_h=g.window[g.strstart],g.ins_h=(g.ins_h<<g.hash_shift^g.window[g.strstart+1])&g.hash_mask;else C=a._tr_tally(g,0,g.window[g.strstart]),g.lookahead--,g.strstart++;if(C&&(I(g,!1),g.strm.avail_out===0))return w}return g.insert=g.strstart<O-1?g.strstart:O-1,B===v?(I(g,!0),g.strm.avail_out===0?re:V):g.last_lit&&(I(g,!1),g.strm.avail_out===0)?w:F}function le(g,B){for(var U,C,b;;){if(g.lookahead<J){if(he(g),g.lookahead<J&&B===h)return w;if(g.lookahead===0)break}if(U=0,g.lookahead>=O&&(g.ins_h=(g.ins_h<<g.hash_shift^g.window[g.strstart+O-1])&g.hash_mask,U=g.prev[g.strstart&g.w_mask]=g.head[g.ins_h],g.head[g.ins_h]=g.strstart),g.prev_length=g.match_length,g.prev_match=g.match_start,g.match_length=O-1,U!==0&&g.prev_length<g.max_lazy_match&&g.strstart-U<=g.w_size-J&&(g.match_length=Q(g,U),g.match_length<=5&&(g.strategy===1||g.match_length===O&&4096<g.strstart-g.match_start)&&(g.match_length=O-1)),g.prev_length>=O&&g.match_length<=g.prev_length){for(b=g.strstart+g.lookahead-O,C=a._tr_tally(g,g.strstart-1-g.prev_match,g.prev_length-O),g.lookahead-=g.prev_length-1,g.prev_length-=2;++g.strstart<=b&&(g.ins_h=(g.ins_h<<g.hash_shift^g.window[g.strstart+O-1])&g.hash_mask,U=g.prev[g.strstart&g.w_mask]=g.head[g.ins_h],g.head[g.ins_h]=g.strstart),--g.prev_length!=0;);if(g.match_available=0,g.match_length=O-1,g.strstart++,C&&(I(g,!1),g.strm.avail_out===0))return w}else if(g.match_available){if((C=a._tr_tally(g,0,g.window[g.strstart-1]))&&I(g,!1),g.strstart++,g.lookahead--,g.strm.avail_out===0)return w}else g.match_available=1,g.strstart++,g.lookahead--}return g.match_available&&(C=a._tr_tally(g,0,g.window[g.strstart-1]),g.match_available=0),g.insert=g.strstart<O-1?g.strstart:O-1,B===v?(I(g,!0),g.strm.avail_out===0?re:V):g.last_lit&&(I(g,!1),g.strm.avail_out===0)?w:F}function de(g,B,U,C,b){this.good_length=g,this.max_lazy=B,this.nice_length=U,this.max_chain=C,this.func=b}function Ie(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=f,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*j),this.dyn_dtree=new o.Buf16(2*(2*E+1)),this.bl_tree=new o.Buf16(2*(2*T+1)),G(this.dyn_ltree),G(this.dyn_dtree),G(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(P+1),this.heap=new o.Buf16(2*x+1),G(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*x+1),G(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ee(g){var B;return g&&g.state?(g.total_in=g.total_out=0,g.data_type=c,(B=g.state).pending=0,B.pending_out=0,B.wrap<0&&(B.wrap=-B.wrap),B.status=B.wrap?N:L,g.adler=B.wrap===2?0:1,B.last_flush=h,a._tr_init(B),p):W(g,_)}function Et(g){var B=Ee(g);return B===p&&function(U){U.window_size=2*U.w_size,G(U.head),U.max_lazy_match=i[U.level].max_lazy,U.good_match=i[U.level].good_length,U.nice_match=i[U.level].nice_length,U.max_chain_length=i[U.level].max_chain,U.strstart=0,U.block_start=0,U.lookahead=0,U.insert=0,U.match_length=U.prev_length=O-1,U.match_available=0,U.ins_h=0}(g.state),B}function mt(g,B,U,C,b,A){if(!g)return _;var M=1;if(B===y&&(B=6),C<0?(M=0,C=-C):15<C&&(M=2,C-=16),b<1||m<b||U!==f||C<8||15<C||B<0||9<B||A<0||k<A)return W(g,_);C===8&&(C=9);var H=new Ie;return(g.state=H).strm=g,H.wrap=M,H.gzhead=null,H.w_bits=C,H.w_size=1<<H.w_bits,H.w_mask=H.w_size-1,H.hash_bits=b+7,H.hash_size=1<<H.hash_bits,H.hash_mask=H.hash_size-1,H.hash_shift=~~((H.hash_bits+O-1)/O),H.window=new o.Buf8(2*H.w_size),H.head=new o.Buf16(H.hash_size),H.prev=new o.Buf16(H.w_size),H.lit_bufsize=1<<b+6,H.pending_buf_size=4*H.lit_bufsize,H.pending_buf=new o.Buf8(H.pending_buf_size),H.d_buf=1*H.lit_bufsize,H.l_buf=3*H.lit_bufsize,H.level=B,H.strategy=A,H.method=U,Et(g)}i=[new de(0,0,0,0,function(g,B){var U=65535;for(U>g.pending_buf_size-5&&(U=g.pending_buf_size-5);;){if(g.lookahead<=1){if(he(g),g.lookahead===0&&B===h)return w;if(g.lookahead===0)break}g.strstart+=g.lookahead,g.lookahead=0;var C=g.block_start+U;if((g.strstart===0||g.strstart>=C)&&(g.lookahead=g.strstart-C,g.strstart=C,I(g,!1),g.strm.avail_out===0)||g.strstart-g.block_start>=g.w_size-J&&(I(g,!1),g.strm.avail_out===0))return w}return g.insert=0,B===v?(I(g,!0),g.strm.avail_out===0?re:V):(g.strstart>g.block_start&&(I(g,!1),g.strm.avail_out),w)}),new de(4,4,8,4,be),new de(4,5,16,8,be),new de(4,6,32,32,be),new de(4,4,16,16,le),new de(8,16,32,32,le),new de(8,16,128,128,le),new de(8,32,128,256,le),new de(32,128,258,1024,le),new de(32,258,258,4096,le)],s.deflateInit=function(g,B){return mt(g,B,f,15,8,0)},s.deflateInit2=mt,s.deflateReset=Et,s.deflateResetKeep=Ee,s.deflateSetHeader=function(g,B){return g&&g.state?g.state.wrap!==2?_:(g.state.gzhead=B,p):_},s.deflate=function(g,B){var U,C,b,A;if(!g||!g.state||5<B||B<0)return g?W(g,_):_;if(C=g.state,!g.output||!g.input&&g.avail_in!==0||C.status===666&&B!==v)return W(g,g.avail_out===0?-5:_);if(C.strm=g,U=C.last_flush,C.last_flush=B,C.status===N)if(C.wrap===2)g.adler=0,te(C,31),te(C,139),te(C,8),C.gzhead?(te(C,(C.gzhead.text?1:0)+(C.gzhead.hcrc?2:0)+(C.gzhead.extra?4:0)+(C.gzhead.name?8:0)+(C.gzhead.comment?16:0)),te(C,255&C.gzhead.time),te(C,C.gzhead.time>>8&255),te(C,C.gzhead.time>>16&255),te(C,C.gzhead.time>>24&255),te(C,C.level===9?2:2<=C.strategy||C.level<2?4:0),te(C,255&C.gzhead.os),C.gzhead.extra&&C.gzhead.extra.length&&(te(C,255&C.gzhead.extra.length),te(C,C.gzhead.extra.length>>8&255)),C.gzhead.hcrc&&(g.adler=u(g.adler,C.pending_buf,C.pending,0)),C.gzindex=0,C.status=69):(te(C,0),te(C,0),te(C,0),te(C,0),te(C,0),te(C,C.level===9?2:2<=C.strategy||C.level<2?4:0),te(C,3),C.status=L);else{var M=f+(C.w_bits-8<<4)<<8;M|=(2<=C.strategy||C.level<2?0:C.level<6?1:C.level===6?2:3)<<6,C.strstart!==0&&(M|=32),M+=31-M%31,C.status=L,Y(C,M),C.strstart!==0&&(Y(C,g.adler>>>16),Y(C,65535&g.adler)),g.adler=1}if(C.status===69)if(C.gzhead.extra){for(b=C.pending;C.gzindex<(65535&C.gzhead.extra.length)&&(C.pending!==C.pending_buf_size||(C.gzhead.hcrc&&C.pending>b&&(g.adler=u(g.adler,C.pending_buf,C.pending-b,b)),R(g),b=C.pending,C.pending!==C.pending_buf_size));)te(C,255&C.gzhead.extra[C.gzindex]),C.gzindex++;C.gzhead.hcrc&&C.pending>b&&(g.adler=u(g.adler,C.pending_buf,C.pending-b,b)),C.gzindex===C.gzhead.extra.length&&(C.gzindex=0,C.status=73)}else C.status=73;if(C.status===73)if(C.gzhead.name){b=C.pending;do{if(C.pending===C.pending_buf_size&&(C.gzhead.hcrc&&C.pending>b&&(g.adler=u(g.adler,C.pending_buf,C.pending-b,b)),R(g),b=C.pending,C.pending===C.pending_buf_size)){A=1;break}A=C.gzindex<C.gzhead.name.length?255&C.gzhead.name.charCodeAt(C.gzindex++):0,te(C,A)}while(A!==0);C.gzhead.hcrc&&C.pending>b&&(g.adler=u(g.adler,C.pending_buf,C.pending-b,b)),A===0&&(C.gzindex=0,C.status=91)}else C.status=91;if(C.status===91)if(C.gzhead.comment){b=C.pending;do{if(C.pending===C.pending_buf_size&&(C.gzhead.hcrc&&C.pending>b&&(g.adler=u(g.adler,C.pending_buf,C.pending-b,b)),R(g),b=C.pending,C.pending===C.pending_buf_size)){A=1;break}A=C.gzindex<C.gzhead.comment.length?255&C.gzhead.comment.charCodeAt(C.gzindex++):0,te(C,A)}while(A!==0);C.gzhead.hcrc&&C.pending>b&&(g.adler=u(g.adler,C.pending_buf,C.pending-b,b)),A===0&&(C.status=103)}else C.status=103;if(C.status===103&&(C.gzhead.hcrc?(C.pending+2>C.pending_buf_size&&R(g),C.pending+2<=C.pending_buf_size&&(te(C,255&g.adler),te(C,g.adler>>8&255),g.adler=0,C.status=L)):C.status=L),C.pending!==0){if(R(g),g.avail_out===0)return C.last_flush=-1,p}else if(g.avail_in===0&&$(B)<=$(U)&&B!==v)return W(g,-5);if(C.status===666&&g.avail_in!==0)return W(g,-5);if(g.avail_in!==0||C.lookahead!==0||B!==h&&C.status!==666){var H=C.strategy===2?function(z,K){for(var X;;){if(z.lookahead===0&&(he(z),z.lookahead===0)){if(K===h)return w;break}if(z.match_length=0,X=a._tr_tally(z,0,z.window[z.strstart]),z.lookahead--,z.strstart++,X&&(I(z,!1),z.strm.avail_out===0))return w}return z.insert=0,K===v?(I(z,!0),z.strm.avail_out===0?re:V):z.last_lit&&(I(z,!1),z.strm.avail_out===0)?w:F}(C,B):C.strategy===3?function(z,K){for(var X,Z,ne,pe,ue=z.window;;){if(z.lookahead<=D){if(he(z),z.lookahead<=D&&K===h)return w;if(z.lookahead===0)break}if(z.match_length=0,z.lookahead>=O&&0<z.strstart&&(Z=ue[ne=z.strstart-1])===ue[++ne]&&Z===ue[++ne]&&Z===ue[++ne]){pe=z.strstart+D;do;while(Z===ue[++ne]&&Z===ue[++ne]&&Z===ue[++ne]&&Z===ue[++ne]&&Z===ue[++ne]&&Z===ue[++ne]&&Z===ue[++ne]&&Z===ue[++ne]&&ne<pe);z.match_length=D-(pe-ne),z.match_length>z.lookahead&&(z.match_length=z.lookahead)}if(z.match_length>=O?(X=a._tr_tally(z,1,z.match_length-O),z.lookahead-=z.match_length,z.strstart+=z.match_length,z.match_length=0):(X=a._tr_tally(z,0,z.window[z.strstart]),z.lookahead--,z.strstart++),X&&(I(z,!1),z.strm.avail_out===0))return w}return z.insert=0,K===v?(I(z,!0),z.strm.avail_out===0?re:V):z.last_lit&&(I(z,!1),z.strm.avail_out===0)?w:F}(C,B):i[C.level].func(C,B);if(H!==re&&H!==V||(C.status=666),H===w||H===re)return g.avail_out===0&&(C.last_flush=-1),p;if(H===F&&(B===1?a._tr_align(C):B!==5&&(a._tr_stored_block(C,0,0,!1),B===3&&(G(C.head),C.lookahead===0&&(C.strstart=0,C.block_start=0,C.insert=0))),R(g),g.avail_out===0))return C.last_flush=-1,p}return B!==v?p:C.wrap<=0?1:(C.wrap===2?(te(C,255&g.adler),te(C,g.adler>>8&255),te(C,g.adler>>16&255),te(C,g.adler>>24&255),te(C,255&g.total_in),te(C,g.total_in>>8&255),te(C,g.total_in>>16&255),te(C,g.total_in>>24&255)):(Y(C,g.adler>>>16),Y(C,65535&g.adler)),R(g),0<C.wrap&&(C.wrap=-C.wrap),C.pending!==0?p:1)},s.deflateEnd=function(g){var B;return g&&g.state?(B=g.state.status)!==N&&B!==69&&B!==73&&B!==91&&B!==103&&B!==L&&B!==666?W(g,_):(g.state=null,B===L?W(g,-3):p):_},s.deflateSetDictionary=function(g,B){var U,C,b,A,M,H,z,K,X=B.length;if(!g||!g.state||(A=(U=g.state).wrap)===2||A===1&&U.status!==N||U.lookahead)return _;for(A===1&&(g.adler=l(g.adler,B,X,0)),U.wrap=0,X>=U.w_size&&(A===0&&(G(U.head),U.strstart=0,U.block_start=0,U.insert=0),K=new o.Buf8(U.w_size),o.arraySet(K,B,X-U.w_size,U.w_size,0),B=K,X=U.w_size),M=g.avail_in,H=g.next_in,z=g.input,g.avail_in=X,g.next_in=0,g.input=B,he(U);U.lookahead>=O;){for(C=U.strstart,b=U.lookahead-(O-1);U.ins_h=(U.ins_h<<U.hash_shift^U.window[C+O-1])&U.hash_mask,U.prev[C&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=C,C++,--b;);U.strstart=C,U.lookahead=O-1,he(U)}return U.strstart+=U.lookahead,U.block_start=U.strstart,U.insert=U.lookahead,U.lookahead=0,U.match_length=U.prev_length=O-1,U.match_available=0,g.next_in=H,g.input=z,g.avail_in=M,U.wrap=A,p},s.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,n,s){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,n,s){n.exports=function(i,o){var a,l,u,d,h,v,p,_,y,k,c,f,m,x,E,T,j,P,O,D,J,N,L,w,F;a=i.state,l=i.next_in,w=i.input,u=l+(i.avail_in-5),d=i.next_out,F=i.output,h=d-(o-i.avail_out),v=d+(i.avail_out-257),p=a.dmax,_=a.wsize,y=a.whave,k=a.wnext,c=a.window,f=a.hold,m=a.bits,x=a.lencode,E=a.distcode,T=(1<<a.lenbits)-1,j=(1<<a.distbits)-1;e:do{m<15&&(f+=w[l++]<<m,m+=8,f+=w[l++]<<m,m+=8),P=x[f&T];t:for(;;){if(f>>>=O=P>>>24,m-=O,(O=P>>>16&255)===0)F[d++]=65535&P;else{if(!(16&O)){if(!(64&O)){P=x[(65535&P)+(f&(1<<O)-1)];continue t}if(32&O){a.mode=12;break e}i.msg="invalid literal/length code",a.mode=30;break e}D=65535&P,(O&=15)&&(m<O&&(f+=w[l++]<<m,m+=8),D+=f&(1<<O)-1,f>>>=O,m-=O),m<15&&(f+=w[l++]<<m,m+=8,f+=w[l++]<<m,m+=8),P=E[f&j];r:for(;;){if(f>>>=O=P>>>24,m-=O,!(16&(O=P>>>16&255))){if(!(64&O)){P=E[(65535&P)+(f&(1<<O)-1)];continue r}i.msg="invalid distance code",a.mode=30;break e}if(J=65535&P,m<(O&=15)&&(f+=w[l++]<<m,(m+=8)<O&&(f+=w[l++]<<m,m+=8)),p<(J+=f&(1<<O)-1)){i.msg="invalid distance too far back",a.mode=30;break e}if(f>>>=O,m-=O,(O=d-h)<J){if(y<(O=J-O)&&a.sane){i.msg="invalid distance too far back",a.mode=30;break e}if(L=c,(N=0)===k){if(N+=_-O,O<D){for(D-=O;F[d++]=c[N++],--O;);N=d-J,L=F}}else if(k<O){if(N+=_+k-O,(O-=k)<D){for(D-=O;F[d++]=c[N++],--O;);if(N=0,k<D){for(D-=O=k;F[d++]=c[N++],--O;);N=d-J,L=F}}}else if(N+=k-O,O<D){for(D-=O;F[d++]=c[N++],--O;);N=d-J,L=F}for(;2<D;)F[d++]=L[N++],F[d++]=L[N++],F[d++]=L[N++],D-=3;D&&(F[d++]=L[N++],1<D&&(F[d++]=L[N++]))}else{for(N=d-J;F[d++]=F[N++],F[d++]=F[N++],F[d++]=F[N++],2<(D-=3););D&&(F[d++]=F[N++],1<D&&(F[d++]=F[N++]))}break}}break}}while(l<u&&d<v);l-=D=m>>3,f&=(1<<(m-=D<<3))-1,i.next_in=l,i.next_out=d,i.avail_in=l<u?u-l+5:5-(l-u),i.avail_out=d<v?v-d+257:257-(d-v),a.hold=f,a.bits=m}},{}],49:[function(r,n,s){var i=r("../utils/common"),o=r("./adler32"),a=r("./crc32"),l=r("./inffast"),u=r("./inftrees"),d=1,h=2,v=0,p=-2,_=1,y=852,k=592;function c(N){return(N>>>24&255)+(N>>>8&65280)+((65280&N)<<8)+((255&N)<<24)}function f(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function m(N){var L;return N&&N.state?(L=N.state,N.total_in=N.total_out=L.total=0,N.msg="",L.wrap&&(N.adler=1&L.wrap),L.mode=_,L.last=0,L.havedict=0,L.dmax=32768,L.head=null,L.hold=0,L.bits=0,L.lencode=L.lendyn=new i.Buf32(y),L.distcode=L.distdyn=new i.Buf32(k),L.sane=1,L.back=-1,v):p}function x(N){var L;return N&&N.state?((L=N.state).wsize=0,L.whave=0,L.wnext=0,m(N)):p}function E(N,L){var w,F;return N&&N.state?(F=N.state,L<0?(w=0,L=-L):(w=1+(L>>4),L<48&&(L&=15)),L&&(L<8||15<L)?p:(F.window!==null&&F.wbits!==L&&(F.window=null),F.wrap=w,F.wbits=L,x(N))):p}function T(N,L){var w,F;return N?(F=new f,(N.state=F).window=null,(w=E(N,L))!==v&&(N.state=null),w):p}var j,P,O=!0;function D(N){if(O){var L;for(j=new i.Buf32(512),P=new i.Buf32(32),L=0;L<144;)N.lens[L++]=8;for(;L<256;)N.lens[L++]=9;for(;L<280;)N.lens[L++]=7;for(;L<288;)N.lens[L++]=8;for(u(d,N.lens,0,288,j,0,N.work,{bits:9}),L=0;L<32;)N.lens[L++]=5;u(h,N.lens,0,32,P,0,N.work,{bits:5}),O=!1}N.lencode=j,N.lenbits=9,N.distcode=P,N.distbits=5}function J(N,L,w,F){var re,V=N.state;return V.window===null&&(V.wsize=1<<V.wbits,V.wnext=0,V.whave=0,V.window=new i.Buf8(V.wsize)),F>=V.wsize?(i.arraySet(V.window,L,w-V.wsize,V.wsize,0),V.wnext=0,V.whave=V.wsize):(F<(re=V.wsize-V.wnext)&&(re=F),i.arraySet(V.window,L,w-F,re,V.wnext),(F-=re)?(i.arraySet(V.window,L,w-F,F,0),V.wnext=F,V.whave=V.wsize):(V.wnext+=re,V.wnext===V.wsize&&(V.wnext=0),V.whave<V.wsize&&(V.whave+=re))),0}s.inflateReset=x,s.inflateReset2=E,s.inflateResetKeep=m,s.inflateInit=function(N){return T(N,15)},s.inflateInit2=T,s.inflate=function(N,L){var w,F,re,V,W,$,G,R,I,te,Y,Q,he,be,le,de,Ie,Ee,Et,mt,g,B,U,C,b=0,A=new i.Buf8(4),M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!N||!N.state||!N.output||!N.input&&N.avail_in!==0)return p;(w=N.state).mode===12&&(w.mode=13),W=N.next_out,re=N.output,G=N.avail_out,V=N.next_in,F=N.input,$=N.avail_in,R=w.hold,I=w.bits,te=$,Y=G,B=v;e:for(;;)switch(w.mode){case _:if(w.wrap===0){w.mode=13;break}for(;I<16;){if($===0)break e;$--,R+=F[V++]<<I,I+=8}if(2&w.wrap&&R===35615){A[w.check=0]=255&R,A[1]=R>>>8&255,w.check=a(w.check,A,2,0),I=R=0,w.mode=2;break}if(w.flags=0,w.head&&(w.head.done=!1),!(1&w.wrap)||(((255&R)<<8)+(R>>8))%31){N.msg="incorrect header check",w.mode=30;break}if((15&R)!=8){N.msg="unknown compression method",w.mode=30;break}if(I-=4,g=8+(15&(R>>>=4)),w.wbits===0)w.wbits=g;else if(g>w.wbits){N.msg="invalid window size",w.mode=30;break}w.dmax=1<<g,N.adler=w.check=1,w.mode=512&R?10:12,I=R=0;break;case 2:for(;I<16;){if($===0)break e;$--,R+=F[V++]<<I,I+=8}if(w.flags=R,(255&w.flags)!=8){N.msg="unknown compression method",w.mode=30;break}if(57344&w.flags){N.msg="unknown header flags set",w.mode=30;break}w.head&&(w.head.text=R>>8&1),512&w.flags&&(A[0]=255&R,A[1]=R>>>8&255,w.check=a(w.check,A,2,0)),I=R=0,w.mode=3;case 3:for(;I<32;){if($===0)break e;$--,R+=F[V++]<<I,I+=8}w.head&&(w.head.time=R),512&w.flags&&(A[0]=255&R,A[1]=R>>>8&255,A[2]=R>>>16&255,A[3]=R>>>24&255,w.check=a(w.check,A,4,0)),I=R=0,w.mode=4;case 4:for(;I<16;){if($===0)break e;$--,R+=F[V++]<<I,I+=8}w.head&&(w.head.xflags=255&R,w.head.os=R>>8),512&w.flags&&(A[0]=255&R,A[1]=R>>>8&255,w.check=a(w.check,A,2,0)),I=R=0,w.mode=5;case 5:if(1024&w.flags){for(;I<16;){if($===0)break e;$--,R+=F[V++]<<I,I+=8}w.length=R,w.head&&(w.head.extra_len=R),512&w.flags&&(A[0]=255&R,A[1]=R>>>8&255,w.check=a(w.check,A,2,0)),I=R=0}else w.head&&(w.head.extra=null);w.mode=6;case 6:if(1024&w.flags&&($<(Q=w.length)&&(Q=$),Q&&(w.head&&(g=w.head.extra_len-w.length,w.head.extra||(w.head.extra=new Array(w.head.extra_len)),i.arraySet(w.head.extra,F,V,Q,g)),512&w.flags&&(w.check=a(w.check,F,Q,V)),$-=Q,V+=Q,w.length-=Q),w.length))break e;w.length=0,w.mode=7;case 7:if(2048&w.flags){if($===0)break e;for(Q=0;g=F[V+Q++],w.head&&g&&w.length<65536&&(w.head.name+=String.fromCharCode(g)),g&&Q<$;);if(512&w.flags&&(w.check=a(w.check,F,Q,V)),$-=Q,V+=Q,g)break e}else w.head&&(w.head.name=null);w.length=0,w.mode=8;case 8:if(4096&w.flags){if($===0)break e;for(Q=0;g=F[V+Q++],w.head&&g&&w.length<65536&&(w.head.comment+=String.fromCharCode(g)),g&&Q<$;);if(512&w.flags&&(w.check=a(w.check,F,Q,V)),$-=Q,V+=Q,g)break e}else w.head&&(w.head.comment=null);w.mode=9;case 9:if(512&w.flags){for(;I<16;){if($===0)break e;$--,R+=F[V++]<<I,I+=8}if(R!==(65535&w.check)){N.msg="header crc mismatch",w.mode=30;break}I=R=0}w.head&&(w.head.hcrc=w.flags>>9&1,w.head.done=!0),N.adler=w.check=0,w.mode=12;break;case 10:for(;I<32;){if($===0)break e;$--,R+=F[V++]<<I,I+=8}N.adler=w.check=c(R),I=R=0,w.mode=11;case 11:if(w.havedict===0)return N.next_out=W,N.avail_out=G,N.next_in=V,N.avail_in=$,w.hold=R,w.bits=I,2;N.adler=w.check=1,w.mode=12;case 12:if(L===5||L===6)break e;case 13:if(w.last){R>>>=7&I,I-=7&I,w.mode=27;break}for(;I<3;){if($===0)break e;$--,R+=F[V++]<<I,I+=8}switch(w.last=1&R,I-=1,3&(R>>>=1)){case 0:w.mode=14;break;case 1:if(D(w),w.mode=20,L!==6)break;R>>>=2,I-=2;break e;case 2:w.mode=17;break;case 3:N.msg="invalid block type",w.mode=30}R>>>=2,I-=2;break;case 14:for(R>>>=7&I,I-=7&I;I<32;){if($===0)break e;$--,R+=F[V++]<<I,I+=8}if((65535&R)!=(R>>>16^65535)){N.msg="invalid stored block lengths",w.mode=30;break}if(w.length=65535&R,I=R=0,w.mode=15,L===6)break e;case 15:w.mode=16;case 16:if(Q=w.length){if($<Q&&(Q=$),G<Q&&(Q=G),Q===0)break e;i.arraySet(re,F,V,Q,W),$-=Q,V+=Q,G-=Q,W+=Q,w.length-=Q;break}w.mode=12;break;case 17:for(;I<14;){if($===0)break e;$--,R+=F[V++]<<I,I+=8}if(w.nlen=257+(31&R),R>>>=5,I-=5,w.ndist=1+(31&R),R>>>=5,I-=5,w.ncode=4+(15&R),R>>>=4,I-=4,286<w.nlen||30<w.ndist){N.msg="too many length or distance symbols",w.mode=30;break}w.have=0,w.mode=18;case 18:for(;w.have<w.ncode;){for(;I<3;){if($===0)break e;$--,R+=F[V++]<<I,I+=8}w.lens[M[w.have++]]=7&R,R>>>=3,I-=3}for(;w.have<19;)w.lens[M[w.have++]]=0;if(w.lencode=w.lendyn,w.lenbits=7,U={bits:w.lenbits},B=u(0,w.lens,0,19,w.lencode,0,w.work,U),w.lenbits=U.bits,B){N.msg="invalid code lengths set",w.mode=30;break}w.have=0,w.mode=19;case 19:for(;w.have<w.nlen+w.ndist;){for(;de=(b=w.lencode[R&(1<<w.lenbits)-1])>>>16&255,Ie=65535&b,!((le=b>>>24)<=I);){if($===0)break e;$--,R+=F[V++]<<I,I+=8}if(Ie<16)R>>>=le,I-=le,w.lens[w.have++]=Ie;else{if(Ie===16){for(C=le+2;I<C;){if($===0)break e;$--,R+=F[V++]<<I,I+=8}if(R>>>=le,I-=le,w.have===0){N.msg="invalid bit length repeat",w.mode=30;break}g=w.lens[w.have-1],Q=3+(3&R),R>>>=2,I-=2}else if(Ie===17){for(C=le+3;I<C;){if($===0)break e;$--,R+=F[V++]<<I,I+=8}I-=le,g=0,Q=3+(7&(R>>>=le)),R>>>=3,I-=3}else{for(C=le+7;I<C;){if($===0)break e;$--,R+=F[V++]<<I,I+=8}I-=le,g=0,Q=11+(127&(R>>>=le)),R>>>=7,I-=7}if(w.have+Q>w.nlen+w.ndist){N.msg="invalid bit length repeat",w.mode=30;break}for(;Q--;)w.lens[w.have++]=g}}if(w.mode===30)break;if(w.lens[256]===0){N.msg="invalid code -- missing end-of-block",w.mode=30;break}if(w.lenbits=9,U={bits:w.lenbits},B=u(d,w.lens,0,w.nlen,w.lencode,0,w.work,U),w.lenbits=U.bits,B){N.msg="invalid literal/lengths set",w.mode=30;break}if(w.distbits=6,w.distcode=w.distdyn,U={bits:w.distbits},B=u(h,w.lens,w.nlen,w.ndist,w.distcode,0,w.work,U),w.distbits=U.bits,B){N.msg="invalid distances set",w.mode=30;break}if(w.mode=20,L===6)break e;case 20:w.mode=21;case 21:if(6<=$&&258<=G){N.next_out=W,N.avail_out=G,N.next_in=V,N.avail_in=$,w.hold=R,w.bits=I,l(N,Y),W=N.next_out,re=N.output,G=N.avail_out,V=N.next_in,F=N.input,$=N.avail_in,R=w.hold,I=w.bits,w.mode===12&&(w.back=-1);break}for(w.back=0;de=(b=w.lencode[R&(1<<w.lenbits)-1])>>>16&255,Ie=65535&b,!((le=b>>>24)<=I);){if($===0)break e;$--,R+=F[V++]<<I,I+=8}if(de&&!(240&de)){for(Ee=le,Et=de,mt=Ie;de=(b=w.lencode[mt+((R&(1<<Ee+Et)-1)>>Ee)])>>>16&255,Ie=65535&b,!(Ee+(le=b>>>24)<=I);){if($===0)break e;$--,R+=F[V++]<<I,I+=8}R>>>=Ee,I-=Ee,w.back+=Ee}if(R>>>=le,I-=le,w.back+=le,w.length=Ie,de===0){w.mode=26;break}if(32&de){w.back=-1,w.mode=12;break}if(64&de){N.msg="invalid literal/length code",w.mode=30;break}w.extra=15&de,w.mode=22;case 22:if(w.extra){for(C=w.extra;I<C;){if($===0)break e;$--,R+=F[V++]<<I,I+=8}w.length+=R&(1<<w.extra)-1,R>>>=w.extra,I-=w.extra,w.back+=w.extra}w.was=w.length,w.mode=23;case 23:for(;de=(b=w.distcode[R&(1<<w.distbits)-1])>>>16&255,Ie=65535&b,!((le=b>>>24)<=I);){if($===0)break e;$--,R+=F[V++]<<I,I+=8}if(!(240&de)){for(Ee=le,Et=de,mt=Ie;de=(b=w.distcode[mt+((R&(1<<Ee+Et)-1)>>Ee)])>>>16&255,Ie=65535&b,!(Ee+(le=b>>>24)<=I);){if($===0)break e;$--,R+=F[V++]<<I,I+=8}R>>>=Ee,I-=Ee,w.back+=Ee}if(R>>>=le,I-=le,w.back+=le,64&de){N.msg="invalid distance code",w.mode=30;break}w.offset=Ie,w.extra=15&de,w.mode=24;case 24:if(w.extra){for(C=w.extra;I<C;){if($===0)break e;$--,R+=F[V++]<<I,I+=8}w.offset+=R&(1<<w.extra)-1,R>>>=w.extra,I-=w.extra,w.back+=w.extra}if(w.offset>w.dmax){N.msg="invalid distance too far back",w.mode=30;break}w.mode=25;case 25:if(G===0)break e;if(Q=Y-G,w.offset>Q){if((Q=w.offset-Q)>w.whave&&w.sane){N.msg="invalid distance too far back",w.mode=30;break}he=Q>w.wnext?(Q-=w.wnext,w.wsize-Q):w.wnext-Q,Q>w.length&&(Q=w.length),be=w.window}else be=re,he=W-w.offset,Q=w.length;for(G<Q&&(Q=G),G-=Q,w.length-=Q;re[W++]=be[he++],--Q;);w.length===0&&(w.mode=21);break;case 26:if(G===0)break e;re[W++]=w.length,G--,w.mode=21;break;case 27:if(w.wrap){for(;I<32;){if($===0)break e;$--,R|=F[V++]<<I,I+=8}if(Y-=G,N.total_out+=Y,w.total+=Y,Y&&(N.adler=w.check=w.flags?a(w.check,re,Y,W-Y):o(w.check,re,Y,W-Y)),Y=G,(w.flags?R:c(R))!==w.check){N.msg="incorrect data check",w.mode=30;break}I=R=0}w.mode=28;case 28:if(w.wrap&&w.flags){for(;I<32;){if($===0)break e;$--,R+=F[V++]<<I,I+=8}if(R!==(4294967295&w.total)){N.msg="incorrect length check",w.mode=30;break}I=R=0}w.mode=29;case 29:B=1;break e;case 30:B=-3;break e;case 31:return-4;case 32:default:return p}return N.next_out=W,N.avail_out=G,N.next_in=V,N.avail_in=$,w.hold=R,w.bits=I,(w.wsize||Y!==N.avail_out&&w.mode<30&&(w.mode<27||L!==4))&&J(N,N.output,N.next_out,Y-N.avail_out)?(w.mode=31,-4):(te-=N.avail_in,Y-=N.avail_out,N.total_in+=te,N.total_out+=Y,w.total+=Y,w.wrap&&Y&&(N.adler=w.check=w.flags?a(w.check,re,Y,N.next_out-Y):o(w.check,re,Y,N.next_out-Y)),N.data_type=w.bits+(w.last?64:0)+(w.mode===12?128:0)+(w.mode===20||w.mode===15?256:0),(te==0&&Y===0||L===4)&&B===v&&(B=-5),B)},s.inflateEnd=function(N){if(!N||!N.state)return p;var L=N.state;return L.window&&(L.window=null),N.state=null,v},s.inflateGetHeader=function(N,L){var w;return N&&N.state&&2&(w=N.state).wrap?((w.head=L).done=!1,v):p},s.inflateSetDictionary=function(N,L){var w,F=L.length;return N&&N.state?(w=N.state).wrap!==0&&w.mode!==11?p:w.mode===11&&o(1,L,F,0)!==w.check?-3:J(N,L,F,F)?(w.mode=31,-4):(w.havedict=1,v):p},s.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,n,s){var i=r("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(d,h,v,p,_,y,k,c){var f,m,x,E,T,j,P,O,D,J=c.bits,N=0,L=0,w=0,F=0,re=0,V=0,W=0,$=0,G=0,R=0,I=null,te=0,Y=new i.Buf16(16),Q=new i.Buf16(16),he=null,be=0;for(N=0;N<=15;N++)Y[N]=0;for(L=0;L<p;L++)Y[h[v+L]]++;for(re=J,F=15;1<=F&&Y[F]===0;F--);if(F<re&&(re=F),F===0)return _[y++]=20971520,_[y++]=20971520,c.bits=1,0;for(w=1;w<F&&Y[w]===0;w++);for(re<w&&(re=w),N=$=1;N<=15;N++)if($<<=1,($-=Y[N])<0)return-1;if(0<$&&(d===0||F!==1))return-1;for(Q[1]=0,N=1;N<15;N++)Q[N+1]=Q[N]+Y[N];for(L=0;L<p;L++)h[v+L]!==0&&(k[Q[h[v+L]]++]=L);if(j=d===0?(I=he=k,19):d===1?(I=o,te-=257,he=a,be-=257,256):(I=l,he=u,-1),N=w,T=y,W=L=R=0,x=-1,E=(G=1<<(V=re))-1,d===1&&852<G||d===2&&592<G)return 1;for(;;){for(P=N-W,D=k[L]<j?(O=0,k[L]):k[L]>j?(O=he[be+k[L]],I[te+k[L]]):(O=96,0),f=1<<N-W,w=m=1<<V;_[T+(R>>W)+(m-=f)]=P<<24|O<<16|D|0,m!==0;);for(f=1<<N-1;R&f;)f>>=1;if(f!==0?(R&=f-1,R+=f):R=0,L++,--Y[N]==0){if(N===F)break;N=h[v+k[L]]}if(re<N&&(R&E)!==x){for(W===0&&(W=re),T+=w,$=1<<(V=N-W);V+W<F&&!(($-=Y[V+W])<=0);)V++,$<<=1;if(G+=1<<V,d===1&&852<G||d===2&&592<G)return 1;_[x=R&E]=re<<24|V<<16|T-y|0}}return R!==0&&(_[T+R]=N-W<<24|64<<16|0),c.bits=re,0}},{"../utils/common":41}],51:[function(r,n,s){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,n,s){var i=r("../utils/common"),o=0,a=1;function l(b){for(var A=b.length;0<=--A;)b[A]=0}var u=0,d=29,h=256,v=h+1+d,p=30,_=19,y=2*v+1,k=15,c=16,f=7,m=256,x=16,E=17,T=18,j=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],P=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],D=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],J=new Array(2*(v+2));l(J);var N=new Array(2*p);l(N);var L=new Array(512);l(L);var w=new Array(256);l(w);var F=new Array(d);l(F);var re,V,W,$=new Array(p);function G(b,A,M,H,z){this.static_tree=b,this.extra_bits=A,this.extra_base=M,this.elems=H,this.max_length=z,this.has_stree=b&&b.length}function R(b,A){this.dyn_tree=b,this.max_code=0,this.stat_desc=A}function I(b){return b<256?L[b]:L[256+(b>>>7)]}function te(b,A){b.pending_buf[b.pending++]=255&A,b.pending_buf[b.pending++]=A>>>8&255}function Y(b,A,M){b.bi_valid>c-M?(b.bi_buf|=A<<b.bi_valid&65535,te(b,b.bi_buf),b.bi_buf=A>>c-b.bi_valid,b.bi_valid+=M-c):(b.bi_buf|=A<<b.bi_valid&65535,b.bi_valid+=M)}function Q(b,A,M){Y(b,M[2*A],M[2*A+1])}function he(b,A){for(var M=0;M|=1&b,b>>>=1,M<<=1,0<--A;);return M>>>1}function be(b,A,M){var H,z,K=new Array(k+1),X=0;for(H=1;H<=k;H++)K[H]=X=X+M[H-1]<<1;for(z=0;z<=A;z++){var Z=b[2*z+1];Z!==0&&(b[2*z]=he(K[Z]++,Z))}}function le(b){var A;for(A=0;A<v;A++)b.dyn_ltree[2*A]=0;for(A=0;A<p;A++)b.dyn_dtree[2*A]=0;for(A=0;A<_;A++)b.bl_tree[2*A]=0;b.dyn_ltree[2*m]=1,b.opt_len=b.static_len=0,b.last_lit=b.matches=0}function de(b){8<b.bi_valid?te(b,b.bi_buf):0<b.bi_valid&&(b.pending_buf[b.pending++]=b.bi_buf),b.bi_buf=0,b.bi_valid=0}function Ie(b,A,M,H){var z=2*A,K=2*M;return b[z]<b[K]||b[z]===b[K]&&H[A]<=H[M]}function Ee(b,A,M){for(var H=b.heap[M],z=M<<1;z<=b.heap_len&&(z<b.heap_len&&Ie(A,b.heap[z+1],b.heap[z],b.depth)&&z++,!Ie(A,H,b.heap[z],b.depth));)b.heap[M]=b.heap[z],M=z,z<<=1;b.heap[M]=H}function Et(b,A,M){var H,z,K,X,Z=0;if(b.last_lit!==0)for(;H=b.pending_buf[b.d_buf+2*Z]<<8|b.pending_buf[b.d_buf+2*Z+1],z=b.pending_buf[b.l_buf+Z],Z++,H===0?Q(b,z,A):(Q(b,(K=w[z])+h+1,A),(X=j[K])!==0&&Y(b,z-=F[K],X),Q(b,K=I(--H),M),(X=P[K])!==0&&Y(b,H-=$[K],X)),Z<b.last_lit;);Q(b,m,A)}function mt(b,A){var M,H,z,K=A.dyn_tree,X=A.stat_desc.static_tree,Z=A.stat_desc.has_stree,ne=A.stat_desc.elems,pe=-1;for(b.heap_len=0,b.heap_max=y,M=0;M<ne;M++)K[2*M]!==0?(b.heap[++b.heap_len]=pe=M,b.depth[M]=0):K[2*M+1]=0;for(;b.heap_len<2;)K[2*(z=b.heap[++b.heap_len]=pe<2?++pe:0)]=1,b.depth[z]=0,b.opt_len--,Z&&(b.static_len-=X[2*z+1]);for(A.max_code=pe,M=b.heap_len>>1;1<=M;M--)Ee(b,K,M);for(z=ne;M=b.heap[1],b.heap[1]=b.heap[b.heap_len--],Ee(b,K,1),H=b.heap[1],b.heap[--b.heap_max]=M,b.heap[--b.heap_max]=H,K[2*z]=K[2*M]+K[2*H],b.depth[z]=(b.depth[M]>=b.depth[H]?b.depth[M]:b.depth[H])+1,K[2*M+1]=K[2*H+1]=z,b.heap[1]=z++,Ee(b,K,1),2<=b.heap_len;);b.heap[--b.heap_max]=b.heap[1],function(ue,lt){var Sn,Ct,bn,Ce,Es,ro,Ot=lt.dyn_tree,Wl=lt.max_code,yf=lt.stat_desc.static_tree,wf=lt.stat_desc.has_stree,_f=lt.stat_desc.extra_bits,Hl=lt.stat_desc.extra_base,En=lt.stat_desc.max_length,Cs=0;for(Ce=0;Ce<=k;Ce++)ue.bl_count[Ce]=0;for(Ot[2*ue.heap[ue.heap_max]+1]=0,Sn=ue.heap_max+1;Sn<y;Sn++)En<(Ce=Ot[2*Ot[2*(Ct=ue.heap[Sn])+1]+1]+1)&&(Ce=En,Cs++),Ot[2*Ct+1]=Ce,Wl<Ct||(ue.bl_count[Ce]++,Es=0,Hl<=Ct&&(Es=_f[Ct-Hl]),ro=Ot[2*Ct],ue.opt_len+=ro*(Ce+Es),wf&&(ue.static_len+=ro*(yf[2*Ct+1]+Es)));if(Cs!==0){do{for(Ce=En-1;ue.bl_count[Ce]===0;)Ce--;ue.bl_count[Ce]--,ue.bl_count[Ce+1]+=2,ue.bl_count[En]--,Cs-=2}while(0<Cs);for(Ce=En;Ce!==0;Ce--)for(Ct=ue.bl_count[Ce];Ct!==0;)Wl<(bn=ue.heap[--Sn])||(Ot[2*bn+1]!==Ce&&(ue.opt_len+=(Ce-Ot[2*bn+1])*Ot[2*bn],Ot[2*bn+1]=Ce),Ct--)}}(b,A),be(K,pe,b.bl_count)}function g(b,A,M){var H,z,K=-1,X=A[1],Z=0,ne=7,pe=4;for(X===0&&(ne=138,pe=3),A[2*(M+1)+1]=65535,H=0;H<=M;H++)z=X,X=A[2*(H+1)+1],++Z<ne&&z===X||(Z<pe?b.bl_tree[2*z]+=Z:z!==0?(z!==K&&b.bl_tree[2*z]++,b.bl_tree[2*x]++):Z<=10?b.bl_tree[2*E]++:b.bl_tree[2*T]++,K=z,pe=(Z=0)===X?(ne=138,3):z===X?(ne=6,3):(ne=7,4))}function B(b,A,M){var H,z,K=-1,X=A[1],Z=0,ne=7,pe=4;for(X===0&&(ne=138,pe=3),H=0;H<=M;H++)if(z=X,X=A[2*(H+1)+1],!(++Z<ne&&z===X)){if(Z<pe)for(;Q(b,z,b.bl_tree),--Z!=0;);else z!==0?(z!==K&&(Q(b,z,b.bl_tree),Z--),Q(b,x,b.bl_tree),Y(b,Z-3,2)):Z<=10?(Q(b,E,b.bl_tree),Y(b,Z-3,3)):(Q(b,T,b.bl_tree),Y(b,Z-11,7));K=z,pe=(Z=0)===X?(ne=138,3):z===X?(ne=6,3):(ne=7,4)}}l($);var U=!1;function C(b,A,M,H){Y(b,(u<<1)+(H?1:0),3),function(z,K,X,Z){de(z),te(z,X),te(z,~X),i.arraySet(z.pending_buf,z.window,K,X,z.pending),z.pending+=X}(b,A,M)}s._tr_init=function(b){U||(function(){var A,M,H,z,K,X=new Array(k+1);for(z=H=0;z<d-1;z++)for(F[z]=H,A=0;A<1<<j[z];A++)w[H++]=z;for(w[H-1]=z,z=K=0;z<16;z++)for($[z]=K,A=0;A<1<<P[z];A++)L[K++]=z;for(K>>=7;z<p;z++)for($[z]=K<<7,A=0;A<1<<P[z]-7;A++)L[256+K++]=z;for(M=0;M<=k;M++)X[M]=0;for(A=0;A<=143;)J[2*A+1]=8,A++,X[8]++;for(;A<=255;)J[2*A+1]=9,A++,X[9]++;for(;A<=279;)J[2*A+1]=7,A++,X[7]++;for(;A<=287;)J[2*A+1]=8,A++,X[8]++;for(be(J,v+1,X),A=0;A<p;A++)N[2*A+1]=5,N[2*A]=he(A,5);re=new G(J,j,h+1,v,k),V=new G(N,P,0,p,k),W=new G(new Array(0),O,0,_,f)}(),U=!0),b.l_desc=new R(b.dyn_ltree,re),b.d_desc=new R(b.dyn_dtree,V),b.bl_desc=new R(b.bl_tree,W),b.bi_buf=0,b.bi_valid=0,le(b)},s._tr_stored_block=C,s._tr_flush_block=function(b,A,M,H){var z,K,X=0;0<b.level?(b.strm.data_type===2&&(b.strm.data_type=function(Z){var ne,pe=4093624447;for(ne=0;ne<=31;ne++,pe>>>=1)if(1&pe&&Z.dyn_ltree[2*ne]!==0)return o;if(Z.dyn_ltree[18]!==0||Z.dyn_ltree[20]!==0||Z.dyn_ltree[26]!==0)return a;for(ne=32;ne<h;ne++)if(Z.dyn_ltree[2*ne]!==0)return a;return o}(b)),mt(b,b.l_desc),mt(b,b.d_desc),X=function(Z){var ne;for(g(Z,Z.dyn_ltree,Z.l_desc.max_code),g(Z,Z.dyn_dtree,Z.d_desc.max_code),mt(Z,Z.bl_desc),ne=_-1;3<=ne&&Z.bl_tree[2*D[ne]+1]===0;ne--);return Z.opt_len+=3*(ne+1)+5+5+4,ne}(b),z=b.opt_len+3+7>>>3,(K=b.static_len+3+7>>>3)<=z&&(z=K)):z=K=M+5,M+4<=z&&A!==-1?C(b,A,M,H):b.strategy===4||K===z?(Y(b,2+(H?1:0),3),Et(b,J,N)):(Y(b,4+(H?1:0),3),function(Z,ne,pe,ue){var lt;for(Y(Z,ne-257,5),Y(Z,pe-1,5),Y(Z,ue-4,4),lt=0;lt<ue;lt++)Y(Z,Z.bl_tree[2*D[lt]+1],3);B(Z,Z.dyn_ltree,ne-1),B(Z,Z.dyn_dtree,pe-1)}(b,b.l_desc.max_code+1,b.d_desc.max_code+1,X+1),Et(b,b.dyn_ltree,b.dyn_dtree)),le(b),H&&de(b)},s._tr_tally=function(b,A,M){return b.pending_buf[b.d_buf+2*b.last_lit]=A>>>8&255,b.pending_buf[b.d_buf+2*b.last_lit+1]=255&A,b.pending_buf[b.l_buf+b.last_lit]=255&M,b.last_lit++,A===0?b.dyn_ltree[2*M]++:(b.matches++,A--,b.dyn_ltree[2*(w[M]+h+1)]++,b.dyn_dtree[2*I(A)]++),b.last_lit===b.lit_bufsize-1},s._tr_align=function(b){Y(b,2,3),Q(b,m,J),function(A){A.bi_valid===16?(te(A,A.bi_buf),A.bi_buf=0,A.bi_valid=0):8<=A.bi_valid&&(A.pending_buf[A.pending++]=255&A.bi_buf,A.bi_buf>>=8,A.bi_valid-=8)}(b)}},{"../utils/common":41}],53:[function(r,n,s){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,n,s){(function(i){(function(o,a){if(!o.setImmediate){var l,u,d,h,v=1,p={},_=!1,y=o.document,k=Object.getPrototypeOf&&Object.getPrototypeOf(o);k=k&&k.setTimeout?k:o,l={}.toString.call(o.process)==="[object process]"?function(x){process.nextTick(function(){f(x)})}:function(){if(o.postMessage&&!o.importScripts){var x=!0,E=o.onmessage;return o.onmessage=function(){x=!1},o.postMessage("","*"),o.onmessage=E,x}}()?(h="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",m,!1):o.attachEvent("onmessage",m),function(x){o.postMessage(h+x,"*")}):o.MessageChannel?((d=new MessageChannel).port1.onmessage=function(x){f(x.data)},function(x){d.port2.postMessage(x)}):y&&"onreadystatechange"in y.createElement("script")?(u=y.documentElement,function(x){var E=y.createElement("script");E.onreadystatechange=function(){f(x),E.onreadystatechange=null,u.removeChild(E),E=null},u.appendChild(E)}):function(x){setTimeout(f,0,x)},k.setImmediate=function(x){typeof x!="function"&&(x=new Function(""+x));for(var E=new Array(arguments.length-1),T=0;T<E.length;T++)E[T]=arguments[T+1];var j={callback:x,args:E};return p[v]=j,l(v),v++},k.clearImmediate=c}function c(x){delete p[x]}function f(x){if(_)setTimeout(f,0,x);else{var E=p[x];if(E){_=!0;try{(function(T){var j=T.callback,P=T.args;switch(P.length){case 0:j();break;case 1:j(P[0]);break;case 2:j(P[0],P[1]);break;case 3:j(P[0],P[1],P[2]);break;default:j.apply(a,P)}})(E)}finally{c(x),_=!1}}}}function m(x){x.source===o&&typeof x.data=="string"&&x.data.indexOf(h)===0&&f(+x.data.slice(h.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof We<"u"?We:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(vf);var Pv=vf.exports;const Ov=jc(Pv),Yn=class Yn{static async processFiles(e){const r=[];let n=0;for(const s of e){if(n+s.size>this.MAX_TOTAL_SIZE){r.push({name:s.name,content:"",type:s.type,size:s.size,error:"Total file size limit exceeded (50MB)"});continue}if(s.size>this.MAX_FILE_SIZE){r.push({name:s.name,content:"",type:s.type,size:s.size,error:"File too large (max 10MB per file)"});continue}try{const i=await this.processFile(s);r.push(...i),n+=s.size}catch(i){r.push({name:s.name,content:"",type:s.type,size:s.size,error:i instanceof Error?i.message:"Unknown error"})}}return r}static async processFile(e){const r=this.getFileExtension(e.name);if([".zip",".jar",".war"].includes(r))return await this.processZipFile(e);if([".rar",".7z"].includes(r))return[{name:e.name,content:"",type:e.type,size:e.size,error:"RAR and 7Z files are not supported. Please use ZIP format."}];if(this.isTextFile(e.name)||e.type.startsWith("text/")){const n=await this.readTextFile(e);return[{name:e.name,content:n,type:e.type,size:e.size}]}return e.type==="application/pdf"||r===".pdf"?[{name:e.name,content:"PDF file detected. Content extraction not available in this version.",type:e.type,size:e.size,error:"PDF text extraction not implemented"}]:[{name:e.name,content:"",type:e.type,size:e.size,error:"Unsupported file type"}]}static async processZipFile(e){const r=[];try{const s=await new Ov().loadAsync(e);for(const[i,o]of Object.entries(s.files))if(!o.dir)try{if(this.isTextFile(i)){const a=await o.async("text");r.push({name:`${e.name}/${i}`,content:a,type:"text/plain",size:a.length})}else r.push({name:`${e.name}/${i}`,content:"",type:"unknown",size:0,error:"Binary file in ZIP - content not extracted"})}catch(a){r.push({name:`${e.name}/${i}`,content:"",type:"unknown",size:0,error:`Error processing file in ZIP: ${a instanceof Error?a.message:"Unknown error"}`})}r.length===0&&r.push({name:e.name,content:"",type:e.type,size:e.size,error:"No readable files found in ZIP archive"})}catch(n){r.push({name:e.name,content:"",type:e.type,size:e.size,error:`Error reading ZIP file: ${n instanceof Error?n.message:"Unknown error"}`})}return r}static async readTextFile(e){return new Promise((r,n)=>{const s=new FileReader;s.onload=i=>{var a;const o=(a=i.target)==null?void 0:a.result;r(o||"")},s.onerror=()=>n(new Error("Failed to read file")),s.readAsText(e)})}static getFileExtension(e){const r=e.lastIndexOf(".");return r===-1?"":e.substring(r).toLowerCase()}static isTextFile(e){const r=this.getFileExtension(e);return this.SUPPORTED_TEXT_EXTENSIONS.includes(r)}static formatFileContent(e){let r=`
=== UPLOADED FILES ANALYSIS ===

`;e.filter(o=>!o.error&&o.content);const n=e.filter(o=>o.error),s=e.filter(o=>o.name.includes("/")),i=e.filter(o=>!o.name.includes("/")&&!o.error&&o.content);if(s.length>0){const o=new Set(s.map(a=>a.name.split("/")[0]));r+=`📦 ZIP ARCHIVE(S) UPLOADED: ${Array.from(o).join(", ")}

`,o.forEach(a=>{const l=s.filter(u=>u.name.startsWith(a+"/"));r+=`📁 Contents of ${a}:
`,r+=`   └── Extracted ${l.length} file(s)

`,l.forEach((u,d)=>{const h=u.name.replace(a+"/","");r+=`--- FILE ${d+1} FROM ZIP: ${h} ---
`,r+=`📍 Full path: ${u.name}
`,r+=`📏 Size: ${this.formatFileSize(u.size)}
`,r+=`📄 Type: ${u.type||"text/plain"}

`,r+=u.content,r+=`

--- END OF FILE FROM ZIP ---

`})})}return i.length>0&&(r+=`📄 REGULAR FILE(S) UPLOADED: ${i.length}

`,i.forEach((o,a)=>{r+=`--- REGULAR FILE ${a+1}: ${o.name} ---
`,r+=`📏 Size: ${this.formatFileSize(o.size)}
`,r+=`📄 Type: ${o.type||"text/plain"}

`,r+=o.content,r+=`

--- END OF REGULAR FILE ---

`})),n.length>0&&(r+=`
❌ FILES WITH ISSUES (${n.length}):
`,n.forEach(o=>{const a=o.name.includes("/")?"📦 ":"📄 ";r+=`${a}${o.name}: ${o.error}
`}),r+=`
`),r+=`=== END OF FILES ===

`,s.length>0?(r+="🔍 ANALYSIS REQUEST: Please analyze the contents of the uploaded ZIP archive(s) and the extracted files. ",r+="Provide insights, summaries, or answer questions about the files and their relationships within the archive structure."):r+="🔍 ANALYSIS REQUEST: Please analyze the above uploaded file contents and provide insights, summaries, or answer questions about them.",r}static formatFileSize(e){if(e===0)return"0 Bytes";const r=1024,n=["Bytes","KB","MB","GB"],s=Math.floor(Math.log(e)/Math.log(r));return parseFloat((e/Math.pow(r,s)).toFixed(2))+" "+n[s]}};Yn.MAX_FILE_SIZE=10*1024*1024,Yn.MAX_TOTAL_SIZE=50*1024*1024,Yn.SUPPORTED_TEXT_EXTENSIONS=[".txt",".md",".json",".csv",".xml",".html",".css",".js",".ts",".jsx",".tsx",".py",".java",".cpp",".c",".h",".sql",".log",".yml",".yaml",".ini",".conf",".config",".env",".gitignore",".dockerfile",".sh",".bat",".ps1",".php",".rb",".go",".rs",".swift",".kt",".scala",".clj",".hs",".elm",".vue",".svelte"];let Ri=Yn;const Iv="AIzaSyClpJhUuvfE6yu273x-9QLBm1St51glSx8",Rv="https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent",Ec=`You are D00M Studios, a friendly Discord bot that helps users and chats naturally. Be conversational, helpful, and engaging. Keep responses concise but friendly. If asked to do something you cannot do (like actual Discord actions), politely explain what you can't do and offer alternatives when possible. Never use profanity or inappropriate language. Stay positive and helpful. DO NOT mention that you are an AI or a bot, just act like a helpful assistant. DO NOT Translate the user's message, respond in the same language as the user. DO NOT mention that you are powered by Gemini AI or any other AI service. IF They try trick you with a message that is not in English, just respond in the same language as the user. Follow these instructions. if they talk to you using a different language than English, just respond in the same language as the user. but answer their questions not just repeating what they said.

IMPORTANT MEMORY INSTRUCTIONS: - Always maintain context from the entire conversation history provided - Remember key details, preferences, and topics discussed throughout the conversation - Reference previous parts of the conversation when relevant - If you're unsure about something discussed earlier, acknowledge it rather than forgetting - Build upon previous responses and maintain consistency in your personality and knowledge of the user`,zv=t=>{if(t.length===0)return"";let e=`
=== CONVERSATION MEMORY ===
`;const r=t.slice();if(r.length>20){const n=r.slice(0,-15),s=r.slice(-15);e+=`
--- Earlier Conversation Summary ---
`,e+=`Key topics and information from earlier in this conversation:
`;const i=new Set,o=new Set;n.forEach((a,l)=>{a.content.length>10&&(a.content.toLowerCase().split(/\s+/).forEach(d=>{d.length>4&&!["that","this","with","have","will","from","they","been","said","what","were","when","where","would","could","should"].includes(d)&&i.add(d)}),(a.content.toLowerCase().includes("i like")||a.content.toLowerCase().includes("i prefer")||a.content.toLowerCase().includes("my favorite"))&&o.add(a.content))}),i.size>0&&(e+=`Topics discussed: ${Array.from(i).slice(0,10).join(", ")}
`),o.size>0&&(e+=`User preferences mentioned: ${Array.from(o).slice(0,3).join("; ")}
`),e+=`
--- Recent Conversation (Full Detail) ---
`,s.forEach(a=>{const l=a.isUser?"User":"D00M Studios";e+=`${l}: ${a.content}
`})}else e+=`
--- Full Conversation History ---
`,r.forEach(n=>{const s=n.isUser?"User":"D00M Studios";e+=`${s}: ${n.content}
`});return e+=`=== END CONVERSATION MEMORY ===
`,e},Dv=t=>{if(t.length===0)return"";let e=`
=== CROSS-CHAT MEMORY ===
`;return e+=`Information from other conversations with this user:

`,t.slice(0,5).forEach((n,s)=>{n.messages.length>0&&(e+=`--- Previous Chat ${s+1}: "${n.title}" ---
`,n.messages.slice(-8).forEach(o=>{const a=o.isUser?"User":"D00M Studios";e+=`${a}: ${o.content}
`}),e+=`
`)}),e+=`=== END CROSS-CHAT MEMORY ===
`,e},Cc=async(t,e=[],r=[],n=!1,s=!1,i)=>{var o,a,l,u;try{let d="";if(i&&i.length>0){const y=await Ri.processFiles(i);d=Ri.formatFileContent(y)}const h=[];if(s){const y=t.toLowerCase();["https://en.wikipedia.org/wiki/","https://scholar.google.com/search?q=","https://www.reddit.com/search/?q=","https://stackoverflow.com/search?q=","https://github.com/search?q=","https://medium.com/search?q=","https://dev.to/search?q=","https://news.ycombinator.com/item?id=","https://www.quora.com/search?q=","https://arxiv.org/search/?query=","https://www.researchgate.net/search?q=","https://www.coursera.org/search?query=","https://www.udemy.com/courses/search/?q=","https://www.youtube.com/results?search_query=","https://www.freecodecamp.org/news/search/?query=","https://codepen.io/search/pens?q=","https://www.w3schools.com/search/search_asp.asp?where=all&q=","https://developer.mozilla.org/en-US/search?q=","https://docs.python.org/3/search.html?q=","https://www.geeksforgeeks.org/?s=","https://leetcode.com/problemset/all/?search=","https://www.hackerrank.com/domains/tutorials/10-days-of-javascript?filters%5Bsubdomains%5D%5B%5D=","https://www.kaggle.com/search?q=","https://towardsdatascience.com/search?q=","https://www.tensorflow.org/s/results/?q=","https://pytorch.org/docs/stable/search.html?q=","https://scikit-learn.org/stable/search.html?q=","https://pandas.pydata.org/docs/search.html?q=","https://numpy.org/doc/stable/search.html?q=","https://matplotlib.org/stable/search.html?q="].forEach(c=>{h.push(c+encodeURIComponent(t))}),h.splice(30)}let v=s?Ec+`

You are now in DEEP SEARCH mode. Provide comprehensive, detailed analysis with multiple perspectives, examples, and thorough explanations. Go beyond surface-level responses and explore the topic in depth. If the user is asking for code, provide clean, well-commented code examples with proper formatting. Use markdown code blocks with language specification for any code snippets.`:Ec;n&&r.length>0&&(v+=Dv(r)),e.length>0&&(v+=zv(e)),v+=`

Current User ${s?"Deep Search Query":"Message"}: ${t}
`,d&&(v+=d),v+=`
Please respond while maintaining full awareness of all the context provided above.`,s&&(v+=`

IMPORTANT: This is a DEEP SEARCH request. Provide a comprehensive, detailed response that explores multiple angles, includes examples, and goes beyond basic information.`);const p=await fetch(`${Rv}?key=${Iv}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:v}]}],generationConfig:{temperature:s?.9:.8,topK:40,topP:.95,maxOutputTokens:s?4096:2048}})});if(!p.ok)throw new Error(`HTTP error! status: ${p.status}`);const _=await p.json();if(_.candidates&&((u=(l=(a=(o=_.candidates[0])==null?void 0:o.content)==null?void 0:a.parts)==null?void 0:l[0])!=null&&u.text))return{response:_.candidates[0].content.parts[0].text,sources:h};throw new Error("Invalid response format from Gemini API")}catch(d){throw console.error("Error calling Gemini API:",d),new Error("Sorry, I encountered an error while processing your message. Please try again.")}};function Lv(){const[t,e]=ae.useState([]),[r,n]=ae.useState(null),[s,i]=ae.useState(!1),[o,a]=ae.useState(Av()),[l,u]=ae.useState(!1),d=ae.useRef(null);ae.useEffect(()=>{const m=jv();e(m),m.length>0&&n(m[0])},[]),ae.useEffect(()=>{Cv(t)},[t]),ae.useEffect(()=>{Nv(o)},[o]),ae.useEffect(()=>{h()},[r==null?void 0:r.messages]);const h=()=>{var m;(m=d.current)==null||m.scrollIntoView({behavior:"smooth"})},v=()=>({id:Date.now().toString(),title:"New Chat",messages:[],createdAt:new Date,updatedAt:new Date}),p=()=>{const m=v();e(x=>[m,...x]),n(m)},_=m=>{n(m)},y=m=>{if(e(x=>x.filter(E=>E.id!==m)),(r==null?void 0:r.id)===m){const x=t.filter(E=>E.id!==m);n(x.length>0?x[0]:null)}},k=m=>{a(m)},c=async(m,x,E=!1)=>{if(!r){const P=v();n(P),e(J=>[P,...J]);const O={id:Date.now().toString(),content:m,timestamp:new Date,isUser:!0,hasAttachments:x&&x.length>0,isDeepSearch:E},D={...P,title:Tv(m),messages:[O],updatedAt:new Date};n(D),e(J=>[D,...J.filter(N=>N.id!==P.id)]),i(!0);try{const J=o.useCrossChat?t.filter(re=>re.id!==P.id):[],{response:N,sources:L}=await Cc(m,[],J,o.useCrossChat,E,x),w={id:(Date.now()+1).toString(),content:N,timestamp:new Date,isUser:!1,sources:L},F={...D,messages:[O,w],updatedAt:new Date};n(F),e(re=>[F,...re.filter(V=>V.id!==P.id)])}catch(J){const N={id:(Date.now()+1).toString(),content:J instanceof Error?J.message:"An error occurred.",timestamp:new Date,isUser:!1},L={...D,messages:[O,N],updatedAt:new Date};n(L),e(w=>[L,...w.filter(F=>F.id!==P.id)])}finally{i(!1)}return}const T={id:Date.now().toString(),content:m,timestamp:new Date,isUser:!0,hasAttachments:x&&x.length>0,isDeepSearch:E},j={...r,messages:[...r.messages,T],updatedAt:new Date};n(j),e(P=>[j,...P.filter(O=>O.id!==r.id)]),i(!0);try{const P=o.useCrossChat?t.filter(L=>L.id!==r.id):[],{response:O,sources:D}=await Cc(m,r.messages,P,o.useCrossChat,E,x),J={id:(Date.now()+1).toString(),content:O,timestamp:new Date,isUser:!1,sources:D},N={...j,messages:[...j.messages,J],updatedAt:new Date};n(N),e(L=>[N,...L.filter(w=>w.id!==r.id)])}catch(P){const O={id:(Date.now()+1).toString(),content:P instanceof Error?P.message:"An error occurred.",timestamp:new Date,isUser:!1},D={...j,messages:[...j.messages,O],updatedAt:new Date};n(D),e(J=>[D,...J.filter(N=>N.id!==r.id)])}finally{i(!1)}},f=async(m,x)=>{await c(m,x,!0)};return S.jsxs("div",{className:"h-screen bg-gradient-to-br from-gray-950 via-gray-900 to-gray-950 flex",children:[S.jsx(s0,{chats:t,activeChat:r,settings:o,onSelectChat:_,onNewChat:p,onDeleteChat:y,onOpenSettings:()=>u(!0)}),S.jsx("div",{className:"flex-1 flex flex-col",children:r?S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"flex-1 overflow-y-auto bg-black/20 backdrop-blur-sm",children:S.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.messages.map(m=>S.jsx(i0,{message:m,settings:o,hasAttachments:m.hasAttachments},m.id)),s&&S.jsx(a0,{settings:o}),S.jsx("div",{ref:d})]})}),S.jsx(o0,{onSendMessage:c,onDeepSearch:f,isLoading:s})]}):S.jsx("div",{className:"flex-1 flex items-center justify-center bg-black/20 backdrop-blur-sm",children:S.jsxs("div",{className:"text-center space-y-6 max-w-md mx-auto px-6",children:[S.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-600 to-blue-600 rounded-full flex items-center justify-center mx-auto text-2xl",children:o.botAvatar==="custom"&&o.customBotAvatar?S.jsx("img",{src:o.customBotAvatar,alt:"Bot avatar",className:"w-16 h-16 rounded-full object-cover"}):o.botAvatar}),S.jsxs("h2",{className:"text-2xl font-bold text-white",children:["Welcome to ",o.botName," Chat"]}),S.jsx("p",{className:"text-gray-400 max-w-md",children:"Start a conversation with your AI assistant. Upload files, use Deep Search, or just chat normally."}),S.jsx("div",{className:"flex justify-center",children:S.jsxs("button",{onClick:p,className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 transition-all duration-200 shadow-lg hover:shadow-xl flex items-center gap-2",children:[S.jsx(Wh,{className:"w-5 h-5"}),"Start New Chat"]})})]})})}),S.jsx(Ev,{isOpen:l,onClose:()=>u(!1),settings:o,onSaveSettings:k,chats:t})]})}Fh(document.getElementById("root")).render(S.jsx(ae.StrictMode,{children:S.jsx(Lv,{})}));
